<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANEXO I - FORMULARIO A: PLAN DE CONSERVACIÓN</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-omnivore@0.3.4/leaflet-omnivore.min.js"></script>
    <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #e9eef2;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- INICIO: ESTILOS PARA LA PANTALLA DE LOGIN --- */
        #loginOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(44, 62, 80, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        #loginLogo {
            max-width: 550px;
            height: auto;
            margin-bottom: 20px;
        }

        #loginFormContainer {
            background-color: #f8f9fa;
            padding: 30px 40px;
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        #loginFormContainer h2 {
            margin-top: 0;
            margin-bottom: 20px;
            color: #2c3e50;
            font-size: 1.5em;
        }

        #loginFormContainer .input-group {
            margin-bottom: 15px;
            text-align: left;
        }

        #loginFormContainer label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #495057;
        }

        #loginFormContainer input[type="text"],
        #loginFormContainer input[type="password"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 1em;
        }
        
        #loginFormContainer input:focus {
             border-color: #80bdff;
             outline: 0;
             box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
        }

        #loginButton {
            width: 100%;
            padding: 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.2s;
        }
        
        #loginButton:hover {
            background-color: #0056b3;
        }

        #loginError {
            color: #d9534f;
            margin-top: 15px;
            font-weight: bold;
            display: none;
        }
        /* --- FIN: ESTILOS PARA LA PANTALLA DE LOGIN --- */


        #pdfPrintImageHeader,
        h1#pdfPrintMainTitle,
        span#printDateGlobal,
        div#pdfPrintPageFooterStrings {
            display: none;
        }

        #mainAppContent {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        #mainAppContent > img {
            align-self: flex-start;
        }

        #mainContainer {
            max-width: 1200px; 
            width: 100%;
            background-color: #f8f9fa;
            padding: 20px 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            margin-top: 20px;
        }

        h1, h2, h3, h4, h5 {
            color: #2c3e50;
            margin-top: 0;
        }
        h1#appTitle { 
            font-size: 2.0em; 
            color: #2c3e50;
            text-align: center;
            width: 100%;
            margin-bottom: 20px; 
        }
        .main-section-title { 
            font-size: 1.6em;
            color: #1a5276;
            margin-top: 30px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #1a5276;
        }
        .sub-section-title { 
            font-size: 1.2em;
            color: #2980b9;
            margin-top: 20px;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #bdc3c7;
        }
        .static-text-section {
            background-color: #fff;
            padding: 15px 20px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
            margin-bottom: 20px;
            font-size: 0.95em;
            line-height: 1.5;
        }
        .static-text-section p, .static-text-section ul {
            margin-bottom: 10px;
            text-align: justify;
        }
        .static-text-section ul {
            padding-left: 20px;
        }
        .static-text-section li {
            margin-bottom: 5px;
        }


        .controls {
            text-align: center;
            margin-top: 20px;
            margin-bottom: 20px;
            padding: 20px 0;
            border-top: 1px solid #dee2e6;
        }
        .controls button {
            margin: 8px;
            padding: 12px 22px;
            font-size: 0.95em;
            background-color: #5cb85c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .controls button:hover {
            background-color: #4cae4c;
            transform: translateY(-1px);
        }
        .controls button:active {
            transform: translateY(0px);
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        #btnBorrarDatosIngresados { background-color: #f0ad4e; }
        #btnBorrarDatosIngresados:hover { background-color: #ec971f; }
        #btnBorrarCalculosGenerados { background-color: #d9534f; }
        #btnBorrarCalculosGenerados:hover { background-color: #c9302c; }
        #btnImprimirPDF { background-color: #007bff; }
        #btnImprimirPDF:hover { background-color: #0056b3; }


        .input-fieldset {
            border: 1px solid #ced4da;
            border-radius: 6px;
            padding: 20px 25px 25px 25px;
            margin-bottom: 30px;
            background-color: #fff;
        }
        .input-fieldset legend {
            font-weight: bold;
            color: #495057;
            padding: 0 10px;
            font-size: 1.2em;
            margin-left: 10px;
        }
        
        .input-fieldset h3 {
            margin-top: 20px;
            margin-bottom: 12px;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 6px;
            font-size: 1.1em;
            color: #343a40;
        }
         .input-section > h2, 
         .input-section > h3:not(#treeInputTable ~ h3):not(#enteredTreesTable ~ h3) {
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 8px;
            font-size: 1.3em;
        }


        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th, td {
            border: 1px solid #dee2e6;
            padding: 10px;
            text-align: left;
            vertical-align: middle;
        }
        th {
            background-color: #f1f3f5;
            font-weight: 600;
            text-align: center;
            font-size: 0.9em;
        }
        td {
             text-align: right;
             font-size: 0.9em;
        }
        td:first-child { 
            text-align: left;
        }
        .input-section label, .input-fieldset label {
            font-weight: normal;
            text-align: left;
            padding-right: 5px;
            font-size: 0.95em;
            color: #495057;
        }
        .input-fieldset label.inline-checkbox-label {
            display: flex;
            align-items: center;
            font-weight: normal;
            margin-top: 5px;
        }
        .input-fieldset input[type="checkbox"] {
            margin-right: 8px;
            width: auto;
        }

        #supParcelasM2 {
            background-color: #e9ecef; /* Readonly color */
            border: 1px solid #ced4da;
            padding: 8px 10px;
            width: auto;
            flex-grow: 1;
            max-width: 180px;
            font-size: 0.95em;
            border-radius: 4px;
            font-weight: bold;
            color: #495057;
        }
        label[for="supParcelasM2"] {
            background-color: #e6f7ff;
            padding: 9px 12px;
            font-weight: bold;
            border: 1px solid #91d5ff;
            border-right: none;
            margin-right: 0;
            border-top-left-radius: 4px;
            border-bottom-left-radius: 4px;
            font-size: 0.95em;
        }
        div.sup-parcela-container {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .input-section input[type="text"],
        .input-section input[type="number"],
        .input-section select,
        .input-fieldset input[type="text"],
        .input-fieldset input[type="number"],
        .input-fieldset select,
        .input-fieldset input[type="email"],
        .input-fieldset input[type="tel"],
        .input-fieldset textarea,
        #poaContainer textarea { 
            padding: 8px 10px;
            box-sizing: border-box;
            border: 1px solid #ced4da;
            border-radius: 4px;
            width: 100%;
            font-size: 0.95em;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            font-family: Arial, sans-serif;
            color: #333;
            text-align: justify;
        }
        .input-fieldset textarea, #poaContainer textarea {
            min-height: 50px;
            resize: vertical; 
            overflow-y: hidden;
        }
        .textarea-placeholder-style {
            color: #555; 
        }
        
        .textarea-print-content {
            display: none;
        }


        .input-section input:focus, .input-section select:focus,
        .input-fieldset input:focus, .input-fieldset select:focus,
        .input-fieldset textarea:focus, #poaContainer textarea:focus {
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
        }
        input[readonly] {
            background-color: #e9ecef;
            cursor: not-allowed;
        }

        #spanSupBosqueNativo, #spanTotalSupDetallada,
        #spanSupTotalCoberturaBoscosaIntervenida, #spanTotalPerdidaNeta,
        .calculated-span { 
            font-weight: bold;
            padding: 8px 10px;
            border: 1px solid #ced4da;
            background-color: #e9ecef;
            display: inline-block;
            min-width: 90px;
            text-align: right;
            border-radius: 4px;
            font-size: 0.95em;
            transition: color 0.3s;
        }
        .form-grid {
            display: grid;
            grid-template-columns: max-content 1fr;
            gap: 12px 18px;
            margin-bottom: 15px;
            align-items: center;
        }
        .form-grid-perdida-neta { 
             display: grid;
             grid-template-columns: max-content 1fr max-content 1fr; 
             gap: 10px 15px;
             align-items: center;
             margin-bottom: 12px;
        }
        .perdida-neta-label { grid-column: 1 / 2; }
        .perdida-neta-input { grid-column: 2 / 3; }
        .perdida-neta-calc-label { grid-column: 3 / 4; text-align: right; padding-right: 5px; }
        .perdida-neta-calc-span { 
            grid-column: 4 / 5;
            width: 100%;
        }


        .form-grid hr {
            grid-column: 1 / -1;
            margin: 8px 0;
            border-color: #dee2e6;
        }

        #treeInputTable th, #treeInputTable td {
            padding: 8px;
        }
        #treeInputTable input[type="number"], #treeInputTable select {
            width: 95%;
            padding: 8px;
        }
        #btnAddTree {
            padding: 8px 14px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
        }
        #btnAddTree:hover { background-color: #0056b3; }

        #enteredTreesTable tbody tr:nth-child(odd) {
            background-color: #f8f9fa;
        }
        #enteredTreesTable tbody tr:hover {
            background-color: #e9ecef;
        }
        #enteredTreesTable th, #enteredTreesTable td {
            padding: 8px;
        }
        #enteredTreesTable .action_column button {
            padding: 5px 10px;
            font-size: 0.85em;
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 3px;
        }
        #enteredTreesTable .action_column button:hover {
            background-color: #c82333;
        }


        .results-section, .inventory-results-section {
            background-color: #fff;
            padding: 25px;
            margin-top: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
        }
        .inventory-results-section {
            padding: 15px 20px;
            margin-top: 15px;
            border: 1px solid #d1e7dd;
        }
        .results-section > h2, .inventory-results-section > h3 { 
            font-size: 1.5em;
            color: #007bff;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
        }
        .inventory-results-section > h3 {
            font-size: 1.2em;
            color: #1a5276;
            border-bottom: 1px solid #1a5276;
        }
        .result-table-container {
            margin-bottom: 35px;
            overflow-x: auto;
            border: 1px solid #dee2e6;
            border-radius: 6px;
        }
        .result-table-container h3 {
            background-color: #6c757d;
            color: white;
            border: 1px solid #5a6268;
            padding: 12px;
            text-align: center;
            font-size: 1.15em;
            margin: 0;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
        }
        .result-table-container table {
            margin-top: 0;
        }
        .result-table-container table tbody tr:nth-child(odd) {
            background-color: #fdfdfd;
        }
        .result-table-container table tbody tr:hover {
            background-color: #f1f3f5;
        }
        
        .result-table-container tfoot tr td {
            font-weight: bold;
            background-color: #e9ecef !important;
            border-top: 2px solid #adb5bd;
        }
        
        #tablePosibilidad th, #tableResumenParcelasAB th, #tableDetalleParcelasObservado th, #tableDetalleParcelasHa th {
            font-size: 0.85em;
        }
        #tablePosibilidad td, #tableResumenParcelasAB td, #tableDetalleParcelasObservado td, #tableDetalleParcelasHa td {
            font-size: 0.85em;
        }

        #tableVolumen th, #tableAreaBasal th, #tableDensidad th, #tableToneladas th {
            font-size: 0.8em;
            padding: 5px;
        }
        #tableVolumen td, #tableAreaBasal td, #tableDensidad td, #tableToneladas td {
            font-size: 0.85em;
            padding: 6px;
        }

        .results-section thead th { vertical-align: middle; }
        
        #graficosContainer, #graficosInventarioContainer {
             display: none; 
             margin-top: 40px;
             border-top: 2px solid #dee2e6;
             padding-top: 25px;
        }
        #graficosInventarioContainer {
            border-top: 1px solid #e0e0e0;
            padding-top: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }
        #graficosContainer > h2 {
            font-size: 1.4em;
            text-align: center;
            margin-bottom: 25px;
            color: #28a745;
        }
        .chart-container {
            width: 98%;
            max-width: 750px;
            margin: 30px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #f0f0f0;
        }
        #graficosInventarioContainer .chart-container {
            margin: 0;
            width: 100%;
        }
        .chart-container h4 {
            text-align: center;
            margin-bottom: 20px;
            color: #495057;
            font-size: 1.1em;
        }

        #planillaCampoContainer { display: none; } 

        /* --- ESTILOS PARA EL COMPONENTE DE MAPA (SECCIÓN 8) --- */
        .map-component-wrapper {
            background-color: white;
            padding: 15px;
            border-radius: 6px;
        }
        .map-page-container {
            width: 100%;
            margin: 0 auto;
            background-color: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        .map-container {
            height: 400px;
            width: 100%;
            position: relative;
            border-bottom: 2px solid #e0e0e0;
        }
        #mapa-kml { height: 100%; width: 100%; }
        .map-controls-container {
            padding: 15px;
            background-color: #f8f9fa;
        }
        .map-controls-header {
            text-align: center;
            margin-bottom: 15px;
            color: #333;
            font-size: 1.1em;
            font-weight: bold;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }
        .map-controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Ajustado para 3 columnas */
            gap: 15px;
            margin-bottom: 15px;
        }
        .map-layer-control {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: #fff;
            font-size: 0.9em;
        }
        .map-layer-control h4 {
            margin: 0 0 8px 0;
            color: #333;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .map-file-input-group { margin-bottom: 8px; }
        .map-file-input-group label {
            display: block;
            margin-bottom: 3px;
            font-weight: bold;
            color: #555;
            font-size: 0.95em;
        }
        .map-file-input-group input[type="file"] {
            width: 100%;
            padding: 4px;
            border: 1px solid #ddd;
            border-radius: 3px;
            background-color: white;
            font-size: 0.9em;
        }
        .map-checkbox-group { margin-top: 8px; }
        .map-checkbox-group label {
            display: flex;
            align-items: center;
            font-weight: normal;
            cursor: pointer;
        }
        .map-checkbox-group input[type="checkbox"] { margin-right: 8px; }
        .map-color-indicator {
            width: 18px;
            height: 18px;
            border-radius: 4px;
            margin-right: 8px;
            border: 1px solid #ccc;
        }
        .map-button-row {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 10px;
        }
        .map-btn {
            background-color: #007bff;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.2s;
        }
        .map-btn:hover { background-color: #0056b3; }
        .map-btn.clear { background-color: #dc3545; }
        .map-btn.clear:hover { background-color: #c82333; }
        .map-status {
            margin-top: 10px; padding: 8px; border-radius: 4px;
            font-size: 0.9em; text-align: center; display: none;
        }
        .map-status.success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .map-status.error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .map-coordinates, .map-title {
            position: absolute; background-color: rgba(255, 255, 255, 0.9);
            padding: 4px 8px; border-radius: 3px; font-size: 0.8em; z-index: 1000; border: 1px solid #ccc;
        }
        .map-coordinates { bottom: 10px; left: 10px; }
        .map-title { top: 10px; left: 80px; font-weight: bold; font-size: 1em; }


        /* --- INICIO: ESTILOS PARA POAs DINÁMICOS --- */
        #poaContainer details {
            border: 1px solid #bdc3c7;
            border-radius: 6px;
            margin-bottom: 15px;
            background-color: #fdfdfd;
        }
        #poaContainer summary {
            font-weight: bold;
            font-size: 1.3em;
            padding: 15px;
            cursor: pointer;
            background-color: #ecf0f1;
            border-radius: 5px 5px 0 0;
            color: #34495e;
            border-bottom: 1px solid #bdc3c7;
        }
        #poaContainer details[open] summary {
            background-color: #3498db;
            color: white;
        }
        #poaContainer .poa-content {
            padding: 20px;
        }
        .poa-reuse-text-label {
            display: flex;
            align-items: center;
            font-style: italic;
            color: #2c3e50;
            background-color: #ecf0f1;
            padding: 8px;
            border-radius: 4px;
            margin-top: -5px;
            margin-bottom: 10px;
        }
        .poa-reuse-text-label input {
            margin-right: 10px;
        }
        .poa-gantt-table th, .poa-gantt-table td {
            text-align: center;
        }
        .poa-gantt-table td:first-child {
            text-align: left;
        }
        /* Estilos para la tabla de presupuesto */
        .poa-budget-table {
            font-size: 0.9em;
        }
        .poa-budget-table th, .poa-budget-table td {
            padding: 6px 8px;
            font-size: 0.9em;
        }
        .poa-budget-table .area-cell {
            font-weight: bold;
            background-color: #f2f2f2;
            vertical-align: middle;
            text-align: center;
        }
        .poa-budget-table .rubro-cell {
            text-align: left;
            padding-left: 15px;
        }
        .poa-budget-table .subtotal-row td:first-child {
            text-align: right;
            padding-right: 10px;
            font-weight: bold;
        }
        .poa-budget-table .subtotal-row td {
            font-weight: bold;
            background-color: #e9ecef;
        }
        .poa-budget-table .total-row td {
            font-weight: bold;
            background-color: #d1e7dd; /* Verde claro */
            font-size: 1.1em;
        }
        .poa-budget-table .total-row td:first-child {
            text-align: right;
            padding-right: 10px;
        }
        .poa-budget-table input[type="text"] {
            text-align: right;
            -moz-appearance: textfield; /* Firefox */
        }
        .poa-budget-table input::-webkit-outer-spin-button,
        .poa-budget-table input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .poa-budget-table input[type="text"]::placeholder {
            text-align: center;
            color: #555;
        }



        .firmas-section-print {
            display: none;
        }

        /* --- FIN: ESTILOS PARA POAs DINÁMICOS --- */

        /* --- ESTILOS MAPA POA --- */
        .poa-map-section { border: 1px solid #c8d8e8; border-radius: 6px; margin: 14px 0; overflow: hidden; }
        .poa-map-header { background: #1a5276; color: white; padding: 8px 14px; font-weight: bold; font-size: 0.95em; }
        .poa-map-controls { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; padding: 10px 14px; background: #f4f8fc; border-bottom: 1px solid #d6e4ef; }
        .poa-map-controls label { display: flex; flex-direction: column; font-size: 0.83em; color: #333; gap: 3px; border: 1px solid #b0c4d8; border-radius: 4px; padding: 5px 8px; background: #fff; cursor: pointer; }
        .poa-map-controls label:hover { background: #e8f0fe; border-color: #4285f4; }
        .poa-map-controls .btn-map-poa { background: #495057; color: white; border: none; border-radius: 4px; padding: 6px 12px; cursor: pointer; font-size: 0.83em; }
        .poa-map-controls .btn-map-poa:hover { background: #5a6268; }
        .poa-map-leaflet { height: 320px; width: 100%; }
        .poa-map-status { font-size: 0.88em; padding: 6px 14px; display: none; }
        .poa-map-print-img { display: none; }
        /* --- FIN ESTILOS MAPA POA --- */

        @media print {
            /* Ocultar el login y footer en la impresión */
            #loginOverlay, #developer-footer {
                display: none !important;
            }
            
            /* Asegurar que el contenido principal sea visible en la impresión */
            #mainAppContent {
                display: flex !important;
            }

            body {
                margin: 0;
                padding: 0;
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                font-size: 9pt;
                line-height: 1.3;
                background-color: #fff !important;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            body > *:not(#mainAppContent) {
                display: none !important;
            }
            
            #mainAppContent > *:not(#pdfPrintImageHeader):not(h1#pdfPrintMainTitle):not(span#printDateGlobal):not(#mainContainer) {
                 display: none !important;
            }

            #pdfPrintImageHeader {
                display: flex !important;
                justify-content: flex-start;
                width: 100%;
                margin-bottom: 8mm;
            }
            #pdfPrintImageHeader img {
                max-width: 500px;
                width: auto;
                height: auto;
            }
            
            h1#pdfPrintMainTitle {
                display: block !important;
                font-size: 16pt !important;
                line-height: 1.4;
                font-weight: bold;
                text-align: center !important;
                margin: 0 0 3mm 0 !important;
                color: #000 !important;
                width: 100%;
            }
            span#printDateGlobal {
                display: block !important;
                text-align: center;
                font-size: 8.5pt !important;
                margin-bottom: 5mm !important; 
                color: #000 !important;
                width: 100%;
            }

            #mainContainer {
                box-shadow: none;
                padding: 0;
                border-radius: 0;
                margin-top: 0;
                max-width: 100%;
                width: 100% !important;
            }
            
            h1#appTitle,
            #mainContainer > img,
            .controls, 
            #btnImprimirPDF,
            .input-section #treeInputTable, 
            .input-section #treeInputTable ~ h4,
            .input-section #enteredTreesTable, 
            .input-section .sup-parcela-container + p,
            .input-section #sup-parcela-container-wrapper > h4,
            .input-section #btnAddTree,
            .input-section th.action_column, .input-section td.action_column,
            #poaSection .input-fieldset, 
            #poaSection > .main-section-title
             {
                display: none !important;
            }
            /* EXCEPCION: mostrar el fieldset que contiene el mapa POA */
            /* El fieldset padre tiene display:none, pero el mapa debe verse.
               La solucion es override en el fieldset mismo usando :has() si el navegador lo soporta,
               o directamente sobrescribir para todos los input-fieldset dentro de poa-content */
            #poaContainer .input-fieldset {
                display: block !important;
                border: none !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            #poaContainer .input-fieldset > legend,
            #poaContainer .input-fieldset > .form-grid {
                display: none !important;
            }
            #poaContainer .poa-map-section {
                display: block !important;
            }
            
            #graficosContainer,
            #graficosInventarioContainer,
            #planillaCampoContainer,
            .textarea-print-content,
            .results-section,
            #pdfPrintHeaderWrapperForRunningElement,
            .firmas-section-print { 
                 display: block !important;
                 visibility: visible !important;
            }
            
            /* --- INICIO: REGLAS DE IMPRESIÓN PARA POAs --- */
            /* Mapa POA: mostrar Leaflet directamente como el mapa principal */
            .poa-map-section { display: block !important; page-break-inside: avoid; border: 1px solid #aaa !important; margin: 4mm 0 !important; }
            .poa-map-leaflet { display: block !important; height: 85mm !important; width: 100% !important; }
            .poa-map-print-img { display: none !important; }
            .poa-map-controls { display: none !important; }
            .poa-map-status { display: none !important; }
            .poa-details-wrapper {
                page-break-before: always;
            }

            #poaContainer details {
                page-break-inside: avoid;
                border: 1px solid #888 !important;
            }
            #poaContainer details[open] {
                display: block !important;
            }
            #poaContainer summary {
                display: none; /* Ocultar el 'details' en la impresión, mostrar el H2 */
            }
            .poa-content > .main-section-title {
                display: block !important;
            }

            #poaContainer .form-grid, .poa-reuse-text-label {
                 page-break-inside: avoid;
            }
            .poa-reuse-text-label {
                display: none !important; /* Ocultar el checkbox de reusar texto */
            }
            .poa-budget-table input[type="text"] {
                border: none !important;
                background-color: transparent !important;
                box-shadow: none !important;
                font-size: 7.5pt !important;
                color: #000 !important;
            }
             /* --- FIN: REGLAS DE IMPRESIÓN PARA POAs --- */


            .input-fieldset textarea,
            #poaContainer .auto-resize-textarea { 
                display: none !important;
            }
            .textarea-print-content {
                display: block !important;
                border: 1px solid #ccc !important;
                background-color: #f9f9f9 !important;
                padding: 1.5mm 2mm !important;
                font-size: 8pt !important;
                font-family: Arial, sans-serif;
                line-height: 1.4 !important;
                width: 100% !important;
                min-height: 20px;
                white-space: pre-wrap;
                word-wrap: break-word;
                page-break-inside: auto;
                text-align: justify;
            }
            
            .results-section, .inventory-results-section {
                width: 100%;
                box-shadow: none;
                border: none;
                margin: 0;
                padding: 0;
            }
            
            #pdfPrintHeaderWrapperForRunningElement {
                margin-bottom: 5mm; 
            }
            #datosPredioParaImprimir {
                position: running(propertyPageHeader);
                font-size: 8pt;
                line-height: 1.3;
                margin: 0 !important;
                padding: 0 !important;
                border-bottom: none !important;
            }
            
            #datosPredioParaImprimir p {
                text-align: center;
                width: 100%;
                margin: 0;
                padding: 0;
                font-size: 7.5pt;
                color: #333;
                border-bottom: 0.5px solid #ccc;
                padding-bottom: 1.5mm;
            }
             #datosPredioParaImprimir p strong {
                margin: 0 5mm;
             }

            .input-fieldset {
                border: 1px solid #aaa !important;
                padding: 10px 15px;
                margin-bottom: 3mm;
                page-break-inside: auto;
            }
            .input-fieldset legend { font-size: 10pt !important; }
            
            .static-text-section p, .static-text-section ul, .static-text-section li { font-size: 8.5pt !important; text-align: justify; }

            .main-section-title, .sub-section-title { 
                font-size: 11pt !important; color: #000 !important; border-bottom: 1px solid #555 !important;
                margin-top: 4mm; margin-bottom: 2mm; text-align: left;
                page-break-after: avoid;
            }
            .sub-section-title {
                font-size: 10pt !important;
                border-bottom-style: dashed !important;
            }

            .result-table-container, .chart-container {
                page-break-inside: avoid;
            }
            
            .map-component-wrapper { border: 1px solid #000; padding: 2mm; page-break-inside: avoid; }
            .map-page-container { box-shadow: none !important; border: none !important; }
            .map-container { height: 120mm !important; border-bottom: 1px solid #000 !important; }
            .map-controls-container {
                display: block !important;
                background: transparent !important;
                padding: 2mm 0 0 0 !important;
                border-top: 1px solid #000 !important;
            }
            .map-controls-container .map-file-input-group,
            .map-controls-container .map-checkbox-group,
            .map-controls-container .map-button-row,
            .map-controls-container #map-status {
                display: none !important;
            }
            .map-layer-control {
                border: none !important;
                padding: 0.5mm !important;
                background-color: transparent !important;
            }
            .map-layer-control h4 {
                font-size: 8pt !important;
                margin: 0 !important;
            }
            .map-title { font-size: 10pt !important; border: 1px solid #000 !important; background: white !important; }
            .map-coordinates {
                display: block !important; visibility: visible !important; position: absolute !important; bottom: 2mm !important;
                left: 2mm !important; background: white !important; border: 0.5px solid #333 !important;
                padding: 1mm 2mm !important; font-size: 7pt !important; color: #000 !important; z-index: 4000 !important;
            }
            .leaflet-control-container { display: none !important; }
            
            th, td {
                font-size: 6.5pt;
                padding: 2px;
                border: 1px solid #555 !important; 
                color: #000 !important;
                word-wrap: break-word;
            }
            th { background-color: #e9ecef !important; }
            td:first-child { 
                font-size: 6.5pt;
            }
            
            .result-table-container tfoot tr td {
                font-weight: bold;
                background-color: #e9ecef !important;
                border-top: 2px solid #555 !important;
            }

            .result-table-container h3 { 
                 padding: 4px; background-color: #d1e7dd !important; border: 1px solid #a3cfbb !important;
                 font-size: 9.5pt; color: #000 !important;
            }
            .results-section > h2, .inventory-results-section > h3,
            .results-section > h3.sub-section-title {
                font-size: 11pt; margin-top: 3mm; margin-bottom: 3mm; border-bottom: 1px solid #888 !important;
                color: #000 !important; text-align: center;
            }

            .chart-container {
                width: 100% !important; max-width: 100% !important; margin: 8mm 0; box-shadow: none;
                border: 1px solid #ccc; padding: 8px;
            }
            .chart-container canvas { max-width: 100%; height: auto !important; }
            .chart-container h4 { font-size: 8.5pt; color: #000 !important; margin-bottom: 6px; }

            #planillaCampoContainer h2 { margin-bottom: 5mm; }
            #tablePlanillaCampo { width: 100%; margin-bottom: 5mm;}
            #tablePlanillaCampo th, #tablePlanillaCampo td { font-size: 7.5pt; padding: 3px; }
            #tablePlanillaCampo th { text-align: center; }
            #tablePlanillaCampo td { text-align: right; }
            #tablePlanillaCampo td:nth-child(2) { text-align: left; } 

            .firmas-section-print {
                margin-top: 10mm !important; padding-top: 8mm !important; page-break-before: auto;
                border-top: 1px solid #888 !important;
                page-break-inside: avoid;
            }
            .firmas-section-print * { visibility: visible !important; }
            .firmas-section-print table td {
                border: none !important; font-size: 8pt !important; padding: 4px !important;
                color: #000 !important; vertical-align: top;
            }
            .firmas-section-print span[style*="display:block"] { margin-bottom: 20px !important; }
            .firma-detalle { font-size: 7.5pt !important; line-height: 1.3; }

            table { page-break-inside: auto; }
            tr { page-break-inside: avoid; page-break-after: auto; }
            thead { display: table-header-group !important; }

            #pageFooterEstablecimiento { string-set: establecimiento content(text); }
            #pageFooterPartida { string-set: partida content(text); }
            #pageFooterDepartamento { string-set: departamento content(text); }

            @page {
                size: A4 portrait;
                margin: 25mm 15mm 20mm 15mm; 

                @top-center {
                    content: element(propertyPageHeader);
                    font-size: 7.5pt;
                    color: #333;
                    padding-bottom: 2mm;
                    vertical-align: top;
                    height: 15mm;
                    box-sizing: border-box;
                }

                @bottom-center {
                    content: "Dirección de Recursos Forestales - Perú 1120 C.P.: W3400 Corrientes bosquesnativos@corrientes.gob.ar  |  Hoja " counter(page) " de " counter(pages);
                    font-size: 7.5pt;
                    color: #555;
                    padding-top: 3mm;
                    border-top: 0.5px solid #ddd;
                    vertical-align: top;
                }
            }
        }
        #ecoregionSelectorBox {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border: 2px solid #2E7D32;
            border-radius: 8px;
            padding: 16px 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 12px;
        }
        #ecoregionSelectorBox label {
            font-weight: bold;
            color: #1B5E20;
            font-size: 1.05em;
            white-space: nowrap;
        }
        #selEcoregion {
            padding: 9px 14px;
            border: 2px solid #2E7D32;
            border-radius: 6px;
            font-size: 1em;
            background-color: #fff;
            color: #333;
            cursor: pointer;
            min-width: 280px;
            flex-grow: 1;
        }
        #selEcoregion:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(46,125,50,0.25);
        }
        #ecoregionBadge {
            display: none;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            background-color: #2E7D32;
            color: white;
        }
        #ecoregionWarning {
            display: none;
            color: #E65100;
            font-size: 0.88em;
            font-weight: bold;
            margin-top: 5px;
            width: 100%;
        }
        /* --- FIN ESTILOS ECORREGIÓN --- */
    </style>
</head>
<body>

    <!-- --- INICIO: PANTALLA DE LOGIN --- -->
    <div id="loginOverlay">
        <div id="loginFormContainer">
            <img src="membrete_provincia.png" alt="Logo Provincia" id="loginLogo">
            <form id="loginForm">
                <h2>ANEXO I - FORMULARIO A</h2>
                <div class="input-group">
                    <label for="inputUsername">Usuario</label>
                    <input type="text" id="inputUsername" name="username" required>
                </div>
                <div class="input-group">
                    <label for="inputPassword">Contraseña</label>
                    <input type="password" id="inputPassword" name="password" required>
                </div>
                <button type="submit" id="loginButton">Ingresar</button>
                <div id="loginError"></div>
            </form>
        </div>
    </div>
    <!-- --- FIN: PANTALLA DE LOGIN --- -->
    
    <!-- Contenedor para la aplicación principal, oculto por defecto -->
    <div id="mainAppContent">
        <div id="pdfPrintImageHeader">
            <img src="membrete_provincia.png" alt="Membrete Provincia" width="800" height="400">
        </div>

        <h1 id="pdfPrintMainTitle">
            ANEXO I - FORMULARIO A: PLAN DE CONSERVACIÓN
        </h1>
        <span id="printDateGlobal"></span>
        <div id="pdfPrintPageFooterStrings" style="display:none;">
            <span id="pageFooterEstablecimiento"></span>
            <span id="pageFooterPartida"></span>
            <span id="pageFooterDepartamento"></span>
        </div>
        
        <img src="membrete_provincia.png" alt="Membrete Provincia" width="500" height="100">
        <div id="mainContainer">
            <h1 id="appTitle">ANEXO I - FORMULARIO A: PLAN DE CONSERVACIÓN</h1>
        
            <div id="pdfPrintHeaderWrapperForRunningElement" style="display: none;">
                <div id="datosPredioParaImprimir">
                </div>
            </div>

            <!-- ========= INICIO: SECCIÓN DEL PLAN TÉCNICO ========= -->
            <div id="planTecnicoSection">
                <div class="static-text-section">
                    <h4>DE LOS PLANES DE CONSERVACIÓN (PC) <span style="font-weight:normal; font-size:0.9em;">(Disposición de la Secretaria de Desarrollo Foresto Industrial 031/2022; Disposición de la Dirección de Recursos Forestales 034/2014 y Resoluciones COFEMA 277/2014; 360/2018; 497/2022).</span></h4>
                    <p><b>a)</b> El Plan de Conservación es el documento que sintetiza la organización, medios y recursos, en el tiempo y en el espacio, de las medidas específicas para mantener o incrementar los atributos de conservación de un bosque nativo o grupo de bosques nativos y/o del aprovechamiento sostenible de sus recursos no maderables y servicios, para lo cual debe incluir una descripción pormenorizada del terreno forestal en sus aspectos ecológicos, legales, sociales y económicos y, en particular, un inventario forestal y/o del recurso no maderable objeto de aprovechamiento con un nivel de detalle tal que permita la toma de decisiones en cuanto a la silvicultura o conjunto de pautas de uso a aplicar en cada una de las unidades de bosque nativo. En caso de existir presencia de herbívora, debe probarse que la carga no disminuye los valores de conservación o, en caso contrario, prever las medidas para que esto no suceda.</p>
                    <p><b>b)</b> Los Planes de Conservación (PC) pueden ser presentados por beneficiarios para bosques clasificados en cualquier categoría de conservación.</p>
                    <p><b>c)</b> Los objetivos y actividades propuestas en los PC deben asegurar: Que no se ejecuta para aprovechar comercialmente la madera (aunque pudiera comercializarse la madera extraída con otros objetivos). Que cualquier actividad que se realice, ya sea con fines comerciales o sin ellos, mantenga o incremente los atributos de conservación.</p>
                    <p><b>d)</b> Modalidades o variantes de un PC: aprovechamiento de productos no madereros y servicios (PNMyS); mantenimiento del potencial de conservación (CON); recuperación del potencial de conservación mediante enriquecimiento, restauración u otras (REC).</p>
                    <p><b>e)</b> Los lineamientos técnicos estratégico en los cuales se pueden incluir los planes de conservación son: Restauración de Bosques Degradados (Según la Ley N° 26.331, se entiende por bosque nativo degradado o en proceso de degradación a aquel bosque que, con respecto al original, ha perdido su estructura, funciones, composición de especies y/o su productividad) . Uso sustentable de la Biodiversidad y Fortalecimiento de Áreas de Conservación. (Predios o territorios colindantes a Áreas Protegidas, orientados al desarrollo de productos no madereros, fomento del ecoturismo, restauración entre otros usos múltiples, con el fin de aportar a la función estratégica de conservación asignada al área protegida).</p>
                </div>
        
                <div class="input-section">
                    <h2 class="main-section-title">1. LINEAMIENTO TECNICO ESTRATÉGICO </h2>
                    <fieldset class="input-fieldset">
                        <legend>Seleccione Lineamiento</legend>
                        <div class="form-grid" style="grid-template-columns: max-content 1fr;"> 
                            <label for="selectTipoPlan">Tipo de Lineamiento:</label>
                            <select id="selectTipoPlan">
                                <option value="conservacion_restauracion">Restauración de Bosques degradados</option>
                                <option value="conservacion_sustentable">Uso sustentable de la biodiversidad y fortalecimiento de Áreas de Conservación</option>
                            </select>
                        </div>
                    </fieldset>
        
                    <h2 class="main-section-title">2. DATOS DEL TITULAR REGISTRAL DEL INMUEBLE</h2>
                    <fieldset class="input-fieldset">
                        <legend>Información del Titular Registral</legend>
                        <div class="form-grid">
                            <label for="inputTitular">Titular:</label>
                            <input type="text" id="inputTitular">
                            <label for="inputDNI">DNI / CUIT Titular:</label>
                            <input type="text" id="inputDNI">
                            <label for="inputTitularDomicilio">Domicilio Legal:</label>
                            <input type="text" id="inputTitularDomicilio">
                            <label for="inputTitularTelefono">Teléfono:</label>
                            <input type="tel" id="inputTitularTelefono">
                            <label for="inputTitularEmail">Email:</label>
                            <input type="email" id="inputTitularEmail">
                        </div>
                    </fieldset>
        
                    <h2 class="main-section-title">3. TITULAR DEL PROYECTO</h2>
                    <fieldset class="input-fieldset">
                        <legend>Información del Titular del Proyecto</legend>
                        <label class="inline-checkbox-label">
                            <input type="checkbox" id="checkMismoTitularProyecto"> Mismo que Titular Registral
                        </label>
                        <div class="form-grid">
                            <label for="inputTitularProyectoNombre">Nombre y Apellido / Razón Social:</label>
                            <input type="text" id="inputTitularProyectoNombre">
                            <label for="inputTitularProyectoCUIT">CUIT / CUIL:</label>
                            <input type="text" id="inputTitularProyectoCUIT">
                            <label for="inputTitularProyectoDomicilio">Domicilio Legal:</label>
                            <input type="text" id="inputTitularProyectoDomicilio">
                            <label for="inputTitularProyectoTelefono">Teléfono:</label>
                            <input type="tel" id="inputTitularProyectoTelefono">
                            <label for="inputTitularProyectoEmail">Email:</label>
                            <input type="email" id="inputTitularProyectoEmail">
                        </div>
                    </fieldset>
        
                    <h2 class="main-section-title">4. DATOS DEL REPRESENTANTE LEGAL DEL PROYECTO (si corresponde)</h2>
                    <fieldset class="input-fieldset">
                        <legend>Información del Representante Legal</legend>
                        <label class="inline-checkbox-label">
                            <input type="checkbox" id="checkRepLegalNoAplica"> No Aplica / Mismos datos que Titular del Proyecto
                        </label>
                        <div class="form-grid">
                            <label for="inputRepLegalNombre">Nombre y Apellido:</label>
                            <input type="text" id="inputRepLegalNombre">
                            <label for="inputRepLegalDNI">DNI:</label>
                            <input type="text" id="inputRepLegalDNI">
                            <label for="inputRepLegalCargo">Cargo / Carácter:</label>
                            <input type="text" id="inputRepLegalCargo">
                            <label for="inputRepLegalDomicilio">Domicilio:</label>
                            <input type="text" id="inputRepLegalDomicilio">
                            <label for="inputRepLegalTelefono">Teléfono:</label>
                            <input type="tel" id="inputRepLegalTelefono">
                        </div>
                    </fieldset>
        
                    <h2 class="main-section-title">5. RESPONSABLE TÉCNICO DEL PROYECTO</h2>
                    <fieldset class="input-fieldset">
                        <legend>Datos del Técnico Responsable</legend>
                        <div class="form-grid">
                            <label for="inputTecnicoNombre">Nombre y Apellido:</label>
                            <input type="text" id="inputTecnicoNombre">
                            <label for="inputTecnicoMatricula">Matrícula N°:</label>
                            <input type="text" id="inputTecnicoMatricula">
                            <label for="inputTecnicoDomicilio">Domicilio Profesional:</label>
                            <input type="text" id="inputTecnicoDomicilio">
                            <label for="inputTecnicoTelefono">Teléfono Profesional:</label>
                            <input type="tel" id="inputTecnicoTelefono">
                            <label for="inputTecnicoEmail">Email Profesional:</label>
                            <input type="email" id="inputTecnicoEmail">
                        </div>
                    </fieldset>
                </div>
        
                <div class="input-section">
                    <h2 class="main-section-title">7. DATOS DEL INMUEBLE</h2>
                    <fieldset class="input-fieldset">
                        <legend>Detalles del Inmueble</legend>
                        <div class="form-grid" id="inmueble-grid">
                            <label for="inputEstablecimiento">Nombre Establecimiento:</label>
                            <input type="text" id="inputEstablecimiento">
                            <label for="inputPartidaInmobiliaria">Partida Inmobiliaria:</label>
                            <input type="text" id="inputPartidaInmobiliaria">
                            <label for="selectLocalidad">Localidad:</label>
                            <select id="selectLocalidad" onchange="(function(sel){var map={'ALVEAR':'GENERAL ALVEAR','BELLA VISTA':'BELLA VISTA','BERON DE ASTRADA':'BERON DE ASTRADA','CHAVARRIA':'SAN ROQUE','COLONIA CARLOS PELLEGRINI':'SAN MARTIN','COLONIA LIEBIGS':'ITUZAINGO','CONCEPCION':'CONCEPCION','CORRIENTES':'CAPITAL','CURUZU CUATIA':'CURUZU CUATIA','EL SOMBRERO':'EMPEDRADO','EMPEDRADO':'EMPEDRADO','ESQUINA':'ESQUINA','FELIPE YOFRE':'MERCEDES','GARRUCHOS':'SANTO TOME','GOBERNADOR AGR. VALENTIN VIRASORO':'SANTO TOME','GOBERNADOR JUAN E. MARTINEZ':'LAVALLE','GOYA':'GOYA','GUAVIRAVI':'SAN MARTIN','ITA IBATE':'GENERAL PAZ','ITATI':'ITATI','ITUZAINGO':'ITUZAINGO','LA CRUZ':'SAN MARTIN','LAGUNA BRAVA':'CAPITAL','LAVALLE':'LAVALLE','LORETO':'SAN MIGUEL','MARIANO I. LOZA':'MERCEDES','MBURUCUYA':'MBURUCUYA','MERCEDES':'MERCEDES','MOCORETA':'MONTE CASEROS','MONTE CASEROS':'MONTE CASEROS','NUESTRA SENORA DEL ROSARIO DE CAA CATI':'GENERAL PAZ','9 DE JULIO':'SAN ROQUE','PASO DE LA PATRIA':'SAN COSME','PASO DE LOS LIBRES':'PASO DE LOS LIBRES','PEDRO R. FERNANDEZ':'SAN ROQUE','PERUGORRIA':'CURUZU CUATIA','SALADAS':'SALADAS','SAN ANTONIO':'ITUZAINGO','SAN CARLOS':'ITUZAINGO','SAN COSME':'SAN COSME','SAN LORENZO':'SALADAS','SAN LUIS DEL PALMAR':'SAN LUIS DEL PALMAR','SAN MIGUEL':'SAN MIGUEL','SAN ROQUE':'SAN ROQUE','SANTA ANA':'SAN COSME','SANTA LUCIA':'LAVALLE','SANTA ROSA':'CONCEPCION','SANTO TOME':'SANTO TOME','SAUCE':'SAUCE','VILLA OLIVARI':'ITUZAINGO','YAPEYU':'SAN MARTIN'};var d=document.getElementById('inputDepartamento');if(d)d.value=map[sel.value]||'';})(this)">
                                <option value="">-- Seleccione una localidad --</option>
                                <option value="9 DE JULIO">9 DE JULIO</option>
                                <option value="ALVEAR">ALVEAR</option>
                                <option value="BELLA VISTA">BELLA VISTA</option>
                                <option value="BERON DE ASTRADA">BERON DE ASTRADA</option>
                                <option value="CHAVARRIA">CHAVARRIA</option>
                                <option value="COLONIA CARLOS PELLEGRINI">COLONIA CARLOS PELLEGRINI</option>
                                <option value="COLONIA LIEBIGS">COLONIA LIEBIGS</option>
                                <option value="CONCEPCION">CONCEPCION</option>
                                <option value="CORRIENTES">CORRIENTES</option>
                                <option value="CURUZU CUATIA">CURUZU CUATIA</option>
                                <option value="EL SOMBRERO">EL SOMBRERO</option>
                                <option value="EMPEDRADO">EMPEDRADO</option>
                                <option value="ESQUINA">ESQUINA</option>
                                <option value="FELIPE YOFRE">FELIPE YOFRE</option>
                                <option value="GARRUCHOS">GARRUCHOS</option>
                                <option value="GOBERNADOR AGR. VALENTIN VIRASORO">GOBERNADOR AGR. VALENTIN VIRASORO</option>
                                <option value="GOBERNADOR JUAN E. MARTINEZ">GOBERNADOR JUAN E. MARTINEZ</option>
                                <option value="GOYA">GOYA</option>
                                <option value="GUAVIRAVI">GUAVIRAVI</option>
                                <option value="ITA IBATE">ITA IBATE</option>
                                <option value="ITATI">ITATI</option>
                                <option value="ITUZAINGO">ITUZAINGO</option>
                                <option value="LA CRUZ">LA CRUZ</option>
                                <option value="LAGUNA BRAVA">LAGUNA BRAVA</option>
                                <option value="LAVALLE">LAVALLE</option>
                                <option value="LORETO">LORETO</option>
                                <option value="MARIANO I. LOZA">MARIANO I. LOZA</option>
                                <option value="MBURUCUYA">MBURUCUYA</option>
                                <option value="MERCEDES">MERCEDES</option>
                                <option value="MOCORETA">MOCORETA</option>
                                <option value="MONTE CASEROS">MONTE CASEROS</option>
                                <option value="NUESTRA SENORA DEL ROSARIO DE CAA CATI">NUESTRA SENORA DEL ROSARIO DE CAA CATI</option>
                                <option value="PASO DE LA PATRIA">PASO DE LA PATRIA</option>
                                <option value="PASO DE LOS LIBRES">PASO DE LOS LIBRES</option>
                                <option value="PEDRO R. FERNANDEZ">PEDRO R. FERNANDEZ</option>
                                <option value="PERUGORRIA">PERUGORRIA</option>
                                <option value="SALADAS">SALADAS</option>
                                <option value="SAN ANTONIO">SAN ANTONIO</option>
                                <option value="SAN CARLOS">SAN CARLOS</option>
                                <option value="SAN COSME">SAN COSME</option>
                                <option value="SAN LORENZO">SAN LORENZO</option>
                                <option value="SAN LUIS DEL PALMAR">SAN LUIS DEL PALMAR</option>
                                <option value="SAN MIGUEL">SAN MIGUEL</option>
                                <option value="SAN ROQUE">SAN ROQUE</option>
                                <option value="SANTA ANA">SANTA ANA</option>
                                <option value="SANTA LUCIA">SANTA LUCIA</option>
                                <option value="SANTA ROSA">SANTA ROSA</option>
                                <option value="SANTO TOME">SANTO TOME</option>
                                <option value="SAUCE">SAUCE</option>
                                <option value="VILLA OLIVARI">VILLA OLIVARI</option>
                                <option value="YAPEYU">YAPEYU</option>
                            </select>
                            <label for="inputDepartamento">Departamento:</label>
                            <input type="text" id="inputDepartamento" readonly>
                            <label for="inputProvincia">Provincia:</label>
                            <input type="text" id="inputProvincia" value="CORRIENTES" readonly>
                        </div>
                    </fieldset>
        
                    <h2 class="main-section-title">8. UBICACIÓN GEOGRÁFICA</h2>
                    <fieldset class="input-fieldset" id="map-component-fieldset">
                        <legend>Carga de Capas KML y Visualización de Ordenamiento</legend>
                        <div class="map-component-wrapper">
                            <div class="map-page-container">
                                <div class="map-container">
                                    <div id="mapa-kml"></div>
                                    <div class="map-title">Mapa de Ubicación</div>
                                    <div class="map-coordinates" id="map-coordinates-display">
                                        Lat: ---, Lng: ---
                                    </div>
                                </div>
                                
                                <div class="map-controls-container">
                                    <div class="map-controls-header">Referencias de Capas</div>
                                    
                                    <div class="map-controls-grid">
                                        <div class="map-layer-control">
                                            <h4>
                                                <span class="map-color-indicator" style="background-color: #ed07ed;"></span>
                                                Polígono del Predio
                                            </h4>
                                            <div class="map-file-input-group">
                                                <label for="kml-predio-file">Cargar KML:</label>
                                                <input type="file" id="kml-predio-file" accept=".kml" />
                                            </div>
                                            <div class="map-checkbox-group">
                                                <label>
                                                    <input type="checkbox" id="kml-predio-visible" checked />
                                                    Mostrar capa
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="map-layer-control">
                                            <h4>
                                                <span class="map-color-indicator" style="background-color: #06f1f1;"></span>
                                                Área del Plan Técnico
                                            </h4>
                                            <div class="map-file-input-group">
                                                <label for="kml-plan-file">Cargar KML:</label>
                                                <input type="file" id="kml-plan-file" accept=".kml" />
                                            </div>
                                            <div class="map-checkbox-group">
                                                <label>
                                                    <input type="checkbox" id="kml-plan-visible" checked />
                                                    Mostrar capa
                                                </label>
                                            </div>
                                        </div>
                                        
                                        <div class="map-layer-control">
                                            <h4>
                                                <span class="map-color-indicator" style="background-color: #ed6e07;"></span>
                                                Parcelas de Muestreo
                                            </h4>
                                            <div class="map-file-input-group">
                                                <label for="kml-parcelas-file">Cargar KML:</label>
                                                <input type="file" id="kml-parcelas-file" accept=".kml" />
                                            </div>
                                            <div class="map-checkbox-group">
                                                <label>
                                                    <input type="checkbox" id="kml-parcelas-visible" checked />
                                                    Mostrar capa
                                                </label>
                                            </div>
                                        </div>


                                    </div>
                                    
                                    <div class="map-button-row">
                                        <button class="map-btn clear" id="btn-map-clear">Limpiar Capas</button>
                                        <button class="map-btn" id="btn-map-fit">Ajustar Vista</button>
                                        <button class="map-btn" id="btn-map-fix">Fijar Vista (p/Imprimir)</button>
                                    </div>
                                    
                                    <div id="map-status" class="map-status"></div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
        
                    <h2 class="main-section-title">9. CARACTERÍSTICAS DEL ÁREA DEL PROYECTO</h2>
                    <fieldset class="input-fieldset">
                        <legend>Superficies Relevantes</legend>
                         <div class="form-grid">
                            <label for="inputSupPredio">Superficie Total del Predio (ha):</label>
                            <input type="number" id="inputSupPredio" step="0.01" readonly>
        
                            <label for="inputSupAreaProyecto" style="font-weight: bold;">Superficie del Área del Proyecto (ha):</label>
                            <input type="number" id="inputSupAreaProyecto" step="0.01" value="0" readonly>
        
                            <label style="font-weight: bold;">Sup. Total Cobertura Boscosa en Predio (ha):</label>
                            <span id="spanSupBosqueNativo" class="calculated-span">0,00</span> 
                        </div>
        
                        <h3 style="text-align:center; margin-top: 20px;">Superficies de Cobertura Boscosa por Categoría OTBN (ha)</h3>
                        <div style="display: grid; grid-template-columns: 1.5fr 1fr 1fr; gap: 10px 15px; align-items: center; padding: 10px; border: 1px solid #e0e0e0; border-radius: 4px; background-color: #fcfcfc;">
                            <strong style="text-align: left; padding-left: 5px;">Categoría</strong>
                            <strong style="text-align: center;">OTBN-Predio (ha)</strong>
                            <strong style="text-align: center;">OTBN-Plan de Manejo (ha)</strong>
        
                            <label for="inputCatRojo" style="color: red; font-weight: bold;">Cat. I - Rojo:</label>
                            <input type="number" id="inputCatRojo" step="0.01" value="0" readonly style="text-align: right;">
                            <span id="spanPlanCatRojo" class="calculated-span" style="width: 100%;">0,00</span>
        
                            <label for="inputCatAmarillo" style="color: #b8b800; font-weight: bold;">Cat. II - Amarillo:</label>
                            <input type="number" id="inputCatAmarillo" step="0.01" value="0" readonly style="text-align: right;">
                            <span id="spanPlanCatAmarillo" class="calculated-span" style="width: 100%;">0,00</span>
        
                            <label for="inputCatVerde" style="color: green; font-weight: bold;">Cat. III - Verde:</label>
                            <input type="number" id="inputCatVerde" step="0.01" value="0" readonly style="text-align: right;">
                            <span id="spanPlanCatVerde" class="calculated-span" style="width: 100%;">0,00</span>
                            
                            <label for="inputSinCategorizar">Sin Categorizar:</label>
                            <input type="number" id="inputSinCategorizar" step="0.01" value="0" style="text-align: right;">
                            <input type="number" id="inputPlanSinCategorizar" step="0.01" value="0" style="text-align: right;">
                        </div>
        
                         <hr>
                        <p style="font-size:0.9em; color:#555; margin-top:0; margin-bottom: 5px;">
                            Nota: La "Sup. Total Cobertura Boscosa en Predio (ha)" se calcula como la suma de las categorías Rojo, Amarillo, Verde y Sin Categorizar. La suma no puede superar la "Superficie Total del Predio".
                        </p>
                        <p style="font-size:0.9em; color:#555; margin-top:0; margin-bottom:15px;">
                            Se considera bosque nativo a los ambientes con: 0,5 ha de ocupación continua, 3 m de altura mínima y 20% de cobertura de copas mínima.
                        </p>
                    </fieldset>
        
                    <h2 class="main-section-title">10. DATOS DE INVENTARIO FORESTAL</h2>
                    <fieldset class="input-fieldset">
                        <legend>Datos de Parcela, Árboles y Resultados</legend>
        
                        <h3 class="sub-section-title">10.1. Metodología de Muestreo y Caracterización de Parcelas</h3>
                        <div class="static-text-section">
                            <p>Las Unidades de Muestreos (UM) se componen de parcelas circulares, para el relevamiento de individuos leñosos de diferentes tamaños.</p>
                            <p>Cada parcela tiene una superficie de 1.000 m² (con un radio de 17,8 metros). Se recolectaron datos, incluidos parámetros dasométricos que permiten calcular estimadores de la masa forestal como volumen, área basal y toneladas.</p>
                            <h4>Determinación de los Individuos de la Unidad de Muestreo</h4>
                            <p>Para determinar si un individuo leñoso se incluía o no como registro dentro de la correspondiente parcela, con los criterios de diámetro normal (DAP) a la altura estándar de 1.30 metros sobre el suelo, se controlaba la distancia desde su centro geométrico (corazón o médula) al centro de la parcela. Si esa distancia era mayor que el radio de la parcela, el mismo no formaba parte de la muestra.</p>
                            <p>Para definir sobre aquellos individuos leñosos que se encontraban en el borde límite de la parcela cuya base del fuste coincidía con algún punto del perímetro, se tomaron en cuenta los siguientes criterios:</p>
                            <ul>
                                <li>Si el límite de la parcela pasaba por el centro geométrico de la base del fuste, este quedaba incluido en la parcela. Para individuos polifustales, se medirán todos los fustes del mismo, aunque algunos quedaran por fuera de la parcela.</li>
                                <li>Si el centro geométrico de la base del fuste pasaba por fuera del límite de la parcela, este quedaba excluido de la parcela. En el caso de individuos polifustales, no se medía ningún fuste, aunque alguno quedara por dentro de la parcela.</li>
                            </ul>
                            <p>Las alturas a registrar de cada individuo dentro de la parcela son altura total y altura de fuste.</p>
                        </div>
        
                        <h3 class="sub-section-title">10.2. Registro de Datos de Campo</h3>
                        <div id="ecoregionSelectorBox">
                            <label for="selEcoregion">🌿 Ecorregión del Predio :</label>
                            <select id="selEcoregion">
                                <option value="">-- Seleccione una ecorregión --</option>
                                <option value="ESP">Espinal (ESP)</option>
                                <option value="PCH">Parque Chaqueño (PCH)</option>
                                <option value="SPA">Selva Paranaense (SPA)</option>
                                <option value="">Otra / No aplica (usar fórmulas originales)</option>
                            </select>
                            <span id="ecoregionBadge"></span>
                            
                        </div>
                        <div id="sup-parcela-container-wrapper">
                            <div class="sup-parcela-container">
                                <label for="supParcelasM2">SUP. TOTAL MUESTREADA (m²):</label>
                                <input type="number" id="supParcelasM2" value="0" readonly>
                            </div>
                            <p style="font-size:0.9em; color:#555; margin-top:-5px; margin-bottom:15px;">
                                La superficie se calcula automáticamente sumando 1000 m² por cada número de parcela única ingresada.
                            </p>
        
                            <h4>Ingresar Árbol Individual:</h4>
                            <table id="treeInputTable">
                                <thead>
                                    <tr>
                                        <th>ESPECIES</th>
                                        <th>DAP (cm)</th>
                                        <th>ALT TOTAL (m)</th>
                                        <th>ALT FUSTE (m)</th>
                                        <th>Parcela Número (Obligatorio)</th>
                                        <th class="action_column">Acción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><select id="selEspecie"></select></td>
                                        <td><input type="number" id="inputDAP" step="0.1"></td>
                                        <td><input type="number" id="inputAltTotal" step="0.1"></td>
                                        <td><input type="number" id="inputAltFuste" step="0.1"></td>
                                        <td><input type="number" id="inputParcelaNum" step="1" min="1"></td>
                                        <td class="action_column"><button id="btnAddTree">Añadir Árbol</button></td>
                                    </tr>
                                </tbody>
                            </table>
        
                            <!-- ===== CARGA MASIVA POR ARCHIVO EXCEL/CSV ===== -->
                            <div id="excelUploadSection" style="margin: 18px 0; padding: 18px 20px; background: #f0faf4; border: 2px dashed #2E7D32; border-radius: 8px;">
                                <h4 style="margin-top:0; color:#1F7A4A; font-size:1.05em;">&#x1F4C2; Carga Masiva desde Planilla Excel / CSV</h4>
                                <p style="font-size:0.88em; color:#555; margin:0 0 12px 0;">
                                    Descargue la planilla modelo, complétela en Excel y cárguela aquí para importar todos los árboles automáticamente.
                                    El archivo debe seguir el formato de la planilla oficial (hoja <strong>INVENTARIO</strong>).
                                </p>
                                <div style="display:flex; flex-wrap:wrap; gap:10px; align-items:center;">
                                    <button id="btnDescargarPlanillaExcel" onclick="descargarPlanillaExcel()" style="background-color:#1F7A4A; color:white; padding:9px 18px; border:none; border-radius:5px; cursor:pointer; font-size:0.92em;">
                                        &#x2B07; Descargar Planilla Modelo (.xlsx)
                                    </button>
                                    <label for="inputCargarExcel" style="background-color:#0d6efd; color:white; padding:9px 18px; border-radius:5px; cursor:pointer; font-size:0.92em; margin:0; font-weight:normal;">
                                        &#x1F4E4; Cargar Planilla Excel / CSV
                                    </label>
                                    <input type="file" id="inputCargarExcel" accept=".xlsx,.xls,.csv" style="display:none;">
                                    <button id="btnLimpiarCargaExcel" onclick="limpiarCargaExcel()" style="background-color:#dc3545; color:white; padding:9px 14px; border:none; border-radius:5px; cursor:pointer; font-size:0.92em; display:none;">
                                        ✕ Limpiar carga
                                    </button>
                                </div>
                                <div id="excelUploadStatus" style="margin-top:10px; font-size:0.9em; display:none; padding:8px 12px; border-radius:5px;"></div>
                            </div>
                            <!-- ===== FIN CARGA MASIVA ===== -->

                            <h4>Árboles Ingresados:</h4>
                            <table id="enteredTreesTable">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>ESPECIES</th>
                                        <th>DAP (cm)</th>
                                        <th>ALT TOTAL (m)</th>
                                        <th>ALT FUSTE (m)</th>
                                        <th>Parcela</th>
                                        <th class="action_column">Acción</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
        
                        <h3 class="sub-section-title">10.3. Resultados del Inventario (por Hectárea)</h3>
                        <div class="inventory-results-section" id="inventoryResultsWrapper">
                            <div id="resultadosVolumen" class="result-table-container">
                                <h3>PLANILLA DE VOLUMEN (POR HECTÁREA)</h3>
                                <table id="tableVolumen"></table>
                            </div>
                
                            <div id="resultadosAreaBasal" class="result-table-container">
                                <h3>PLANILLA DE ÁREA BASAL (POR HECTÁREA)</h3>
                                <table id="tableAreaBasal"></table>
                            </div>
                
                            <div id="resultadosDensidad" class="result-table-container">
                                <h3>PLANILLA DE DENSIDAD (POR HECTÁREA)</h3>
                                <table id="tableDensidad"></table>
                            </div>
        
                            <div id="resultadosToneladas" class="result-table-container">
                                <h3>PLANILLA DE TONELADAS (POR HECTÁREA)</h3>
                                <table id="tableToneladas"></table>
                            </div>
                
                             <div id="resultadosEstadisticosGenerales" class="result-table-container">
                                <h3>ESTADÍSTICOS GENERALES DEL MUESTREO (DAP >= 10cm, Población Total)</h3>
                                <table id="tableEstadisticosGenerales">
                                    <thead>
                                        <tr>
                                            <th>ESTADISTICOS</th>
                                            <th>N/ha</th>
                                            <th>AB/ha</th>
                                            <th>Vol. Fuste/ha</th>
                                            <th>Vol. Total/ha</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
        
                            <div id="graficosInventarioContainer" style="display: none;">
                                <div class="chart-container">
                                    <h4>Volumen por Clase Diamétrica (m³/ha)</h4>
                                    <canvas id="chartVolumenClaseDAP"></canvas>
                                </div>
                                <div class="chart-container">
                                    <h4>Área Basal y Densidad por Clase Diamétrica (/ha)</h4>
                                    <canvas id="chartABDensidadClaseDAP"></canvas>
                                </div>
                                <div class="chart-container">
                                    <h4>Toneladas por Clase Diamétrica (Tn/ha)</h4>
                                    <canvas id="chartToneladasClaseDAP"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="sub-section-title">10.4. Estadísticos del Muestreo por Parcelas</h3>
                        <fieldset class="input-fieldset">
                             <legend>Análisis Estadístico del Muestreo</legend>
                             <div class="form-grid" style="grid-template-columns: max-content auto;">
                                <label for="inputErrorEstablecidoAB">Error Muestral Objetivo para AB (%):</label>
                                <input type="number" id="inputErrorEstablecidoAB" step="1" value="15" min="1" max="50">
                             </div>
                             <div id="resultadosEstadisticosMuestreo" class="result-table-container">
                                <h3>RESUMEN DE DATOS DE PARCELAS (Área Basal)</h3>
                                <table id="tableResumenParcelasAB">
                                    <thead>
                                        <tr><th>Parámetro</th><th>Valor</th><th>Unidad</th></tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                             </div>
                             <div id="resultadosDetalleParcelasObs" class="result-table-container">
                                <h3>DATOS POR PARCELA (Valores Observados en cada parcela)</h3>
                                <table id="tableDetalleParcelasObservado">
                                    <thead>
                                        <tr>
                                            <th>Parcela N°</th>
                                            <th>N° Árboles</th>
                                            <th>AB (m²)</th>
                                            <th>Vol. Fuste (m³)</th>
                                            <th>Vol. Total Prod. (m³)</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                             </div>
                             <div id="resultadosDetalleParcelasHa" class="result-table-container">
                                <h3>DATOS POR PARCELA (Valores por Hectárea)</h3>
                                <table id="tableDetalleParcelasHa">
                                     <thead>
                                        <tr>
                                            <th>Parcela N°</th>
                                            <th>N/ha</th>
                                            <th>AB (m²/ha)</th>
                                            <th>Vol. Fuste (m³/ha)</th>
                                            <th>Vol. Total Prod. (m³/ha)</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                             </div>
                        </fieldset>
        
                    </fieldset>
        
                    <div class="controls">
                        <button id="btnCalcularDatosForestales">Calcular Datos Forestales y Plan</button>
                        <button id="btnBorrarDatosIngresados">Borrar Datos Ingresados</button>
                        <button id="btnBorrarCalculosGenerados">Borrar Cálculos Generados</button>
                    </div>
                </div>
                
                <div class="static-text-section-wrapper">
                    <h2 class="main-section-title">11. CONTENIDOS GENERALES DEL PLAN</h2>
                    <fieldset class="input-fieldset">
                        <legend>Descripciones Generales</legend>
                
                        <h3 class="sub-section-title">OBJETIVOS GENERALES.</h3>
                        <textarea id="textPlanObjGenerales" class="auto-resize-textarea">Haga clic aquí para escribir texto:</textarea>
                        <div id="print-textPlanObjGenerales" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">OBJETIVOS ESPECIFICOS.</h3>
                        <textarea id="textPlanObjEspecificos" class="auto-resize-textarea">Haga clic aquí para escribir texto:</textarea>
                        <div id="print-textPlanObjEspecificos" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">DESCRIPCIÓN DE ANTECEDENTES RELACIONADOS AL USO DE LA TIERRA Y DE LAS CONDICIONES SOCIOECONÓMICAS DE LA REGIÓN.</h3>
                        <textarea id="textPlanAntecedentes" class="auto-resize-textarea">“Hace referencia a información sobre cómo ha sido utilizada la tierra en términos de actividades productivas, como la agricultura, la ganadería, la producción forestal u otras actividades económicas. Esto incluiría datos sobre los cultivos que se han cultivado históricamente en la región, los métodos agrícolas utilizados, la productividad de la tierra, los tipos de ganado criados, los sistemas de manejo forestal empleados, entre otros aspectos. Además, también se considerarían las condiciones socioeconómicas de la región que han influido en la producción, como la disponibilidad de mano de obra, el acceso a recursos naturales, las políticas agrícolas y económicas, la infraestructura disponible, entre otros factores.”</textarea>
                        <div id="print-textPlanAntecedentes" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">DESCRIPCIÓN DE LOS RECURSOS FORESTALES QUE SERÁN MANEJADOS, DE SU ENTORNO NATURAL Y DE LAS LIMITACIONES AMBIENTALES EXISTENTES.</h3>
                        <textarea id="textPlanRecursos" class="auto-resize-textarea">“Se refiere a los recursos forestales que se pretenden gestionar para conservarlos. Esto incluye los árboles, la vegetación y la biodiversidad asociada en un área específica que se desea proteger y manejar de manera sostenible. El "entorno natural" se refiere al contexto en el que se encuentran estos recursos forestales, incluyendo factores como el clima, la topografía, el suelo y la hidrología. Estos elementos influyen en la salud y el crecimiento de los bosques, así como en la disponibilidad de agua y otros recursos naturales. Las "limitaciones ambientales existentes" se refieren a las restricciones o condiciones específicas que pueden afectar la gestión de los recursos forestales para su conservación. Esto puede incluir restricciones legales, como áreas protegidas o regulaciones ambientales, así como limitaciones físicas, como la presencia de especies invasoras, riesgos de incendios forestales, o problemas de degradación del suelo.”</textarea>
                        <div id="print-textPlanRecursos" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">DESCRIPCION DEL INVENTARIO FORESTAL DISEÑADO EN FUNCIÓN DE LOS OBJETIVOS.</h3>
                        <textarea id="textPlanInventario" class="auto-resize-textarea">“La Disposición N.º 037/2014 de la Dirección de Recursos Forestales, establece los requisitos y procedimientos específicos que deben seguirse para realizar el inventario forestal, como así también la presentación de los datos, los cuales se encuentran por defecto en el presente formulario.”</textarea>
                        <div id="print-textPlanInventario" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">DESCRIPCIÓN DEL SISTEMA SILVICULTURAL U OTRO SISTEMA DE MANEJO, O DE LAS TÉCNICAS DE RECUPERACIÓN.</h3>
                        <textarea id="textPlanSilvicultural" class="auto-resize-textarea">“El diseño del sistema de manejo se basa en la información recopilada durante el inventario forestal, que incluye datos sobre la cantidad, calidad y distribución de los recursos forestales, así como sobre la biodiversidad y los servicios ambientales que brindan los bosques. Con esta información, se calcula la posibilidad de llevar a cabo ciertas acciones de manejo, como la tala selectiva de árboles, la regeneración natural de especies, la protección de áreas sensibles, entre otras.”</textarea>
                        <div id="print-textPlanSilvicultural" class="textarea-print-content"></div>
                        
                        <h3 class="sub-section-title">DESCRIPCIÓN DE LOS ASPECTOS SOCIALES RELEVANTES Y DEL IMPACTO SOCIAL POSITIVO PREVISTO.</h3>
                        <textarea id="textPlanSocial" class="auto-resize-textarea">“Se describe la situación socioeconómica de las comunidades locales antes del proyecto, incluyendo aspectos como el nivel de ingresos, el acceso a servicios básicos, la educación y la salud. También se puede incluir información sobre las prácticas culturales y tradicionales relacionadas con los recursos forestales. Luego, se describe el impacto social positivo previsto del proyecto, es decir, cómo se espera que el proyecto beneficie a las comunidades locales y a otros grupos sociales. Esto puede incluir la creación de empleo, el desarrollo de capacidades, el acceso a servicios básicos, la mejora de la infraestructura local, entre otros aspectos”.</textarea>
                        <div id="print-textPlanSocial" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">DECLARACIÓN JURADA POR PARTE DEL TITULAR DE LOS IMPACTOS AMBIENTALES PREVISTOS EN EL PLAN.</h3>
                        <textarea id="textPlanImpactoAmbientalDJ" class="auto-resize-textarea">“Declaración de los impactos ambientales previstos en el Plan, para facilitar el análisis por parte de la Autoridad de Aplicación de la Ley 36331, quien determinará la necesidad de efectuar un estudio de impacto ambiental (EIA). En el caso que los riesgos ambientales no ameriten un EIA se incluirán en el plan de manejo las medidas preventivas y correctivas de los tratamientos que alteren el ecosistema.”</textarea>
                        <div id="print-textPlanImpactoAmbientalDJ" class="textarea-print-content"></div>
                    </fieldset>
    
                    <h2 class="main-section-title">12. ACTIVIDADES GENERALES DEL PLAN</h2>
                     <fieldset class="input-fieldset">
                        <legend>Descripciones de Actividades Generales</legend>
                        <p style="font-size:0.9em; color:#2e0b4f; margin-bottom:15px;">Escriba aquí las descripciones generales para las actividades del plan. Luego, en cada POA, podrá elegir si usar este texto general o escribir uno específico para ese año.</p>
    
                        <h3 class="sub-section-title">DESCRIPCIÓN Y JUSTIFICACIÓN DE LAS TÉCNICAS A IMPLEMENTAR Y DEL EQUIPAMIENTO UTILIZADO.</h3>
                        <textarea id="textPlanTecnicas" class="auto-resize-textarea">“Descripción detallada y la justificación de las técnicas y el equipamiento que se utilizarán en el manejo forestal o conservación. Aquí se explican las razones detrás de la elección de ciertas técnicas y herramientas, así como cómo se espera que contribuyan al logro de los objetivos del manejo forestal. Por ejemplo, si se va a implementar un sistema de manejo silvicultural, describir en detalle cómo se llevará a cabo la tala selectiva de árboles, la regeneración de especies, el control de plagas y enfermedades, entre otras técnicas. Se justificaría la elección de estas técnicas en función de su eficacia para lograr los objetivos de manejo, como la mejora de la calidad de la madera, la conservación de la biodiversidad o la protección de los recursos hídricos. En cuanto al equipamiento utilizado, se describirían los tipos de herramientas y maquinaria necesarios para llevar a cabo las técnicas de manejo descritas. Se justificaría la elección de este equipamiento en función de su capacidad para realizar las tareas requeridas de manera eficiente y segura.”</textarea>
                        <div id="print-textPlanTecnicas" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">PRESCRIPCIÓN DE TÉCNICAS Y MEDIDAS DE PROTECCIÓN AMBIENTAL.</h3>
                        <textarea id="textPlanProteccionAmbiental" class="auto-resize-textarea">“La prescripción de técnicas y medidas de protección ambiental tiene como objetivo principal preservar los recursos naturales involucrados en un emprendimiento forestal. Estas técnicas y medidas se diseñan para minimizar los impactos negativos en el medio ambiente y garantizar la conservación de los recursos naturales a largo plazo.
Algunas de las técnicas y medidas comunes incluyen:
1. Silvicultura sostenible: Implementación de prácticas de manejo forestal que aseguren la regeneración natural de los bosques y la diversidad biológica, evitando la sobreexplotación de los recursos.
2. Conservación de la biodiversidad: Protección de especies vegetales y animales en peligro de extinción, así como de ecosistemas frágiles o únicos.
3. Control de erosión: Implementación de medidas para prevenir la pérdida de suelo y la degradación de la tierra, como la construcción de terrazas, la siembra de cobertura vegetal y la reforestación de áreas degradadas.
4. Manejo del agua: Protección de fuentes de agua, como ríos, arroyos y lagos, a través de la conservación de la vegetación ribereña y la implementación de prácticas de manejo que eviten la contaminación del agua.
5. Gestión de residuos: Implementación de medidas para minimizar la generación de residuos y gestionar adecuadamente aquellos que se generen, como el compostaje de residuos orgánicos y el reciclaje de residuos sólidos.
Estas técnicas y medidas de protección ambiental deben ser parte integral del plan de manejo forestal y deben ser implementadas de manera efectiva y monitoreadas regularmente para garantizar su eficacia. “</textarea>
                        <div id="print-textPlanProteccionAmbiental" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">MEDIDAS PARA EL MONITOREO DEL CRECIMIENTO Y DINÁMICA DEL BOSQUE.</h3>
                        <textarea id="textPlanMonitoreo" class="auto-resize-textarea">“Para monitorear el crecimiento, la dinámica del bosque y los impactos ambientales ocasionados por un emprendimiento forestal, se pueden implementar diversas medidas.
Algunas de las más comunes incluyen:
1. Parcelas permanentes de muestreo: Establecimiento de parcelas donde se mide regularmente el crecimiento de los árboles, la regeneración natural y otros indicadores de la salud del bosque.
2. Monitoreo de la biodiversidad: Seguimiento de la diversidad de especies vegetales y animales en el área afectada por el emprendimiento, para detectar cambios significativos y tomar medidas correctivas si es necesario.
3. Monitoreo de la calidad del agua: Análisis regular de la calidad del agua en ríos, arroyos y otras fuentes de agua cercanas al emprendimiento, para detectar posibles impactos de la actividad forestal en el recurso hídrico.
4. Monitoreo de la erosión: Evaluación regular de la erosión del suelo en áreas deforestadas o afectadas por actividades de manejo forestal, para implementar medidas de control si es necesario.
5. Monitoreo de la fauna: Seguimiento de la presencia y abundancia de especies animales clave en el ecosistema forestal, para evaluar el impacto de la actividad humana en su hábitat.
6. Monitoreo de incendios forestales: Seguimiento de la incidencia de incendios forestales y su impacto en el área forestal, para mejorar las medidas de prevención y control.
Estas medidas de monitoreo deben ser parte integral del plan de manejo forestal y deben llevarse a cabo de manera regular y sistemática para garantizar la sostenibilidad de la actividad forestal y minimizar su impacto ambiental.”</textarea>
                        <div id="print-textPlanMonitoreo" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">MEDIDAS DE PREVENCIÓN E MITIGACIÓN DE IMPACTOS AMBIENTALES.</h3>
                        <textarea id="textPlanPrevencionImpactos" class="auto-resize-textarea">“Para prevenir y mitigar los impactos ambientales asociados a un emprendimiento forestal, es fundamental implementar una serie de medidas específicas.
Aquí hay algunas medidas comunes que se pueden considerar:
1. Planificación adecuada del emprendimiento: Realizar un estudio detallado del área antes de comenzar cualquier actividad forestal para identificar áreas sensibles y determinar las mejores prácticas de manejo.
2. Prácticas de manejo sostenible: Utilizar métodos de manejo forestal que minimicen la alteración del ecosistema, como la tala selectiva, la regeneración natural y la protección de áreas de alto valor ecológico.
3. Control de erosión: Implementar medidas para prevenir la erosión del suelo, como la construcción de terrazas, la siembra de cobertura vegetal y la revegetación de áreas degradadas.
4. Control de la contaminación: Establecer protocolos para el manejo adecuado de productos químicos y desechos, así como para evitar la contaminación del suelo y del agua.
5. Protección de la biodiversidad: Conservar hábitats críticos y especies en peligro de extinción, evitando la fragmentación del bosque y manteniendo la conectividad entre áreas naturales.
6. Monitoreo ambiental: Realizar monitoreos periódicos para evaluar el impacto de las actividades forestales en el medio ambiente y tomar medidas correctivas si es necesario.
7. Capacitación y sensibilización: Proporcionar capacitación a los trabajadores forestales sobre prácticas ambientalmente responsables y promover la sensibilización sobre la importancia de la conservación de los recursos naturales.
8. Participación comunitaria: Involucrar a las comunidades locales en la toma de decisiones y en la implementación de medidas de conservación ambiental, fomentando la colaboración y el compromiso.
Estas medidas, cuando se implementan de manera efectiva y se combinan con un monitoreo constante, pueden ayudar a minimizar los impactos ambientales negativos y promover la sostenibilidad de las actividades forestales. .”</textarea>
                        <div id="print-textPlanPrevencionImpactos" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">DESCRIPCIÓN DEL TRATAMIENTO DE RESIDUOS.</h3>
                        <textarea id="textPlanResiduos" class="auto-resize-textarea">“El tratamiento de residuos en un emprendimiento forestal es crucial para minimizar su impacto ambiental y garantizar su gestión adecuada.
Algunas prácticas comunes incluyen:
1. Separación en origen: Separar los residuos en origen para facilitar su posterior tratamiento y reciclaje.
2. Reciclaje: Promover el reciclaje de materiales como papel, cartón, plástico y vidrio para reducir la cantidad de residuos enviados a vertederos.
3. Compostaje: Compostar los residuos orgánicos para producir abono natural y reducir la cantidad de residuos orgánicos enviados a vertederos.
4. Reutilización: Promover la reutilización de materiales y productos para extender su vida útil y reducir la generación de residuos.
5. Disposición final adecuada: Enviar los residuos no reciclables ni compostables a vertederos controlados o instalaciones de tratamiento de residuos autorizadas.
6. Reducción en la fuente: Implementar medidas para reducir la cantidad de residuos generados, como la compra de productos a granel o la eliminación de envases innecesarios.
7. Gestión de residuos peligrosos: Tratar de manera especial los residuos peligrosos, como productos químicos o envases contaminados, para evitar su impacto negativo en el medio ambiente.
8. Educación y sensibilización: Capacitar al personal y a la comunidad sobre la importancia de una adecuada gestión de residuos y promover prácticas responsables.
La implementación de un plan integral de tratamiento de residuos en un emprendimiento forestal puede contribuir significativamente a reducir su impacto ambiental y promover la sostenibilidad de sus operaciones.”</textarea>
                        <div id="print-textPlanResiduos" class="textarea-print-content"></div>
                
                        <h3 class="sub-section-title">MEDIDAS DE PREVENCIÓN Y MITIGACIÓN DE INCENDIOS.</h3>
                        <textarea id="textPlanPrevencionFuego" class="auto-resize-textarea">“Las medidas de prevención de incendios forestales son fundamentales para proteger los bosques y prevenir la pérdida de biodiversidad y recursos naturales.
Algunas medidas efectivas incluyen:
1. Creación de cortafuegos: Establecer barreras naturales o artificiales que impidan la propagación del fuego, como áreas despejadas o caminos amplios.
2. Mantenimiento de cortafuegos: Mantener limpios y despejados los cortafuegos para garantizar su eficacia en caso de incendio.
3. Control de la vegetación: Realizar actividades de desbroce y poda para reducir la cantidad de material vegetal combustible.
4. Restricción de actividades riesgosas: Prohibir o restringir actividades que puedan generar chispas o calor, como quemas agrícolas o uso de maquinaria pesada en épocas secas y ventosas.
5. Vigilancia y detección temprana: Implementar sistemas de vigilancia y detección de incendios forestales, como torres de vigilancia, drones o cámaras de monitoreo.
6. Capacitación y concientización: Capacitar al personal y a la comunidad sobre la prevención de incendios y la importancia de reportar cualquier situación sospechosa.
7. Uso controlado del fuego: Realizar quemas controladas bajo condiciones climáticas y de seguridad adecuadas para reducir la acumulación de material combustible.
8. Infraestructura y acceso: Mejorar la infraestructura y el acceso a las áreas forestales para facilitar la respuesta rápida ante incendios.
9. Colaboración interinstitucional: Coordinar acciones entre instituciones gubernamentales, organizaciones y comunidades locales para mejorar la prevención y respuesta ante incendios forestales.
10. Plan de emergencia: Elaborar y mantener actualizado un plan de emergencia para actuar de manera rápida y eficaz en caso de incendio forestal.
Implementar estas medidas de prevención de incendios puede contribuir significativamente a proteger los bosques y reducir los riesgos de incendios forestales.”</textarea>
                        <div id="print-textPlanPrevencionFuego" class="textarea-print-content"></div>
                     </fieldset>
                </div>
        
                <div id="graficosContainer">
                    <h2>Gráficos Resumen del Inventario</h2>
                    <div class="chart-container">
                        <h4>Volumen Total por Especie (m³/ha)</h4>
                        <canvas id="chartVolumenPorEspecie"></canvas>
                    </div>
                    <div class="chart-container">
                        <h4>Densidad por Especie (Arb/ha)</h4>
                        <canvas id="chartDensidadPorEspecie"></canvas>
                    </div>
                    <div class="chart-container">
                        <h4>Distribución de Clases Diamétricas (Total Árboles)</h4>
                        <canvas id="chartDistribucionDAP"></canvas>
                    </div>
                </div>
        
                <div id="planillaCampoContainer">
                    <h2>Planilla de Campo (Árboles Individuales Registrados)</h2>
                    <table id="tablePlanillaCampo">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Especie (Nombre Científico)</th>
                                <th>DAP (cm)</th>
                                <th>Alt. Total (m)</th>
                                <th>Alt. Fuste (m)</th>
                                <th>N° Parcela</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

            </div>
            <!-- ========= FIN: SECCIÓN DEL PLAN TÉCNICO ========= -->


            <!-- ========= INICIO: SECCIÓN DE POAs ========= -->
            <div id="poaSection">
                <h2 class="main-section-title">13. PLANES OPERATIVOS ANUALES (POA)</h2>
                <fieldset class="input-fieldset">
                    <legend>Configuración de POAs</legend>
                     <div class="form-grid" style="grid-template-columns: max-content 1fr; max-width: 400px;">
                        <label for="inputNumPoas" style="font-weight: bold;">Cantidad de POAs a detallar:</label>
                        <input type="number" id="inputNumPoas" min="0" max="10" step="1" value="0">
                    </div>
                    <p style="font-size:0.9em; color:#555; margin-top:-5px; margin-bottom:15px;">
                        Ingrese un número y el formulario generará las secciones correspondientes para cada Plan Operativo Anual.
                    </p>
                </fieldset>
    
                <!-- Contenedor para los POAs dinámicos -->
                <div id="poaContainer"></div>
            </div>
            <!-- ========= FIN: SECCIÓN DE POAs ========= -->

             <div class="static-text-section-wrapper">
                <h2 class="main-section-title">14. DOCUMENTACION LEGAL QUE DEBE ACOMPAÑAR AL PRESENTE FORMULARIO AL MOMENTO DE LA PRESENTACIÓN.</h2>
                <div class="static-text-section">
                    <p>Las solicitudes deberán ser acompañadas de documentación que acredite los derechos sobre los inmuebles a desarrollarse los proyectos. Los Titulares Dominiales o Adquirientes por Boletos de Compra Venta, deberán presentar copia certificada del título de propiedad o boleto de compraventa, según corresponda. En caso de sucesiones se deberá presentar copia certificada de Declaratoria de Herederos, copia certificada de designación de Administrador Judicial y Aceptación del cargo o autorización de todos los herederos declarados. En caso de Condominio, se deberá presentar la conformidad de todos los condóminos o designación de apoderado. En caso de Arrendatarios copia certificada del contrato vigente. Para personas jurídicas, copia certificadas, del Estatuto Social o Contrato Social, Acta de Asamblea vigente, poder del representante legal en caso de designación. Copia de DNI y Constancia de CUIT o CUIL, tanto de titulares como de Representante Legal. En caso de ser el Titular, un organismo estatal, deberá presentar copia autenticada del acto administrativo que autoriza al funcionario a actuar en representación del organismo. Cuando los predios se encontraran bajo el dominio estatal, deberá presentar copia autenticada del acto administrativo autorizando la realización dicho emprendimiento.</p>
                    <p>El presente FORMULARIO, deberán ser confeccionado en forma completa y con la documentación legal solicitada.</p>
                    <p>La presentación, para su análisis y evaluación, es por Mesa de Entrada de la Dirección de Recursos Forestales del Ministerio de Producción, sita en Perú Nº1120 de la Cuidad de Corrientes.</p>
                    <p>Las solicitudes que no se presenten con documentación legal completa requerida, para cada caso en particular y detallada en el ítems 13, del presente formulario, quedaran pendientes de evaluación por parte de la Dirección de Recursos Forestales del Ministerio de Producción, hasta la cumplimentación de las mismas.</p>
                </div>
    
                <h2 class="main-section-title">15. DECLARACIÓN JURADA</h2>
                <div class="static-text-section">
                    <p>El/los que subscribe/n, con poder suficiente para este acto, manifiesta/n en calidad de declaración jurada y asumiendo toda la responsabilidad civil, penal y administrativa por cualquier falsedad, omisión u ocultamiento que se verificare, que la información contenida en el presente formulario y en la documentación anexa es veraz y exacta y subsiste al tiempo de efectuarse esta presentación.</p>
                    <label class="inline-checkbox-label" style="margin-top: 15px; font-weight: bold;">
                        <input type="checkbox" id="checkAceptoDDJJ"> Acepto los términos de la declaración jurada.
                    </label>
                </div>

                <!-- BLOQUE DE FIRMAS - DECLARACIÓN JURADA -->
                <div class="firmas-section-print" id="firmas-section-ddjj" style="display:none; margin-top:30px; page-break-inside:avoid; background:#ffffff; border:1px solid #dee2e6; border-radius:6px; padding:10px 20px;">
                    <table style="width:100%; border-collapse:collapse; border:1px solid #bbb; margin-top:10px;">
                        <tr>
                            <td style="width:50%; padding:50px 20px 18px 20px; border-right:1px solid #bbb; text-align:center; vertical-align:bottom;">
                                <div style="border-top:1.5px solid #444; padding-top:8px; margin-top:10px;">
                                    <strong>Firma del Titular del Proyecto / Rep. Legal</strong><br>
                                    <span style="font-size:0.85em;">Aclaración: </span><span id="ddjjFirmaTitularNombre" style="font-size:0.85em;"></span><br>
                                    <span style="font-size:0.85em;">DNI / CUIT: </span><span id="ddjjFirmaTitularCuit" style="font-size:0.85em;"></span>
                                </div>
                            </td>
                            <td style="width:50%; padding:50px 20px 18px 20px; text-align:center; vertical-align:bottom;">
                                <div style="border-top:1.5px solid #444; padding-top:8px; margin-top:10px;">
                                    <strong>Firma del Técnico Responsable</strong><br>
                                    <span style="font-size:0.85em;">Aclaración: </span><span id="ddjjFirmaTecnicoNombre" style="font-size:0.85em;"></span><br>
                                    <span style="font-size:0.85em;">Matrícula N°: </span><span id="ddjjFirmaTecnicoMatricula" style="font-size:0.85em;"></span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="padding:8px 20px; border-top:1px solid #bbb; background:#f8f8f8; font-size:0.82em; text-align:center; color:#555;">
                                <strong>Establecimiento:</strong> <span id="ddjjFirmaEstablecimiento"></span>
                                &nbsp;·&nbsp; <strong>Partida:</strong> <span id="ddjjFirmaPartida"></span>
                                &nbsp;·&nbsp; <strong>Departamento:</strong> <span id="ddjjFirmaDepartamento"></span>
                            </td>
                        </tr>
                    </table>
                </div>
    
                <div class="controls" style="border-bottom: none; border-top: 1px solid #dee2e6;">
                    <button id="btnImprimirPDF">Imprimir / Guardar PDF</button>

                </div>
            </div>
        </div>
    </div>


    <script>
       document.addEventListener('DOMContentLoaded', () => {

            // --- INICIO: LÓGICA DE LOGIN ---
            const USERS_DB = { 'walter': '123', 'usuario': '123', 'usuario_visor': 'vermapa123' };
            const loginOverlay = document.getElementById('loginOverlay');
            const loginForm = document.getElementById('loginForm');
            const loginError = document.getElementById('loginError');
            const mainAppContent = document.getElementById('mainAppContent');
            const inputPassword = document.getElementById('inputPassword');

            loginForm.addEventListener('submit', (event) => {
                event.preventDefault(); 
                const username = document.getElementById('inputUsername').value.trim();
                const password = inputPassword.value;

                if (USERS_DB.hasOwnProperty(username) && USERS_DB[username] === password) {
                    loginOverlay.style.display = 'none'; 
                    mainAppContent.style.display = 'flex';  
                    setupStaticTextareas();
                    window.dispatchEvent(new Event('resize'));
                    // Reparar mapa principal que se inicializó oculto
                    setTimeout(function() { if (typeof map !== 'undefined' && map) { map.invalidateSize(); } }, 300);
                } else {
                    loginError.textContent = 'Usuario o contraseña incorrectos.';
                    loginError.style.display = 'block';
                    inputPassword.value = '';
                    inputPassword.focus();
                }
            });
            // --- FIN: LÓGICA DE LOGIN ---

            // --- INICIO: FUNCIONES AUXILIARES ---
            function autoResizeTextarea(el) {
                setTimeout(() => {
                    el.style.height = 'auto';
                    el.style.height = (el.scrollHeight + 2) + 'px';
                }, 0);
            }
            
            function formatNumber(num, decimals = 2) {
                if (isNaN(num) || num === null || num === undefined) {
                    return decimals === 0 ? '0' : '0,00';
                }
                const fixedNum = num.toFixed(decimals);
                 if (decimals === 0) {
                    return fixedNum.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
                }
                let [integerPart, decimalPart] = fixedNum.split('.');
                integerPart = integerPart.replace(/\B(?=(\d{3})+(?!\d))/g, '.');
                return `${integerPart},${decimalPart}`;
            }

            function setupStaticTextareas() {
                document.querySelectorAll('.static-text-section-wrapper .auto-resize-textarea').forEach(textarea => {
                    const placeholderText = textarea.value.trim();
                    textarea.setAttribute('data-placeholder', placeholderText);
                    textarea.classList.add('textarea-placeholder-style');

                    textarea.addEventListener('focus', () => {
                        if (textarea.value === placeholderText) {
                            textarea.value = '';
                            textarea.classList.remove('textarea-placeholder-style');
                        }
                    });

                    textarea.addEventListener('blur', () => {
                        if (textarea.value.trim() === '') {
                            textarea.value = placeholderText;
                            textarea.classList.add('textarea-placeholder-style');
                        }
                    });
                    
                    textarea.addEventListener('input', () => autoResizeTextarea(textarea));
                    autoResizeTextarea(textarea);
                });
            }

            function generateSignatureBlockHTML(suffix) {
                return `
                    <div class="firmas-section-print" id="firmas-section-${suffix}">
                        <table style="width: 100%; border: none; margin-top: 10px; font-size: 9pt;">
                            <tr style="border: none;">
                                <td style="width: 48%; text-align: center; border: none; padding: 20px 10px;">
                                    <span style="display:block; margin-bottom: 30px;">_________________________</span>
                                    <strong>Firma Titular del Proyecto / Rep. Legal</strong><br>
                                    <span class="firma-detalle">Aclaración:</span> <span id="firmaPrintTitularProyecto-${suffix}" class="firma-detalle"></span><br>
                                    <span class="firma-detalle">DNI / CUIT:</span> <span id="firmaPrintTitularProyectoCUIT-${suffix}" class="firma-detalle"></span>
                                </td>
                                <td style="width: 4%; border: none;"></td>
                                <td style="width: 48%; text-align: center; border: none; padding: 20px 10px;">
                                    <span style="display:block; margin-bottom: 30px;">_________________________</span>
                                    <strong>Firma Técnico Responsable</strong><br>
                                    <span class="firma-detalle">Aclaración:</span> <span id="firmaPrintTecnicoNombre-${suffix}" class="firma-detalle"></span><br>
                                    <span class="firma-detalle">Matrícula N°:</span> <span id="firmaPrintTecnicoMatricula-${suffix}" class="firma-detalle"></span>
                                </td>
                            </tr>
                            <tr style="border:none;">
                                <td colspan="3" style="text-align:center; border:none; padding-top: 20px;">
                                    <strong class="firma-detalle">Establecimiento:</strong> <span id="firmaPrintEstablecimiento-${suffix}" class="firma-detalle"></span><br>
                                    <strong class="firma-detalle">Partida Inmobiliaria:</strong> <span id="firmaPrintPartidaInmobiliaria-${suffix}" class="firma-detalle"></span> -
                                    <strong class="firma-detalle">Departamento:</strong> <span id="firmaPrintDepartamento-${suffix}" class="firma-detalle"></span>
                                </td>
                            </tr>
                        </table>
                    </div>`;
            }

            // --- FIN: FUNCIONES AUXILIARES ---

            // --- MAPA, DATOS GEOGRÁFICOS Y DE ESPECIES (sin cambios) ---
            var map = L.map('mapa-kml').setView([-27.4698, -58.8306], 8);
            var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            });
            var satellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                attribution: 'Tiles © Esri'
            });
            satellite.addTo(map);
            var baseLayers = { "Satélite": satellite, "Calles": osm };
            L.control.scale({ imperial: false, metric: true }).addTo(map);

            let predioGeoJSON = null;
            let planGeoJSON = null;
            let ordenamientoGeoJSON = null;
            const mapLayers = { predio: null, plan: null, parcelas: null, ordenamiento: null };
            const mapStyles = {
                predio: { color: '#ed07ed', weight: 3, opacity: 0.9, fillOpacity: 0.01 },
                plan: { color: ' #06f1f1', weight: 2, opacity: 0.9, fillOpacity: 0.2 },
                parcelas: { color: '#ed6e07', weight: 2, opacity: 1, fillOpacity: 0.8, radius: 6 },
                ordenamiento: (feature) => {
                    const cat = feature.properties.Categoria ? String(feature.properties.Categoria).toUpperCase() : '';
                    let style = { weight: 1.5, opacity: 0.8, fillOpacity: 0.4 };
                    if (cat.includes('ROJO')) { style.color = "#dc3545"; style.fillColor = "#dc3545"; } 
                    else if (cat.includes('AMARILLO')) { style.color = "#ffc107"; style.fillColor = "#ffc107"; } 
                    else if (cat.includes('VERDE')) { style.color = "#28a745"; style.fillColor = "#28a745"; } 
                    else { style.color = "#6c757d"; style.fillColor = "#6c757d"; }
                    return style;
                }
            };
            const mapLayerTitles = {
                predio: 'Polígono del Predio', plan: 'Área del Plan Técnico', parcelas: 'Parcelas de Muestreo'
            };
            const statusEl = document.getElementById('map-status');

            function showMapStatus(message, type) {
                statusEl.textContent = message;
                statusEl.className = 'map-status ' + type;
                statusEl.style.display = 'block';
                setTimeout(() => { statusEl.style.display = 'none'; }, 5000);
            }

            function processOrdenamientoData(data) {
                if (mapLayers.ordenamiento) map.removeLayer(mapLayers.ordenamiento);
                ordenamientoGeoJSON = data;
                mapLayers.ordenamiento = L.geoJSON(data, {
                    style: mapStyles.ordenamiento,
                    onEachFeature: (feature, layer) => { layer.bindPopup(`<strong>Categoría:</strong> ${feature.properties.Categoria || 'N/A'}`); }
                }).addTo(map);
                var overlayLayers = { ...getVisibleUserLayers(), "Ordenamiento Territorial": mapLayers.ordenamiento };
                updateLayerControl(overlayLayers);
                showMapStatus('Capa de Ordenamiento cargada desde el servidor.', 'success');
                calcularInterseccionesYSuperficies();
                calculatePlanCategoriesIntersection();
            }

            function loadOrdenamientoFromServer() {
                fetch('Ordenamiento.geojson')
                    .then(response => { if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } return response.json(); })
                    .then(data => { processOrdenamientoData(data); })
                    .catch(error => { console.error('Error al cargar Ordenamiento.json:', error); showMapStatus('Error al cargar la capa de Ordenamiento desde el servidor.', 'error'); });
            }
            
            let layerControl = L.control.layers(baseLayers).addTo(map);

            function updateLayerControl(overlayLayers) {
                map.removeControl(layerControl);
                layerControl = L.control.layers(baseLayers, overlayLayers).addTo(map);
            }
            
            function getVisibleUserLayers() {
                let visibleLayers = {};
                for (const key in mapLayers) {
                    if (mapLayers[key] && map.hasLayer(mapLayers[key]) && mapLayerTitles[key]) {
                        visibleLayers[mapLayerTitles[key]] = mapLayers[key];
                    }
                }
                return visibleLayers;
            }

            loadOrdenamientoFromServer();

            function loadKML(file, layerName) {
                if (!file) return;
                var reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        if (mapLayers[layerName]) map.removeLayer(mapLayers[layerName]);
                        const geojson = omnivore.kml.parse(e.target.result).toGeoJSON();
                        if (layerName === 'predio') { predioGeoJSON = geojson; } else if (layerName === 'plan') { planGeoJSON = geojson; }
                        mapLayers[layerName] = L.geoJSON(geojson, {
                            style: mapStyles[layerName],
                            pointToLayer: (feature, latlng) => L.circleMarker(latlng, mapStyles.parcelas),
                            onEachFeature: (feature, layer) => {
                                 let popupContent = `<strong>${mapLayerTitles[layerName]}</strong>`;
                                if (feature && feature.properties) { for (const key in feature.properties) { popupContent += `<br><strong>${key}:</strong> ${feature.properties[key]}`; } }
                                layer.bindPopup(popupContent);
                            }
                        }).addTo(map);
                        updateLayerControl({ ...getVisibleUserLayers(), "Ordenamiento Territorial": mapLayers.ordenamiento });
                        showMapStatus(`Capa "${mapLayerTitles[layerName]}" cargada.`, 'success');
                        if (layerName === 'predio') {
                            const center = mapLayers.predio.getBounds().getCenter();
                            document.getElementById('map-coordinates-display').innerHTML = `Lat: ${center.lat.toFixed(6)}, Lng: ${center.lng.toFixed(6)}`;
                            calcularInterseccionesYSuperficies(); 
                        } else if (layerName === 'plan') {
                            calcularSuperficiePlan();
                            calculatePlanCategoriesIntersection(); 
                        }
                        fitToLayers();
                    } catch (error) { showMapStatus('Error al cargar KML: ' + error.message, 'error'); }
                };
                reader.readAsText(file);
            }

            function toggleLayer(layerName, visible) {
                if (mapLayers[layerName]) { if (visible) { mapLayers[layerName].addTo(map); } else { map.removeLayer(mapLayers[layerName]); } }
            }

            function fitToLayers() {
                var group = new L.featureGroup();
                var hasLayers = false;
                ['predio', 'plan', 'parcelas'].forEach(key => {
                    if (mapLayers[key] && map.hasLayer(mapLayers[key])) { group.addLayer(mapLayers[key]); hasLayers = true; }
                });
                if (hasLayers) { map.fitBounds(group.getBounds(), { paddingTopLeft: [20, 20], paddingBottomRight: [500, 30] }); }
            }
            
            function calcularSuperficiePlan() {
                if (!planGeoJSON) return;
                try {
                    const areaPlanM2 = turf.area(planGeoJSON);
                    const areaPlanHa = areaPlanM2 / 10000;
                    const areaPredioHa = parseFloat(document.getElementById('inputSupPredio').value) || 0;
                    if (areaPredioHa > 0 && areaPlanHa > (areaPredioHa + 0.001)) {
                         showMapStatus(`Error: El área del Plan (${formatNumber(areaPlanHa)}) no puede ser mayor al área del Predio (${formatNumber(areaPredioHa)}).`, 'error');
                         document.getElementById('inputSupAreaProyecto').value = "0";
                    } else {
                        document.getElementById('inputSupAreaProyecto').value = areaPlanHa.toFixed(2);
                        showMapStatus(`Área del Plan Técnico calculada: ${formatNumber(areaPlanHa)} ha.`, 'success');
                    }
                    actualizarSuperficientes();
                    validatePlanSurfaces();
                } catch(e) { showMapStatus('Error calculando el área del Plan Técnico: ' + e.message, 'error'); }
            }
            
            // ── Detección de categoría OTBN: itera TODAS las propiedades ──────────────
            function detectarCatOTBN(feature) {
                if (!feature || !feature.properties) return null;
                for (const key of Object.keys(feature.properties)) {
                    const val = String(feature.properties[key] || '').toUpperCase().trim();
                    if (val.includes('ROJO'))     return 'ROJO';
                    if (val.includes('AMARILLO')) return 'AMARILLO';
                    if (val.includes('VERDE'))    return 'VERDE';
                    // Valores numéricos o romanos puros
                    if (val === 'I'   || val === '1') return 'ROJO';
                    if (val === 'II'  || val === '2') return 'AMARILLO';
                    if (val === 'III' || val === '3') return 'VERDE';
                    // "CAT I", "CAT. I", "CATEGORIA I" etc
                    if (/^CAT(EGORIA|EGOR[ÍI]A)?[.:\s]*I$/i.test(val))   return 'ROJO';
                    if (/^CAT(EGORIA|EGOR[ÍI]A)?[.:\s]*II$/i.test(val))  return 'AMARILLO';
                    if (/^CAT(EGORIA|EGOR[ÍI]A)?[.:\s]*III$/i.test(val)) return 'VERDE';
                }
                return null;
            }

            // Aplana Polygon y MultiPolygon a array de Polygon Features
            function aplanarAPolygons(feature) {
                if (!feature || !feature.geometry) return [];
                if (feature.geometry.type === 'Polygon') return [feature];
                if (feature.geometry.type === 'MultiPolygon') {
                    return feature.geometry.coordinates.map(coords => ({
                        type: 'Feature', properties: feature.properties,
                        geometry: { type: 'Polygon', coordinates: coords }
                    }));
                }
                return [];
            }

            // Intersección con filtro bbox (rápido) + limpieza de coords como fallback
            function intersectarSeguro(featA, featB) {
                try {
                    const bA = turf.bbox(featA), bB = turf.bbox(featB);
                    if (bA[2] < bB[0] || bB[2] < bA[0] || bA[3] < bB[1] || bB[3] < bA[1]) return null;
                    return turf.intersect(featA, featB);
                } catch(e) {
                    try { return turf.intersect(turf.cleanCoords(featA), turf.cleanCoords(featB)); }
                    catch(e2) { return null; }
                }
            }

            // Núcleo del cálculo: dado un GeoJSON fuente, cruza con OTBN y suma por categoría
            function _sumarCategoriasOTBN(sourceGeoJSON) {
                let rojo = 0, amarillo = 0, verde = 0, sinCat = 0;
                const srcFlat = [];
                sourceGeoJSON.features.forEach(f => aplanarAPolygons(f).forEach(p => srcFlat.push(p)));
                const ordFlat = [];
                ordenamientoGeoJSON.features.forEach(f => aplanarAPolygons(f).forEach(p => ordFlat.push(p)));

                // Log diagnóstico
                if (ordFlat.length > 0) {
                    const p0 = ordFlat[0].properties;
                    console.log('[OTBN] Features:', ordFlat.length, '| Props[0]:', JSON.stringify(p0));
                    console.log('[OTBN] Cat detectada[0]:', detectarCatOTBN(ordFlat[0]));
                }

                srcFlat.forEach(src => {
                    ordFlat.forEach(ord => {
                        const inter = intersectarSeguro(src, ord);
                        if (!inter) return;
                        const m2 = turf.area(inter);
                        if (m2 < 1) return;
                        const cat = detectarCatOTBN(ord);
                        if      (cat === 'ROJO')     rojo     += m2;
                        else if (cat === 'AMARILLO') amarillo += m2;
                        else if (cat === 'VERDE')    verde    += m2;
                        else                          sinCat   += m2;
                    });
                });
                return { rojo, amarillo, verde, sinCat };
            }

            function calcularInterseccionesYSuperficies() {
                if (!predioGeoJSON || !ordenamientoGeoJSON) { return; }
                showMapStatus('Calculando superficies OTBN...', 'success');
                try {
                    document.getElementById('inputSupPredio').value = (turf.area(predioGeoJSON) / 10000).toFixed(2);
                } catch(e) { showMapStatus('Error al calcular área del predio.', 'error'); return; }
                try {
                    const { rojo, amarillo, verde } = _sumarCategoriasOTBN(predioGeoJSON);
                    document.getElementById('inputCatRojo').value     = (rojo     / 10000).toFixed(2);
                    document.getElementById('inputCatAmarillo').value = (amarillo / 10000).toFixed(2);
                    document.getElementById('inputCatVerde').value    = (verde    / 10000).toFixed(2);
                    actualizarSuperficientes();
                    showMapStatus('✅ Rojo: ' + (rojo/10000).toFixed(2) + ' ha | Amarillo: ' + (amarillo/10000).toFixed(2) + ' ha | Verde: ' + (verde/10000).toFixed(2) + ' ha', 'success');
                } catch(e) { showMapStatus('Error en cálculo OTBN: ' + e.message, 'error'); console.error(e); }
            }

            function calculatePlanCategoriesIntersection() {
                if (!planGeoJSON || !ordenamientoGeoJSON) {
                    ['spanPlanCatRojo','spanPlanCatAmarillo','spanPlanCatVerde'].forEach(id => {
                        document.getElementById(id).textContent = '0,00';
                    });
                    return;
                }
                try {
                    const { rojo, amarillo, verde } = _sumarCategoriasOTBN(planGeoJSON);
                    document.getElementById('spanPlanCatRojo').textContent     = formatNumber(rojo     / 10000);
                    document.getElementById('spanPlanCatAmarillo').textContent = formatNumber(amarillo / 10000);
                    document.getElementById('spanPlanCatVerde').textContent    = formatNumber(verde    / 10000);
                    validatePlanSurfaces();
                } catch(e) { showMapStatus('Error calculando intersección del Plan: ' + e.message, 'error'); console.error(e); }
            }
            
            function validatePlanSurfaces() {
                const inputPlanSinCat = document.getElementById('inputPlanSinCategorizar');
                inputPlanSinCat.style.border = '';
                const predioSinCat = parseFloat(document.getElementById('inputSinCategorizar').value) || 0;
                const planSinCat = parseFloat(inputPlanSinCat.value) || 0;
                if (planSinCat > (predioSinCat + 0.001) ) {
                    alert(`¡Error de Validación!\n\nLa superficie "Sin Categorizar" del área del plan (${formatNumber(planSinCat)}) no puede ser mayor a la superficie "Sin Categorizar" total del predio (${formatNumber(predioSinCat)}).`);
                    inputPlanSinCat.style.border = '2px solid red';
                    return false;
                }
                const supAreaProyecto = parseFloat(document.getElementById('inputSupAreaProyecto').value) || 0;
                const planRojo = parseFloat(document.getElementById('spanPlanCatRojo').textContent.replace(/\./g, '').replace(',', '.')) || 0;
                const planAmarillo = parseFloat(document.getElementById('spanPlanCatAmarillo').textContent.replace(/\./g, '').replace(',', '.')) || 0;
                const planVerde = parseFloat(document.getElementById('spanPlanCatVerde').textContent.replace(/\./g, '').replace(',', '.')) || 0;
                const sumaPlan = planRojo + planAmarillo + planVerde + planSinCat;
                if (supAreaProyecto > 0 && sumaPlan > (supAreaProyecto + 0.001)) {
                    alert(`¡Error de Validación!\n\nLa suma de superficies por categoría del plan (${formatNumber(sumaPlan)}) no puede exceder la "Superficie del Área del Proyecto" (${formatNumber(supAreaProyecto)}).`);
                    inputPlanSinCat.style.border = '2px solid orange';
                    return false;
                }
                return true;
            }

                        document.getElementById('kml-predio-file').addEventListener('change', (e) => loadKML(e.target.files[0], 'predio'));
            document.getElementById('kml-plan-file').addEventListener('change', (e) => loadKML(e.target.files[0], 'plan'));
            document.getElementById('kml-parcelas-file').addEventListener('change', (e) => loadKML(e.target.files[0], 'parcelas'));
            document.getElementById('kml-predio-visible').addEventListener('change', (e) => toggleLayer('predio', e.target.checked));
            document.getElementById('kml-plan-visible').addEventListener('change', (e) => toggleLayer('plan', e.target.checked));
            document.getElementById('kml-parcelas-visible').addEventListener('change', (e) => toggleLayer('parcelas', e.target.checked));

            document.getElementById('btn-map-clear').addEventListener('click', () => {
                ['predio', 'plan', 'parcelas'].forEach(key => { if (mapLayers[key]) { map.removeLayer(mapLayers[key]); mapLayers[key] = null; } });
                predioGeoJSON = null; planGeoJSON = null; 
                document.getElementById('kml-predio-file').value = ''; document.getElementById('kml-plan-file').value = ''; document.getElementById('kml-parcelas-file').value = '';
                document.getElementById('inputSupPredio').value = '0'; document.getElementById('inputSupAreaProyecto').value = '0';
                document.getElementById('inputCatRojo').value = '0'; document.getElementById('inputCatAmarillo').value = '0'; document.getElementById('inputCatVerde').value = '0';
                document.getElementById('spanPlanCatRojo').textContent = '0,00'; document.getElementById('spanPlanCatAmarillo').textContent = '0,00'; document.getElementById('spanPlanCatVerde').textContent = '0,00';
                document.getElementById('inputPlanSinCategorizar').value = '0';
                actualizarSuperficientes();
                updateLayerControl({ ...getVisibleUserLayers(), "Ordenamiento Territorial": mapLayers.ordenamiento });
                document.getElementById('map-coordinates-display').innerHTML = `Lat: ---, Lng: ---`;
                showMapStatus('Capas de usuario removidas.', 'success');
            });
            document.getElementById('btn-map-fit').addEventListener('click', fitToLayers);
            document.getElementById('btn-map-fix').addEventListener('click', () => {
                map.dragging.disable(); map.touchZoom.disable(); map.doubleClickZoom.disable();
                map.scrollWheelZoom.disable(); map.boxZoom.disable(); map.keyboard.disable();
                if (map.tap) map.tap.disable();
                map.removeControl(layerControl);
                showMapStatus('Vista del mapa fijada. Lista para imprimir.', 'success');
            });
        
        const T_VALUES_95_CI = { 1: 12.706, 2: 4.303, 3: 3.182, 4: 2.776, 5: 2.571, 6: 2.447, 7: 2.365, 8: 2.306, 9: 2.262, 10: 2.228, 15: 2.131, 20: 2.086, 25: 2.060, 30: 2.042, Infinity: 1.96 };
        function getTValue(df) { if (df <= 0) return T_VALUES_95_CI[1]; if (df >= 30) return T_VALUES_95_CI.Infinity; if (T_VALUES_95_CI[df]) return T_VALUES_95_CI[df]; let closestDf = Object.keys(T_VALUES_95_CI).map(Number).filter(k => k !== Infinity && k <= df).pop(); return T_VALUES_95_CI[closestDf || 1]; }
        const locationData = { "ALVEAR": { dpto: "GENERAL ALVEAR" }, "BELLA VISTA": { dpto: "BELLA VISTA" }, "BERON DE ASTRADA": { dpto: "BERON DE ASTRADA" }, "CHAVARRIA": { dpto: "SAN ROQUE" }, "COLONIA CARLOS PELLEGRINI": { dpto: "SAN MARTIN" }, "COLONIA LIEBIGS": { dpto: "ITUZAINGO" }, "CONCEPCION": { dpto: "CONCEPCION" }, "CORRIENTES": { dpto: "CAPITAL" }, "CURUZU CUATIA": { dpto: "CURUZU CUATIA" }, "EL SOMBRERO": { dpto: "EMPEDRADO" }, "EMPEDRADO": { dpto: "EMPEDRADO" }, "ESQUINA": { dpto: "ESQUINA" }, "FELIPE YOFRE": { dpto: "MERCEDES" }, "GARRUCHOS": { dpto: "SANTO TOME" }, "GOBERNADOR AGR. VALENTIN VIRASORO": { dpto: "SANTO TOME" }, "GOBERNADOR JUAN E. MARTINEZ": { dpto: "LAVALLE" }, "GOYA": { dpto: "GOYA" }, "GUAVIRAVI": { dpto: "SAN MARTIN" }, "ITA IBATE": { dpto: "GENERAL PAZ" }, "ITATI": { dpto: "ITATI" }, "ITUZAINGO": { dpto: "ITUZAINGO" }, "LA CRUZ": { dpto: "SAN MARTIN" }, "LAGUNA BRAVA": { dpto: "CAPITAL" }, "LAVALLE": { dpto: "LAVALLE" }, "LORETO": { dpto: "SAN MIGUEL" }, "MARIANO I. LOZA": { dpto: "MERCEDES" }, "MBURUCUYA": { dpto: "MBURUCUYA" }, "MERCEDES": { dpto: "MERCEDES" }, "MOCORETA": { dpto: "MONTE CASEROS" }, "MONTE CASEROS": { dpto: "MONTE CASEROS" }, "NUESTRA SENORA DEL ROSARIO DE CAA CATI": { dpto: "GENERAL PAZ" }, "9 DE JULIO": { dpto: "SAN ROQUE" }, "PASO DE LA PATRIA": { dpto: "SAN COSME" }, "PASO DE LOS LIBRES": { dpto: "PASO DE LOS LIBRES" }, "PEDRO R. FERNANDEZ": { dpto: "SAN ROQUE" }, "PERUGORRIA": { dpto: "CURUZU CUATIA" }, "SALADAS": { dpto: "SALADAS" }, "SAN ANTONIO": { dpto: "ITUZAINGO" }, "SAN CARLOS": { dpto: "ITUZAINGO" }, "SAN COSME": { dpto: "SAN COSME" }, "SAN LORENZO": { dpto: "SALADAS" }, "SAN LUIS DEL PALMAR": { dpto: "SAN LUIS DEL PALMAR" }, "SAN MIGUEL": { dpto: "SAN MIGUEL" }, "SAN ROQUE": { dpto: "SAN ROQUE" }, "SANTA ANA": { dpto: "SAN COSME" }, "SANTA LUCIA": { dpto: "LAVALLE" }, "SANTA ROSA": { dpto: "CONCEPCION" }, "SANTO TOME": { dpto: "SANTO TOME" }, "SAUCE": { dpto: "SAUCE" }, "VILLA OLIVARI": { dpto: "ITUZAINGO" }, "YAPEYU": { dpto: "SAN MARTIN" }, };
window.ecuacionesTexto = {
  'ESP': {
    'Acanthosyris spinescens': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Achatocarpus praecox': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Actinostemon concolor': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Allophylus edulis': { ecuacion: 'V = -0,02645+0,00051778*DAP²' },
    'Aloysia gratissima': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Aspidosperma quebracho-blanco': { ecuacion: 'V = exp(-10,97613+1,11062*ln(DAP²*H))' },
    'Atamisquea emarginata': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Baccharis dracunculifolia': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Berberis laurina': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Blepharocalyx salicifolius': { ecuacion: 'V = exp(-2,291+0,05585*(lnDAP)²+0,83235*ln(DAP²*H))/1000' },
    'Bulnesia retama': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Butia yatay': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Cabralea canjerana': { ecuacion: 'V = -0,16388+0,00070302*DAP²' },
    'Capparicordis tweediana': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Celtis chichape': { ecuacion: 'V = 0,00009*DAP²+0,0048*DAP-0,0355' },
    'Celtis ehrenbergiana': { ecuacion: 'V = 0,00009*DAP²+0,0048*DAP-0,0355' },
    'Celtis iguanaea': { ecuacion: 'V = exp(-3,27947-0,07343*(lnH)²+1,05804*ln(DAP²*H))/1000' },
    'Cephalanthus glabratus': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Chrysophyllum marginatum': { ecuacion: 'V = -0,03529+0,00090151*DAP²' },
    'Condalia buxifolia': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Condalia microphylla': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Copernicia alba': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Erythrina crista-galli': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Erythroxylum microphyllum': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Eugenia mattosii': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Eugenia myrcianthes': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Eugenia uniflora': { ecuacion: 'V = exp(-2,66494-0,04695*(lnLF)²+0,99796*ln(DAP²*LF))/1000' },
    'Eugenia uruguayensis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Geoffroea decorticans': { ecuacion: 'V = exp(-2,63632+0,97973*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Gleditsia amorphoides': { ecuacion: 'V = exp(-2,66494-0,04695*(lnLF)²+0,99796*ln(DAP²*LF))/1000' },
    'Gleditsia triacanthos': { ecuacion: 'V = exp(-2,66494-0,04695*(lnLF)²+0,99796*ln(DAP²*LF))/1000' },
    'Guettarda uruguensis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Jodina rhombifolia': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Larrea divaricata': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Ligustrum lucidum*': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Lycium chilense': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Melia azedarach*': { ecuacion: 'V = exp(-9,7647+1,8645*lnDAP+0,9281*lnH)' },
    'Mimosa bimucronata': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Mimosa ostenii': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Morus alba*': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Morus insignis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Myrcianthes cisplatensis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Myrcianthes pungens': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Myrsine balansae': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Myrsine laetevirens': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Nectandra angusta': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Nectandra angustifolia': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Parkinsonia aculeata': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Parkinsonia praecox': { ecuacion: 'V = exp(-2,63632+0,97973*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Phytolacca dioica': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Pisonia zapallo': { ecuacion: 'V = exp(-2,66494-0,04695*(lnLF)²+0,99796*ln(DAP²*LF))/1000' },
    'Pouteria gardneriana': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Pouteria salicifolia': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Prosopis affinis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Prosopis alba': { ecuacion: 'V = exp(-9,570224+2,234559*ln(DAP))' },
    'Prosopis caldenia': { ecuacion: 'V = 2,8942*AB-(6,3070*AB^1,5)+(0,5889*AB*H)' },
    'Prosopis chilensis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Prosopis flexuosa': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Prosopis kuntzei': { ecuacion: 'V = exp(-2,6363+0,9797*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Prosopis nigra': { ecuacion: 'V = exp(-10,7917+1,0916*ln(DAP²*H))' },
    'Prosopis torquata': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Ruprechtia laxiflora': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Ruprechtia salicifolia': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Salix humboldtiana': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Sapium glandulosum': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Sapium haematospermum': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Schinopsis balansae': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Schinopsis lorentzii': { ecuacion: 'V = exp(-10,8156+1,088*ln(DAP²*H))' },
    'Schinus bumelioides': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Schinus fasciculatus': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Schinus longifolius': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Schinus polygamus': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Scutia buxifolia': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Sebastiania brasiliensis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Sebastiania commersoniana': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Senegalia bonariensis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Senegalia tucumanensis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Sideroxylon obtusifolium': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Syagrus romanzoffiana': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Tabernaemontana catharinensis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Terminalia australis': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Trithrinax campestris': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Vachellia aroma': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Vachellia astringens': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Vachellia caven': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Vassobia breviflora': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Xylosma tweediana': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Xylosma venosa': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Zanthoxylum fagara': { ecuacion: 'V = 0,07307+0,00005407*DAP²*LF' },
    'Zanthoxylum rhoifolium': { ecuacion: 'V = (-1,5336+0,0525*DAP²+0,0569*DAP²*LF+0,0161*DAP*LF²)/1000' },
  },
  'PCH': {
    'Acacia paradoxa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Acanthosyris falcata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Acanthosyris spinescens': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Achatocarpus praecox': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Acrocomia aculeata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Agonandra excelsa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Albizia inundata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Allenrolfea vaginata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Allophylus edulis': { ecuacion: 'V = -0,02645+0,00051778*DAP²' },
    'Aloysia virgata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Anadenanthera colubrina': { ecuacion: 'V = exp(-3,025+1,01618*ln(DAP²*H)-0,00003*H²*DAP)/1000' },
    'Anisocapparis speciosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Annona emarginata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Aralia soratensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Aspidosperma quebracho-blanco': { ecuacion: 'V = exp(-10,97613+1,11062*ln(DAP²*H))' },
    'Aspidosperma triternatum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Atamisquea emarginata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ateleia glazioveana': { ecuacion: 'V = -1,5336+0,0525*DAP²+0,0569*DAP²*LF+0,0161*DAP*LF²' },
    'Athyana weinmanniifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Azara salicifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Berberis commutata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Berberis microphylla': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Blepharocalyx salicifolius': { ecuacion: 'V = exp(-2,291+0,05585*(lnDAP)²+0,83235*ln(DAP²*H))/1000' },
    'Bougainvillea campanulata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Bougainvillea praecox': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Bougainvillea spinosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Bougainvillea stipitata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Bulnesia foliosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Bulnesia retama': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Butia yatay': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cabralea canjerana': { ecuacion: 'V = -0,16388+0,00070302*DAP²' },
    'Calycophyllum multiflorum': { ecuacion: 'V = exp(-2,291+0,05585*(lnDAP)²+0,83235*ln(DAP²*H))/1000' },
    'Capparicordis tweediana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Capsicum recurvatum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Casearia catharinensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Casearia sylvestris': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Castela coccinea': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cedrela balansae': { ecuacion: 'V = exp(-2,43851+0,95605*ln(DAP²*LF)-0,80350*(LF/DAP))/1000' },
    'Ceiba chodatii': { ecuacion: 'V = 0,000117*(DAP²*H)^0,8387' },
    'Ceiba speciosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Celtis chichape': { ecuacion: 'V = 0,00009*DAP²+0,0048*DAP-0,0355' },
    'Celtis ehrenbergiana': { ecuacion: 'V = 0,00009*DAP²+0,0048*DAP-0,0355' },
    'Celtis iguanaea': { ecuacion: 'V = exp(-3,27947-0,07343*(lnH)²+1,05804*ln(DAP²*H))/1000' },
    'Celtis pallida': { ecuacion: 'V = exp(-3,27947-0,07343*(lnH)²+1,05804*ln(DAP²*H))/1000' },
    'Chloroleucon chacoense': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Chloroleucon foliolosum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Chloroleucon tenuiflorum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Chomelia obtusa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Chrysophyllum gonocarpum': { ecuacion: 'V = -0,00698+0,00055555*DAP²' },
    'Chrysophyllum marginatum': { ecuacion: 'V = -0,03529+0,00090151*DAP²' },
    'Cnicothamnus lorentzii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Coccoloba cordata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Coccoloba tiliacea': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cochlospermum tetraporum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Condalia buxifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Condalia microphylla': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Copernicia alba': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cordia americana': { ecuacion: 'V = exp(-3,27947-0,07343*(lnH)²+1,05804*ln(DAP²*H))/1000' },
    'Cordia ecalyculata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cordia saccelia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Croton urucurana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cupania vernalis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cybistax antisyphilitica': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cynophalla flexuosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Cynophalla retusa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Dasyphyllum brasiliense': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Diplokeleba floribunda': { ecuacion: 'V = 0,002525+0,000049775*DAP²*LF' },
    'Duranta serratifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Enterolobium contortisiliquum': { ecuacion: 'V = exp(-3,27947-0,07343*(lnH)²+1,05804*ln(DAP²*H))/1000' },
    'Erythrina crista-galli': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Erythrina falcata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Erythroxylum argentinum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Erythroxylum cuneifolium': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Erythroxylum microphyllum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Eugenia hyemalis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Eugenia myrcianthes': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Eugenia pitanga': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Eugenia punicifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Eugenia speciosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Eugenia uniflora': { ecuacion: 'V = exp(-2,66494-0,04695*(lnLF)²+0,99796*ln(DAP²*LF))/1000' },
    'Ficus citrifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ficus luschnathiana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Geoffroea decorticans': { ecuacion: 'V = exp(-2,63632+0,97973*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Gleditsia amorphoides': { ecuacion: 'V = exp(-2,66494-0,04695*(lnLF)²+0,99796*ln(DAP²*LF))/1000' },
    'Gochnatia palosanto': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Gonopterodendron bonariensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Gonopterodendron sarmientoi': { ecuacion: 'V = exp(-2,6363+0,9797*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Guarea macrophylla': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Guazuma ulmifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Guettarda uruguensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Handroanthus albus': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Handroanthus heptaphyllus': { ecuacion: 'V = 0,000166288*DAP^1,29072*LF^1,5206' },
    'Handroanthus impetiginosus': { ecuacion: 'V = exp(-2,43851+0,95605*ln(DAP²*LF)-0,80350*(LF/DAP))/1000' },
    'Holocalyx balansae': { ecuacion: 'V = 0,002525+0,000049775*DAP²*LF' },
    'Inga affinis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Inga uraguensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Jatropha hieronymi': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Jodina rhombifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Juglans australis': { ecuacion: 'V = exp(-2,4385+0,9561*ln(DAP²*LF)-0,8035*(LF/DAP))/1000' },
    'Kageneckia lanceolata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Lachesiodendron viridiflorum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Larrea cuneifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Larrea divaricata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Libidibia paraguariensis': { ecuacion: 'V = exp(-2,63632+0,97973*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Ligustrum lucidum*': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Lithraea molleoides': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Loxopterygium grisebachii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Luehea divaricata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Lycium boerhaviaefolium': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Lycium cestroides': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Lycium cuneatum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Lycium morongii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Lycium tenuispinosum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Maclura tinctoria': { ecuacion: 'V = exp(-3,27947-0,07343*(lnLF)²+1,05804*ln(DAP²*LF))/1000' },
    'Malvastrum uniapiculatum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Maytenus boaria': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Maytenus viscifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Maytenus vitis-idaea': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Melia azedarach*': { ecuacion: 'V = exp(-9,7647+1,8645*lnDAP+0,9281*lnH)' },
    'Microlobius foetidus': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Mimosa bonplandii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Mimosa candelabrum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Mimosa debilis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Mimosa detinens': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Mimozyganthus carinatus': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Monteverdia ilicifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Monteverdia spinosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Morus alba*': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Morus insignis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myracrodruon balansae': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myracrodruon urundeuva': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myrcia pubiflora': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myrcianthes cisplatensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myrcianthes mato': { ecuacion: 'V = exp(-2,66494-0,04695*(lnLF)²+0,99796*ln(DAP²*LF))/1000' },
    'Myrcianthes pseudomato': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myrcianthes pungens': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myrrhinium atropurpureum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myrsine balansae': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Myrsine laetevirens': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Nectandra angustifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Nectandra cuspidata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Nicotiana glauca': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ochetophila trinervis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ocotea acutifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ocotea puberula': { ecuacion: 'V = -0,57078+0,00098919*DAP²' },
    'Parapiptadenia excelsa': { ecuacion: 'V = exp(-3,27947-0,07343*(lnH)²+1,05804*ln(DAP²*H))/1000' },
    'Parasenegalia visco': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Parkinsonia aculeata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Parkinsonia praecox': { ecuacion: 'V = exp(-2,6363+0,9797*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Parodiodendron marginivillosum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Peltophorum dubium': { ecuacion: 'V = 0,000107787*DAP^1,70242*LF^0,885036' },
    'Philyra brasiliensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Phoradendron habrostachyum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Phyllanthus chacoensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Phyllostylon rhamnoides': { ecuacion: 'V = exp(-2,3988+0,96419*ln(DAP²*H)-1,00826*(H/DAP))/1000' },
    'Phytolacca dioica': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Pinus taeda*': { ecuacion: 'V = 0,04076*DAP^2,01848*H^0,98123' },
    'Pisonia zapallo': { ecuacion: 'V = exp(-2,66494-0,04695*(lnLF)²+0,99796*ln(DAP²*LF))/1000' },
    'Plinia rivularis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Porlieria microphylla': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Pouteria gardneriana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Pouteria glomerata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis affinis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis alba': { ecuacion: 'V = exp(-9,570224+2,234559*ln(DAP))' },
    'Prosopis alpataco': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis argentina': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis caldenia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis chilensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis elata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis ferox': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis flexuosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis hassleri': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis kuntzei': { ecuacion: 'V = exp(-2,6363+0,9797*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Prosopis nigra': { ecuacion: 'V = exp(-10,7917+1,0916*ln(DAP²*H))' },
    'Prosopis rubiflora': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis ruizleali': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis ruscifolia': { ecuacion: 'V = exp(-2,6363+0,9797*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Prosopis sericantha': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis torquata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prosopis vinalillo': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Prunus tucumanensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Psidium guajava': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Psidium striatulum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Pterogyne nitens': { ecuacion: 'V = exp(-2,4385+0,9561*ln(DAP²*LF)-0,8035*(LF/DAP))/1000' },
    'Randia ferox': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Rauvolfia schuelii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Rubus brasiliensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ruprechtia apetala': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ruprechtia brachysepala': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ruprechtia laxiflora': { ecuacion: 'V = -0,10352+0,00070109*DAP²' },
    'Ruprechtia salicifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Salix humboldtiana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Salta triflora': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Sapindus saponaria': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Sapium glandulosum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Sapium haematospermum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Sarcomphalus mistol': { ecuacion: 'V = exp(-2,63632+0,97973*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Sarcotoxicum salicifolium': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schaefferia argentinensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinopsis balansae': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinopsis heterophylla': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinopsis lorentzii': { ecuacion: 'V = exp(-10,8156+1,088*ln(DAP²*H))' },
    'Schinus areira': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus bumelioides': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus fasciculatus': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus gracilipes': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus latifolius*': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus lentiscifolius': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus longifolius': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus marchandii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus meyeri': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus molle': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus piliferus': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus polygamus': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus praecox': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus roigii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus sp.': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Schinus spinosus': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Scutia buxifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Sebastiania brasiliensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Sebastiania commersoniana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Senegalia bonariensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Senegalia fiebrigii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Senegalia gilliesii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Senegalia martii': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Senegalia praecox': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Serjania foveata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Sideroxylon obtusifolium': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Solanum granulosumleprosum': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Solanum riparium': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Sorocea sprucei': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Syagrus romanzoffiana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Tabebuia nodosa': { ecuacion: 'V = exp(-2,6363+0,9797*ln(DAP²*LF)-0,00028*ln(LF²*DAP))/1000' },
    'Tabernaemontana catharinensis': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Tachigali aurea': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Tecoma stans': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Terminalia catappa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Terminalia triflora': { ecuacion: 'V = exp(-3,27947-0,07343*(lnH)²+1,05804*ln(DAP²*H))/1000' },
    'Tessaria integrifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Tipuana tipu': { ecuacion: 'V = exp(-2,43851+0,95605*ln(DAP²*LF)-0,8035*(LF/DAP))/1000' },
    'Trichilia catigua': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Trichilia elegans': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Trithrinax campestris': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Trithrinax schizophylla var. biflabellata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Trithrinax schyzophylla': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Trithrinax schyzophylla var. schyzophylla': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Vachellia albicorticata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Vachellia aroma': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Vachellia astringens': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Vachellia caven': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Vachellia macracantha': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Vallesia glabra': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Vasconcellea quercifolia': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Vassobia breviflora': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Ximenia americana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Xylosma longipetiolata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Xylosma pubescens': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Xylosma tweediana': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Xylosma venosa': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Zanthoxylum coco': { ecuacion: 'V = exp(-3,27947-0,07343*(lnH)²+1,05804*ln(DAP²*H))/1000' },
    'Zanthoxylum fagara': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Zanthoxylum petiolare': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
    'Zanthoxylum rhoifolium': { ecuacion: 'V = (-1,5336+0,0525*DAP²+0,0569*DAP²*LF+0,0161*DAP*LF²)/1000' },
    'Zuccagnia punctata': { ecuacion: 'V = -0,09996+0,00057954*DAP²' },
  },
  'SPA': {
    'Achatocarpus praecox': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Actinostemon concolor': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Aegiphila sp.': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Aiouea amoena': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Albizia niopoides': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Alchornea glandulosa': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Alchornea triplinervia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Allophylus edulis': { ecuacion: 'V = -0,02645+0,00051778*DAP²' },
    'Aloysia virgata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Annona emarginata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Annona neosalicifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Annona rugulosa': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Apuleia leiocarpa': { ecuacion: 'V = -0,36367+0,00102635*DAP²' },
    'Aralia warmingiana': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Araucaria angustifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Aspidosperma australe': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Aspidosperma polyneuron': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Ateleia glazioveana': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Balfourodendron riedelianum': { ecuacion: 'V = -0,48110+0,00109879*DAP²' },
    'Banara tomentosa': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Bastardiopsis densiflora': { ecuacion: 'V = -0,51787+0,00101204*DAP²' },
    'Bauhinia forficata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Bauhinia microstachya': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Cabralea canjerana': { ecuacion: 'V = -0,16388+0,00070302*DAP²' },
    'Calliandra foliolosa': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Campomanesia guazumifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Campomanesia xanthocarpa': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Carica quercifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Casearia decandra': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Casearia sylvestris': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Cecropia pachystachya': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Cedrela fissilis': { ecuacion: 'V = -0,32029+0,00090151*DAP²' },
    'Ceiba chodatii': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Ceiba speciosa': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Celtis iguanaea': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Cestrum laevigatum': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Chrysophyllum gonocarpum': { ecuacion: 'V = -0,00698+0,00055555*DAP²' },
    'Chrysophyllum marginatum': { ecuacion: 'V = -0,03529+0,00090151*DAP²' },
    'Citharexylum montevidense': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Citronella paniculata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Citrus sp.*': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Cordia americana': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Cordia ecalyculata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Cordia trichotoma': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Coutarea hexandra': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Cupania vernalis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Dendropanax cuneatus': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Diatenopteryx sorbifolia': { ecuacion: 'V = -0,30924+0,00088966*DAP²' },
    'Didymopanax morototoni': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Enterolobium contortisiliquum': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Erythrina falcata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Erythroxylum deciduum': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Eucalyptus grandis*': { ecuacion: 'V = -0,03435+0,00067705*DAP²' },
    'Eugenia burkartiana': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Eugenia involucrata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Eugenia psidiiflora': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Eugenia pyriformis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Eugenia uniflora': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Euterpe edulis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Fagara chiloperone': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Ficus luschnathiana': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Gleditsia amorphoides': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Guarea kunthiana': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Guarea macrophylla': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Guazuma ulmifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Handroanthus albus': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Handroanthus heptaphyllus': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Helietta apiculata': { ecuacion: 'V = -0,09949+0,00073571*DAP²' },
    'Heliocarpus popayanensis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Hennecartia omphalandra': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Hexachlamys edulis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Holocalyx balansae': { ecuacion: 'V = -0,16710+0,00067104*DAP²' },
    'Hovenia dulcis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Ilex brevicuspis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Ilex paraguariensis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Inga marginata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Inga uraguensis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Inga verna': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Jacaranda micrantha': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Jacaratia spinosa': { ecuacion: 'V = -0,11007+0,00045694*DAP²' },
    'Lithraea molleoides': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Lonchocarpus muehlbergianus': { ecuacion: 'V = -0,10374+0,00058601*DAP²' },
    'Lonchocarpus nitidus': { ecuacion: 'V = -0,23155+0,00086506*DAP²' },
    'Luehea divaricata': { ecuacion: 'V = -0,63780+0,00097390*DAP²' },
    'Machaerium paraguariense': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Machaerium stipitatum': { ecuacion: 'V = -0,36061+0,00100716*DAP²' },
    'Maclura tinctoria': { ecuacion: 'V = exp(-3,27947-0,07343*(lnLF)²+1,05804*ln(DAP²*LF))/1000' },
    'Matayba elaeagnoides': { ecuacion: 'V = -0,18834+0,00070929*DAP²' },
    'Melia azedarach': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Monteverdia ilicifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Morus alba*': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Muellera campestris': { ecuacion: 'V = (-1,5336+0,0525*DAP²+0,0569*DAP²*LF+0,0161*DAP*LF²)/1000' },
    'Myrcianthes pungens': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Myrocarpus frondosus': { ecuacion: 'V = -0,25142+0,00091403*DAP²' },
    'Myrsine balansae': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Myrsine coriacea': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Myrsine parvula': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Nectandra angustifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Nectandra lanceolata': { ecuacion: 'V = -0,15200+0,00078945*DAP²' },
    'Nectandra membranacea': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Ocotea lancifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Ocotea puberula': { ecuacion: 'V = -0,57078+0,00098919*DAP²' },
    'Parapiptadenia rigida': { ecuacion: 'V = 0,0313+0,00077810*DAP²' },
    'Peltophorum dubium': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Phytolacca dioica': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Picrasma crenata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Pilocarpus pennatifolius': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Pinus elliotti*': { ecuacion: 'V = (0,04076*DAP^2,01848*H^0,98123)/1000' },
    'Pinus sp.*': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Pinus taeda*': { ecuacion: 'V = (0,04076*DAP^2,01848*H^0,98123)/1000' },
    'Pisonia zapallo': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Plinia rivularis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Pouteria salicifolia': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Prunus brasiliensis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Prunus subcoriacea': { ecuacion: 'V = -0,12170+0,00073043*DAP²' },
    'Quillaja brasiliensis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Rauvolfia sellowii': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Ruprechtia laxiflora': { ecuacion: 'V = -0,10352+0,00070109*DAP²' },
    'Sambucus australis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Sapium glandulosum': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Sapium haematospermum': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Schinus terebinthifolius': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Sebastiania argutidens': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Sebastiania brasiliensis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Sebastiania commersoniana': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Seguieria aculeata': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Senegalia polyphylla': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Sideroxylon obtusifolium': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Solanum granulosumleprosum': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Solanum pseudoquina': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Solanum sanctaecatharinae': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Sorocea bonplandii': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Strychnos brasiliensis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Styrax leprosus': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Syagrus romanzoffiana': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Symplocos uniflora': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Tabernaemontana catharinensis': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Terminalia triflora': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Tetrorchidium rubrivenium': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Trema micrantha': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Trichilia catigua': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Trichilia claussenii': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Trichilia elegans': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Urera baccifera': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Vitex megapotamica': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Xylosma pseudosalzmanii': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Zanthoxylum fagara': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Zanthoxylum petiolare': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
    'Zanthoxylum rhoifolium': { ecuacion: 'V = -0,27870+0,00084276*DAP²' },
  },
};

window.speciesFormulasByRegion = {
  'ESP': {
    'Acanthosyris spinescens': { scientificName: 'Saucillo espinoso', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Achatocarpus praecox': { scientificName: 'Palo tinta', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Actinostemon concolor': { scientificName: 'Actinostemon', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Allophylus edulis': { scientificName: 'Cocú / Chal-chal', volFuste: (d, af, at) => -0.02645+0.00051778*d**2, pesoEspecifico: 0.75 },
    'Aloysia gratissima': { scientificName: 'Azahar del monte / Palo amarillo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Aspidosperma quebracho-blanco': { scientificName: 'Quebracho blanco', volFuste: (d, af, at) => Math.exp(-10.97613+1.11062*Math.log(d**2*at)), pesoEspecifico: 0.75 },
    'Atamisquea emarginata': { scientificName: 'Atamisqui', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Baccharis dracunculifolia': { scientificName: 'Carqueja / Chilca', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Berberis laurina': { scientificName: 'Calafate / Espina amarilla', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Blepharocalyx salicifolius': { scientificName: 'Arrayán / Anacahuita', volFuste: (d, af, at) => Math.exp(-2.291+0.05585*(Math.log(d))**2+0.83235*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Bulnesia retama': { scientificName: 'Retama', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Butia yatay': { scientificName: 'Yatay', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Cabralea canjerana': { scientificName: 'Cedro macho / Canjerana', volFuste: (d, af, at) => -0.16388+0.00070302*d**2, pesoEspecifico: 0.75 },
    'Capparicordis tweediana': { scientificName: 'Sacha tomate / Sacha limón', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Celtis chichape': { scientificName: 'Tala churpi', volFuste: (d, af, at) => 0.00009*d**2+0.0048*d-0.0355, pesoEspecifico: 0.75 },
    'Celtis ehrenbergiana': { scientificName: 'Tala', volFuste: (d, af, at) => 0.00009*d**2+0.0048*d-0.0355, pesoEspecifico: 0.75 },
    'Celtis iguanaea': { scientificName: 'Tala trepadora / Tala gateadora', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(at))**2+1.05804*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Cephalanthus glabratus': { scientificName: 'Sarandí colorado', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Chrysophyllum marginatum': { scientificName: 'Vasuriña / Mocoretá', volFuste: (d, af, at) => -0.03529+0.00090151*d**2, pesoEspecifico: 0.75 },
    'Condalia buxifolia': { scientificName: 'Piquillín', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Condalia microphylla': { scientificName: 'Piquillín chico', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Copernicia alba': { scientificName: 'Palma blanca / Caranday', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Erythrina crista-galli': { scientificName: 'Ceibo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Erythroxylum microphyllum': { scientificName: 'Coca chica', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Eugenia mattosii': { scientificName: 'Guayabo de Mattos', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Eugenia myrcianthes': { scientificName: 'Guayabo colorado', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Eugenia uniflora': { scientificName: 'Ñangapiry / Pitanga', volFuste: (d, af, at) => Math.exp(-2.66494-0.04695*(Math.log(af))**2+0.99796*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Eugenia uruguayensis': { scientificName: 'Guayabo del Uruguay', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Geoffroea decorticans': { scientificName: 'Chañar', volFuste: (d, af, at) => Math.exp(-2.63632+0.97973*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Gleditsia amorphoides': { scientificName: 'Espina corona', volFuste: (d, af, at) => Math.exp(-2.66494-0.04695*(Math.log(af))**2+0.99796*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Gleditsia triacanthos': { scientificName: 'Acacia negra / Gleditsia', volFuste: (d, af, at) => Math.exp(-2.66494-0.04695*(Math.log(af))**2+0.99796*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Guettarda uruguensis': { scientificName: 'Jazmín del campo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Jodina rhombifolia': { scientificName: 'Sombra de toro / Quebracho flojo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Larrea divaricata': { scientificName: 'Jarilla', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Ligustrum lucidum*': { scientificName: 'Ligustro (exótica)', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Lycium chilense': { scientificName: 'Lagaña de perro chilena', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Melia azedarach*': { scientificName: 'Paraíso gigante (exótica)', volFuste: (d, af, at) => Math.exp(-9.7647+1.8645*Math.log(d)+0.9281*Math.log(at)), pesoEspecifico: 0.75 },
    'Mimosa bimucronata': { scientificName: 'Espinillo de bañado', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Mimosa ostenii': { scientificName: 'Espinillo de Osteni', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Morus alba*': { scientificName: 'Mora blanca (exótica)', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Morus insignis': { scientificName: 'Mora del monte', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Myrcianthes cisplatensis': { scientificName: 'Arrayán del río', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Myrcianthes pungens': { scientificName: 'Guabiyú', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Myrsine balansae': { scientificName: 'Canelón del campo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Myrsine laetevirens': { scientificName: 'Canelón', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Nectandra angusta': { scientificName: 'Laurel angosto', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Nectandra angustifolia': { scientificName: 'Laurel de río', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Parkinsonia aculeata': { scientificName: 'Cina-cina', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Parkinsonia praecox': { scientificName: 'Palo brea', volFuste: (d, af, at) => Math.exp(-2.63632+0.97973*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Phytolacca dioica': { scientificName: 'Ombú', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Pisonia zapallo': { scientificName: 'Zapallo caspi', volFuste: (d, af, at) => Math.exp(-2.66494-0.04695*(Math.log(af))**2+0.99796*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Pouteria gardneriana': { scientificName: 'Guapeba', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Pouteria salicifolia': { scientificName: 'Mbaé-pyvá / Arazá leche', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Prosopis affinis': { scientificName: 'Ñandubay', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Prosopis alba': { scientificName: 'Algarrobo blanco', volFuste: (d, af, at) => Math.exp(-9.570224+2.234559*Math.log(d)), pesoEspecifico: 0.75 },
    'Prosopis caldenia': { scientificName: 'Caldén', volFuste: (d, af, at) => 2.8942*(Math.PI*(d/200)**2)-(6.3070*(Math.PI*(d/200)**2)**1.5)+(0.5889*(Math.PI*(d/200)**2)*at), pesoEspecifico: 0.75 },
    'Prosopis chilensis': { scientificName: 'Algarrobo chileno', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Prosopis flexuosa': { scientificName: 'Algarrobo dulce', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Prosopis kuntzei': { scientificName: 'Itín', volFuste: (d, af, at) => Math.exp(-2.6363+0.9797*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Prosopis nigra': { scientificName: 'Algarrobo negro', volFuste: (d, af, at) => Math.exp(-10.7917+1.0916*Math.log(d**2*at)), pesoEspecifico: 0.75 },
    'Prosopis torquata': { scientificName: 'Tintitaco', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Ruprechtia laxiflora': { scientificName: 'Marmelero', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Ruprechtia salicifolia': { scientificName: 'Duraznillo del río', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Salix humboldtiana': { scientificName: 'Sauce criollo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Sapium glandulosum': { scientificName: 'Curupí del monte', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Sapium haematospermum': { scientificName: 'Curupí', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Schinopsis balansae': { scientificName: 'Quebracho colorado chaqueño', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Schinopsis lorentzii': { scientificName: 'Quebracho colorado santiagueño', volFuste: (d, af, at) => Math.exp(-10.8156+1.088*Math.log(d**2*at)), pesoEspecifico: 0.75 },
    'Schinus bumelioides': { scientificName: 'Molle negro', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Schinus fasciculatus': { scientificName: 'Molle de incienso', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Schinus longifolius': { scientificName: 'Molle de beber / Cola de lagarto', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Schinus polygamus': { scientificName: 'Molle chico / Huingán', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Scutia buxifolia': { scientificName: 'Corona de Cristo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Sebastiania brasiliensis': { scientificName: 'Sarandi blanco', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Sebastiania commersoniana': { scientificName: 'Sarandi', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Senegalia bonariensis': { scientificName: 'Garabato', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Senegalia tucumanensis': { scientificName: 'Garabato tucumano', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Sideroxylon obtusifolium': { scientificName: 'Guaraniná / Molle negro', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Syagrus romanzoffiana': { scientificName: 'Pindó / Coco', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Tabernaemontana catharinensis': { scientificName: 'Horquetero / Mataojo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Terminalia australis': { scientificName: 'Palo amarillo / Amarillo del río', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Trithrinax campestris': { scientificName: 'Palma caranday / Caraguatá', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Vachellia aroma': { scientificName: 'Tusca / Aromito', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Vachellia astringens': { scientificName: 'Curro', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Vachellia caven': { scientificName: 'Espinillo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Vassobia breviflora': { scientificName: 'Tomatillo del campo', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Xylosma tweediana': { scientificName: 'Xylosma', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Xylosma venosa': { scientificName: 'Xylosma', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Zanthoxylum fagara': { scientificName: 'Tembetarí', volFuste: (d, af, at) => 0.07307+0.00005407*d**2*af, pesoEspecifico: 0.75 },
    'Zanthoxylum rhoifolium': { scientificName: 'Mamica de cadela', volFuste: (d, af, at) => (-1.5336+0.0525*d**2+0.0569*d**2*af+0.0161*d*af**2)/1000, pesoEspecifico: 0.75 },
  },
  'PCH': {
    'Acacia paradoxa': { scientificName: 'Garabato', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Acanthosyris falcata': { scientificName: 'Saucillo / Yuchan del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Acanthosyris spinescens': { scientificName: 'Saucillo espinoso', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Achatocarpus praecox': { scientificName: 'Palo tinta', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Acrocomia aculeata': { scientificName: 'Mbocayá / Coco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Agonandra excelsa': { scientificName: 'Palo lanza', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Albizia inundata': { scientificName: 'Timbó blanco / Cebil colorado', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Allenrolfea vaginata': { scientificName: 'Jume', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Allophylus edulis': { scientificName: 'Cocú / Chal-chal', volFuste: (d, af, at) => -0.02645+0.00051778*d**2, pesoEspecifico: 0.75 },
    'Aloysia virgata': { scientificName: 'Azahar del monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Anadenanthera colubrina': { scientificName: 'Vilca / Huilco / Cebil', volFuste: (d, af, at) => Math.exp(-3.025+1.01618*Math.log(d**2*at)-0.00003*at**2*d)/1000, pesoEspecifico: 0.75 },
    'Anisocapparis speciosa': { scientificName: 'Sacha limón / Zapallito del monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Annona emarginata': { scientificName: 'Anonillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Aralia soratensis': { scientificName: 'Aralia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Aspidosperma quebracho-blanco': { scientificName: 'Quebracho blanco', volFuste: (d, af, at) => Math.exp(-10.97613+1.11062*Math.log(d**2*at)), pesoEspecifico: 0.75 },
    'Aspidosperma triternatum': { scientificName: 'Quebracho blanco del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Atamisquea emarginata': { scientificName: 'Atamisqui', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ateleia glazioveana': { scientificName: 'Timbó blanco', volFuste: (d, af, at) => -1.5336+0.0525*d**2+0.0569*d**2*af+0.0161*d*af**2, pesoEspecifico: 0.75 },
    'Athyana weinmanniifolia': { scientificName: 'Ata', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Azara salicifolia': { scientificName: 'Azara', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Berberis commutata': { scientificName: 'Calafate', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Berberis microphylla': { scientificName: 'Calafate chico', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Blepharocalyx salicifolius': { scientificName: 'Arrayán / Anacahuita', volFuste: (d, af, at) => Math.exp(-2.291+0.05585*(Math.log(d))**2+0.83235*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Bougainvillea campanulata': { scientificName: 'Santa Rita campanulada', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Bougainvillea praecox': { scientificName: 'Lengua de vaca / Bugambilia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Bougainvillea spinosa': { scientificName: 'Santa Rita espinosa', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Bougainvillea stipitata': { scientificName: 'Santa Rita', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Bulnesia foliosa': { scientificName: 'Retama blanca', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Bulnesia retama': { scientificName: 'Retama', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Butia yatay': { scientificName: 'Yatay', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cabralea canjerana': { scientificName: 'Cedro macho / Canjerana', volFuste: (d, af, at) => -0.16388+0.00070302*d**2, pesoEspecifico: 0.75 },
    'Calycophyllum multiflorum': { scientificName: 'Palo blanco', volFuste: (d, af, at) => Math.exp(-2.291+0.05585*(Math.log(d))**2+0.83235*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Capparicordis tweediana': { scientificName: 'Sacha tomate / Sacha limón', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Capsicum recurvatum': { scientificName: 'Ají del monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Casearia catharinensis': { scientificName: 'Palo víbora', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Casearia sylvestris': { scientificName: 'Palo víbora / Pitangueiro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Castela coccinea': { scientificName: 'Mistol del campo / Granadillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cedrela balansae': { scientificName: 'Cedro salteño', volFuste: (d, af, at) => Math.exp(-2.43851+0.95605*Math.log(d**2*af)-0.80350*(af/d))/1000, pesoEspecifico: 0.75 },
    'Ceiba chodatii': { scientificName: 'Palo borracho / Samu\'u', volFuste: (d, af, at) => 0.000117*(d**2*at)**0.8387, pesoEspecifico: 0.75 },
    'Ceiba speciosa': { scientificName: 'Palo borracho rosado', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Celtis chichape': { scientificName: 'Tala churpi', volFuste: (d, af, at) => 0.00009*d**2+0.0048*d-0.0355, pesoEspecifico: 0.75 },
    'Celtis ehrenbergiana': { scientificName: 'Tala', volFuste: (d, af, at) => 0.00009*d**2+0.0048*d-0.0355, pesoEspecifico: 0.75 },
    'Celtis iguanaea': { scientificName: 'Tala', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(at))**2+1.05804*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Celtis pallida': { scientificName: 'Tala gateadora', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(at))**2+1.05804*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Chloroleucon chacoense': { scientificName: 'Tatané', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Chloroleucon foliolosum': { scientificName: 'Tatané del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Chloroleucon tenuiflorum': { scientificName: 'Tatané fino', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Chomelia obtusa': { scientificName: 'Jasminillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Chrysophyllum gonocarpum': { scientificName: 'Aguaí', volFuste: (d, af, at) => -0.00698+0.00055555*d**2, pesoEspecifico: 0.75 },
    'Chrysophyllum marginatum': { scientificName: 'Vasuriña / Mocoretá', volFuste: (d, af, at) => -0.03529+0.00090151*d**2, pesoEspecifico: 0.75 },
    'Cnicothamnus lorentzii': { scientificName: 'Coro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Coccoloba cordata': { scientificName: 'Duraznillo del río', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Coccoloba tiliacea': { scientificName: 'Duraznillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cochlospermum tetraporum': { scientificName: 'Palo amarillo / Bototó', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Condalia buxifolia': { scientificName: 'Piquillín', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Condalia microphylla': { scientificName: 'Piquillín', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Copernicia alba': { scientificName: 'Palma blanca / Caranday', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cordia americana': { scientificName: 'Guayaibí blanco / Palo lanza', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(at))**2+1.05804*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Cordia ecalyculata': { scientificName: 'Cordia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cordia saccelia': { scientificName: 'Cordia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Croton urucurana': { scientificName: 'Sangre de drago', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cupania vernalis': { scientificName: 'Camboatá', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cybistax antisyphilitica': { scientificName: 'Lapacho amarillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cynophalla flexuosa': { scientificName: 'Sacha limón / Clavel del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Cynophalla retusa': { scientificName: 'Sacha limón / Sacha tomate', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Dasyphyllum brasiliense': { scientificName: 'Cardo negro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Diplokeleba floribunda': { scientificName: 'Palo piedra', volFuste: (d, af, at) => 0.002525+0.000049775*d**2*af, pesoEspecifico: 0.75 },
    'Duranta serratifolia': { scientificName: 'Uvita del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Enterolobium contortisiliquum': { scientificName: 'Timbó colorado / Oreja de negro', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(at))**2+1.05804*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Erythrina crista-galli': { scientificName: 'Ceibo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Erythrina falcata': { scientificName: 'Ceibo serrano', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Erythroxylum argentinum': { scientificName: 'Coca del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Erythroxylum cuneifolium': { scientificName: 'Coca', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Erythroxylum microphyllum': { scientificName: 'Coca chica', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Eugenia hyemalis': { scientificName: 'Eugenia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Eugenia myrcianthes': { scientificName: 'Guayabo colorado', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Eugenia pitanga': { scientificName: 'Pitanga', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Eugenia punicifolia': { scientificName: 'Eugenia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Eugenia speciosa': { scientificName: 'Eugenia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Eugenia uniflora': { scientificName: 'Ñangapiry / Pitanga', volFuste: (d, af, at) => Math.exp(-2.66494-0.04695*(Math.log(af))**2+0.99796*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Ficus citrifolia': { scientificName: 'Higuera del monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ficus luschnathiana': { scientificName: 'Higuerón', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Geoffroea decorticans': { scientificName: 'Chañar', volFuste: (d, af, at) => Math.exp(-2.63632+0.97973*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Gleditsia amorphoides': { scientificName: 'Espina corona', volFuste: (d, af, at) => Math.exp(-2.66494-0.04695*(Math.log(af))**2+0.99796*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Gochnatia palosanto': { scientificName: 'Palo santo / Gochnatia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Gonopterodendron bonariensis': { scientificName: 'Palo amarillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Gonopterodendron sarmientoi': { scientificName: 'Palo santo', volFuste: (d, af, at) => Math.exp(-2.6363+0.9797*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Guarea macrophylla': { scientificName: 'Guarea / Cedro de monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Guazuma ulmifolia': { scientificName: 'Camba-acá / Mutamba', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Guettarda uruguensis': { scientificName: 'Jazmín del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Handroanthus albus': { scientificName: 'Lapacho amarillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Handroanthus heptaphyllus': { scientificName: 'Lapacho negro', volFuste: (d, af, at) => 0.000166288*d**1.29072*af**1.5206, pesoEspecifico: 0.75 },
    'Handroanthus impetiginosus': { scientificName: 'Lapacho rosado', volFuste: (d, af, at) => Math.exp(-2.43851+0.95605*Math.log(d**2*af)-0.80350*(af/d))/1000, pesoEspecifico: 0.75 },
    'Holocalyx balansae': { scientificName: 'Alecrín / Yvyra pytá', volFuste: (d, af, at) => 0.002525+0.000049775*d**2*af, pesoEspecifico: 0.75 },
    'Inga affinis': { scientificName: 'Pacará', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Inga uraguensis': { scientificName: 'Ingá / Pacará', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Jatropha hieronymi': { scientificName: 'Jatropha', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Jodina rhombifolia': { scientificName: 'Sombra de toro / Quebracho flojo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Juglans australis': { scientificName: 'Nogal criollo', volFuste: (d, af, at) => Math.exp(-2.4385+0.9561*Math.log(d**2*af)-0.8035*(af/d))/1000, pesoEspecifico: 0.75 },
    'Kageneckia lanceolata': { scientificName: 'Frangel', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Lachesiodendron viridiflorum': { scientificName: 'Aromito de monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Larrea cuneifolia': { scientificName: 'Jarilla crespa', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Larrea divaricata': { scientificName: 'Jarilla', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Libidibia paraguariensis': { scientificName: 'Guayacán', volFuste: (d, af, at) => Math.exp(-2.63632+0.97973*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Ligustrum lucidum*': { scientificName: 'Ligustro (exótica)', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Lithraea molleoides': { scientificName: 'Molle de beber', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Loxopterygium grisebachii': { scientificName: 'Palo piedra / Quebracho colorado de Jujuy', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Luehea divaricata': { scientificName: 'Azota caballo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Lycium boerhaviaefolium': { scientificName: 'Mata lagarto', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Lycium cestroides': { scientificName: 'Lagaña de perro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Lycium cuneatum': { scientificName: 'Lycium', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Lycium morongii': { scientificName: 'Lycium', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Lycium tenuispinosum': { scientificName: 'Lycium', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Maclura tinctoria': { scientificName: 'Mora amarilla / Tatajubá', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(af))**2+1.05804*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Malvastrum uniapiculatum': { scientificName: 'Malvisco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Maytenus boaria': { scientificName: 'Maitén', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Maytenus viscifolia': { scientificName: 'Mayten viscoso', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Maytenus vitis-idaea': { scientificName: 'Saladillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Melia azedarach*': { scientificName: 'Paraíso gigante (exótica)', volFuste: (d, af, at) => Math.exp(-9.7647+1.8645*Math.log(d)+0.9281*Math.log(at)), pesoEspecifico: 0.75 },
    'Microlobius foetidus': { scientificName: 'Arca / Arcayán', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Mimosa bonplandii': { scientificName: 'Garabato negro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Mimosa candelabrum': { scientificName: 'Mimosa', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Mimosa debilis': { scientificName: 'Mimosa bejuco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Mimosa detinens': { scientificName: 'Garabato blanco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Mimozyganthus carinatus': { scientificName: 'Lata / Carnaval', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Monteverdia ilicifolia': { scientificName: 'Palo de yerba', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Monteverdia spinosa': { scientificName: 'Palo de yerba espinosa', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Morus alba*': { scientificName: 'Mora blanca (exótica)', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Morus insignis': { scientificName: 'Mora del monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myracrodruon balansae': { scientificName: 'Quebracho colorado chaqueño', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myracrodruon urundeuva': { scientificName: 'Urundel', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myrcia pubiflora': { scientificName: 'Myrcia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myrcianthes cisplatensis': { scientificName: 'Arrayán del río', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myrcianthes mato': { scientificName: 'Mato', volFuste: (d, af, at) => Math.exp(-2.66494-0.04695*(Math.log(af))**2+0.99796*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Myrcianthes pseudomato': { scientificName: 'Mato falso', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myrcianthes pungens': { scientificName: 'Guabiyú', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myrrhinium atropurpureum': { scientificName: 'Pitangueira brava', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myrsine balansae': { scientificName: 'Canelón del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Myrsine laetevirens': { scientificName: 'Canelón', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Nectandra angustifolia': { scientificName: 'Laurel de río', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Nectandra cuspidata': { scientificName: 'Laurel', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Nicotiana glauca': { scientificName: 'Palán palán', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ochetophila trinervis': { scientificName: 'Palo amarillo chico', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ocotea acutifolia': { scientificName: 'Laurel', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ocotea puberula': { scientificName: 'Canela guaica / Laurel negro', volFuste: (d, af, at) => -0.57078+0.00098919*d**2, pesoEspecifico: 0.75 },
    'Parapiptadenia excelsa': { scientificName: 'Orco cebil / Cebil serrano', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(at))**2+1.05804*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Parasenegalia visco': { scientificName: 'Viscote / Visco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Parkinsonia aculeata': { scientificName: 'Cina-cina', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Parkinsonia praecox': { scientificName: 'Palo brea', volFuste: (d, af, at) => Math.exp(-2.6363+0.9797*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Parodiodendron marginivillosum': { scientificName: 'Palo amarillo de Chaco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Peltophorum dubium': { scientificName: 'Ibirá pitá / Curupay', volFuste: (d, af, at) => 0.000107787*d**1.70242*af**0.885036, pesoEspecifico: 0.75 },
    'Philyra brasiliensis': { scientificName: 'Philyra', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Phoradendron habrostachyum': { scientificName: 'Muérdago', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Phyllanthus chacoensis': { scientificName: 'Frutilla del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Phyllostylon rhamnoides': { scientificName: 'Palo amarillo / Palo lanza', volFuste: (d, af, at) => Math.exp(-2.3988+0.96419*Math.log(d**2*at)-1.00826*(at/d))/1000, pesoEspecifico: 0.75 },
    'Phytolacca dioica': { scientificName: 'Ombú', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Pinus taeda*': { scientificName: 'Pino taeda (exótica)', volFuste: (d, af, at) => 0.04076*d**2.01848*at**0.98123, pesoEspecifico: 0.75 },
    'Pisonia zapallo': { scientificName: 'Zapallo caspi', volFuste: (d, af, at) => Math.exp(-2.66494-0.04695*(Math.log(af))**2+0.99796*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Plinia rivularis': { scientificName: 'Guapurú / Jaboticaba', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Porlieria microphylla': { scientificName: 'Guayacán del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Pouteria gardneriana': { scientificName: 'Guapeba', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Pouteria glomerata': { scientificName: 'Arazá', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis affinis': { scientificName: 'Ñandubay', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis alba': { scientificName: 'Algarrobo blanco', volFuste: (d, af, at) => Math.exp(-9.570224+2.234559*Math.log(d)), pesoEspecifico: 0.75 },
    'Prosopis alpataco': { scientificName: 'Alpataco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis argentina': { scientificName: 'Algarrobo argentino', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis caldenia': { scientificName: 'Caldén', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis chilensis': { scientificName: 'Algarrobo chileno', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis elata': { scientificName: 'Algarrobo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis ferox': { scientificName: 'Churqui', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis flexuosa': { scientificName: 'Algarrobo dulce / Algarrobo negro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis hassleri': { scientificName: 'Algarrobo del Paraguay', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis kuntzei': { scientificName: 'Itín', volFuste: (d, af, at) => Math.exp(-2.6363+0.9797*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Prosopis nigra': { scientificName: 'Algarrobo negro', volFuste: (d, af, at) => Math.exp(-10.7917+1.0916*Math.log(d**2*at)), pesoEspecifico: 0.75 },
    'Prosopis rubiflora': { scientificName: 'Algarrobo colorado', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis ruizleali': { scientificName: 'Algarrobo de Cuyo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis ruscifolia': { scientificName: 'Vinal', volFuste: (d, af, at) => Math.exp(-2.6363+0.9797*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Prosopis sericantha': { scientificName: 'Algarrobo del monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis torquata': { scientificName: 'Tintitaco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prosopis vinalillo': { scientificName: 'Vinalillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Prunus tucumanensis': { scientificName: 'Duraznillo / Ciruelo del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Psidium guajava': { scientificName: 'Guayabo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Psidium striatulum': { scientificName: 'Guayabillo del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Pterogyne nitens': { scientificName: 'Tipa colorada / Vivaro', volFuste: (d, af, at) => Math.exp(-2.4385+0.9561*Math.log(d**2*af)-0.8035*(af/d))/1000, pesoEspecifico: 0.75 },
    'Randia ferox': { scientificName: 'Sacha limón espinoso', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Rauvolfia schuelii': { scientificName: 'Rauvolfia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Rubus brasiliensis': { scientificName: 'Mora silvestre', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ruprechtia apetala': { scientificName: 'Duraznillo blanco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ruprechtia brachysepala': { scientificName: 'Duraznillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ruprechtia laxiflora': { scientificName: 'Marmelero', volFuste: (d, af, at) => -0.10352+0.00070109*d**2, pesoEspecifico: 0.75 },
    'Ruprechtia salicifolia': { scientificName: 'Duraznillo del río', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Salix humboldtiana': { scientificName: 'Sauce criollo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Salta triflora': { scientificName: 'Palo blanco / Palo amarillo de Salta', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Sapindus saponaria': { scientificName: 'Jaboncillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Sapium glandulosum': { scientificName: 'Curupí del monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Sapium haematospermum': { scientificName: 'Curupí', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Sarcomphalus mistol': { scientificName: 'Mistol', volFuste: (d, af, at) => Math.exp(-2.63632+0.97973*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Sarcotoxicum salicifolium': { scientificName: 'Palo sapo / Palo de sapo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schaefferia argentinensis': { scientificName: 'Palo amarillo chico', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinopsis balansae': { scientificName: 'Quebracho colorado chaqueño', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinopsis heterophylla': { scientificName: 'Quebracho colorado', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinopsis lorentzii': { scientificName: 'Quebracho colorado santiagueño', volFuste: (d, af, at) => Math.exp(-10.8156+1.088*Math.log(d**2*at)), pesoEspecifico: 0.75 },
    'Schinus areira': { scientificName: 'Aguaribay', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus bumelioides': { scientificName: 'Molle negro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus fasciculatus': { scientificName: 'Molle de incienso', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus gracilipes': { scientificName: 'Molle', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus latifolius*': { scientificName: 'Molle (exótica)', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus lentiscifolius': { scientificName: 'Molle de río', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus longifolius': { scientificName: 'Molle de beber / Cola de lagarto', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus marchandii': { scientificName: 'Molle', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus meyeri': { scientificName: 'Molle', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus molle': { scientificName: 'Aguaribay / Molle', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus piliferus': { scientificName: 'Molle peludo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus polygamus': { scientificName: 'Molle chico', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus praecox': { scientificName: 'Molle', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus roigii': { scientificName: 'Molle', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus sp.': { scientificName: 'Molle (sp.)', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Schinus spinosus': { scientificName: 'Molle espinoso', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Scutia buxifolia': { scientificName: 'Corona de Cristo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Sebastiania brasiliensis': { scientificName: 'Sarandi blanco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Sebastiania commersoniana': { scientificName: 'Sarandi', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Senegalia bonariensis': { scientificName: 'Garabato', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Senegalia fiebrigii': { scientificName: 'Garabato negro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Senegalia gilliesii': { scientificName: 'Aromo / Aromito', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Senegalia martii': { scientificName: 'Garabato', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Senegalia praecox': { scientificName: 'Garabato blanco / Churqui', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Serjania foveata': { scientificName: 'Serjania', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Sideroxylon obtusifolium': { scientificName: 'Guaraniná / Molle negro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Solanum granulosumleprosum': { scientificName: 'Tabaco del diablo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Solanum riparium': { scientificName: 'Solanum', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Sorocea sprucei': { scientificName: 'Sorocea', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Syagrus romanzoffiana': { scientificName: 'Pindó / Coco', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Tabebuia nodosa': { scientificName: 'Palo cruz', volFuste: (d, af, at) => Math.exp(-2.6363+0.9797*Math.log(d**2*af)-0.00028*Math.log(af**2*d))/1000, pesoEspecifico: 0.75 },
    'Tabernaemontana catharinensis': { scientificName: 'Horquetero / Mataojo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Tachigali aurea': { scientificName: 'Tatarema', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Tecoma stans': { scientificName: 'Guarán amarillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Terminalia catappa': { scientificName: 'Almendro tropical', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Terminalia triflora': { scientificName: 'Lanza amarilla / Palo lanza', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(at))**2+1.05804*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Tessaria integrifolia': { scientificName: 'Aliso del río / Palo bobo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Tipuana tipu': { scientificName: 'Tipa blanca', volFuste: (d, af, at) => Math.exp(-2.43851+0.95605*Math.log(d**2*af)-0.8035*(af/d))/1000, pesoEspecifico: 0.75 },
    'Trichilia catigua': { scientificName: 'Catiguá / Trichilia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Trichilia elegans': { scientificName: 'Trichilia', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Trithrinax campestris': { scientificName: 'Palma caranday / Caraguatá', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Trithrinax schizophylla var. biflabellata': { scientificName: 'Palma caranday', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Trithrinax schyzophylla': { scientificName: 'Palma caranday', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Trithrinax schyzophylla var. schyzophylla': { scientificName: 'Palma caranday', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Vachellia albicorticata': { scientificName: 'Garabato corteza blanca', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Vachellia aroma': { scientificName: 'Tusca / Aromito', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Vachellia astringens': { scientificName: 'Curro', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Vachellia caven': { scientificName: 'Espinillo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Vachellia macracantha': { scientificName: 'Aromo de espina grande', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Vallesia glabra': { scientificName: 'Ancoche', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Vasconcellea quercifolia': { scientificName: 'Mamón del monte', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Vassobia breviflora': { scientificName: 'Tomatillo del campo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Ximenia americana': { scientificName: 'Albaricoque del monte / Pata de buey', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Xylosma longipetiolata': { scientificName: 'Xylosma', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Xylosma pubescens': { scientificName: 'Xylosma peludo', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Xylosma tweediana': { scientificName: 'Xylosma', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Xylosma venosa': { scientificName: 'Xylosma', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Zanthoxylum coco': { scientificName: 'Coco / Tembetarí', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(at))**2+1.05804*Math.log(d**2*at))/1000, pesoEspecifico: 0.75 },
    'Zanthoxylum fagara': { scientificName: 'Tembetarí', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Zanthoxylum petiolare': { scientificName: 'Tembetarí', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
    'Zanthoxylum rhoifolium': { scientificName: 'Mamica de cadela', volFuste: (d, af, at) => (-1.5336+0.0525*d**2+0.0569*d**2*af+0.0161*d*af**2)/1000, pesoEspecifico: 0.75 },
    'Zuccagnia punctata': { scientificName: 'Jarilla macho / Coliguay', volFuste: (d, af, at) => -0.09996+0.00057954*d**2, pesoEspecifico: 0.75 },
  },
  'SPA': {
    'Achatocarpus praecox': { scientificName: 'Palo tinta', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Actinostemon concolor': { scientificName: 'Actinostemon', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Aegiphila sp.': { scientificName: 'Aegiphila', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Aiouea amoena': { scientificName: 'Laurel', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Albizia niopoides': { scientificName: 'Iguina / Timbó blanco', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Alchornea glandulosa': { scientificName: 'Canelón macho', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Alchornea triplinervia': { scientificName: 'Canelón macho', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Allophylus edulis': { scientificName: 'Cocú / Chal-chal', volFuste: (d, af, at) => -0.02645+0.00051778*d**2, pesoEspecifico: 0.75 },
    'Aloysia virgata': { scientificName: 'Azahar del monte', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Annona emarginata': { scientificName: 'Anonillo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Annona neosalicifolia': { scientificName: 'Anonillo serrano', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Annona rugulosa': { scientificName: 'Anonillo rugoso', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Apuleia leiocarpa': { scientificName: 'Grapia / Ibirá puitá', volFuste: (d, af, at) => -0.36367+0.00102635*d**2, pesoEspecifico: 0.75 },
    'Aralia warmingiana': { scientificName: 'Aralia', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Araucaria angustifolia': { scientificName: 'Pino Paraná / Araucaria', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Aspidosperma australe': { scientificName: 'Palo amarillo / Quebracho', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Aspidosperma polyneuron': { scientificName: 'Palo rosa / Peroba', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Ateleia glazioveana': { scientificName: 'Timbó blanco', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Balfourodendron riedelianum': { scientificName: 'Guatambú', volFuste: (d, af, at) => -0.48110+0.00109879*d**2, pesoEspecifico: 0.75 },
    'Banara tomentosa': { scientificName: 'Banara', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Bastardiopsis densiflora': { scientificName: 'Loro blanco', volFuste: (d, af, at) => -0.51787+0.00101204*d**2, pesoEspecifico: 0.75 },
    'Bauhinia forficata': { scientificName: 'Pezuña de vaca', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Bauhinia microstachya': { scientificName: 'Pezuña de vaca', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Cabralea canjerana': { scientificName: 'Cedro macho / Canjerana', volFuste: (d, af, at) => -0.16388+0.00070302*d**2, pesoEspecifico: 0.75 },
    'Calliandra foliolosa': { scientificName: 'Espinillo / Clavellina', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Campomanesia guazumifolia': { scientificName: 'Guayabo / Guavirá', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Campomanesia xanthocarpa': { scientificName: 'Guavirá / Guayabo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Carica quercifolia': { scientificName: 'Mamón del monte', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Casearia decandra': { scientificName: 'Guaçatonga', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Casearia sylvestris': { scientificName: 'Palo víbora', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Cecropia pachystachya': { scientificName: 'Ambay / Ambaibo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Cedrela fissilis': { scientificName: 'Cedro misionero / Cedro colorado', volFuste: (d, af, at) => -0.32029+0.00090151*d**2, pesoEspecifico: 0.75 },
    'Ceiba chodatii': { scientificName: 'Palo borracho / Samu\'u', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Ceiba speciosa': { scientificName: 'Palo borracho rosado', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Celtis iguanaea': { scientificName: 'Tala trepadora', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Cestrum laevigatum': { scientificName: 'Palqui / Duraznillo negro', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Chrysophyllum gonocarpum': { scientificName: 'Aguaí', volFuste: (d, af, at) => -0.00698+0.00055555*d**2, pesoEspecifico: 0.75 },
    'Chrysophyllum marginatum': { scientificName: 'Vasuriña / Mocoretá', volFuste: (d, af, at) => -0.03529+0.00090151*d**2, pesoEspecifico: 0.75 },
    'Citharexylum montevidense': { scientificName: 'Espina de bañado', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Citronella paniculata': { scientificName: 'Congonha do campo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Citrus sp.*': { scientificName: 'Naranja / Cítrico (exótica)', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Cordia americana': { scientificName: 'Guayaibí blanco / Palo lanza', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Cordia ecalyculata': { scientificName: 'Cordia / Loro negro', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Cordia trichotoma': { scientificName: 'Loro negro / Peteriví', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Coutarea hexandra': { scientificName: 'Quina blanca', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Cupania vernalis': { scientificName: 'Camboatá colorado', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Dendropanax cuneatus': { scientificName: 'Mandioqueiro', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Diatenopteryx sorbifolia': { scientificName: 'Ibirá pihú / María negra', volFuste: (d, af, at) => -0.30924+0.00088966*d**2, pesoEspecifico: 0.75 },
    'Didymopanax morototoni': { scientificName: 'Morototó / Palo paragua', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Enterolobium contortisiliquum': { scientificName: 'Timbó colorado / Oreja de negro', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Erythrina falcata': { scientificName: 'Ceibo serrano', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Erythroxylum deciduum': { scientificName: 'Cocaína del campo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Eucalyptus grandis*': { scientificName: 'Eucalipto rosado (exótica)', volFuste: (d, af, at) => -0.03435+0.00067705*d**2, pesoEspecifico: 0.75 },
    'Eugenia burkartiana': { scientificName: 'Guayabo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Eugenia involucrata': { scientificName: 'Cereza del río / Pitangueira', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Eugenia psidiiflora': { scientificName: 'Eugenia', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Eugenia pyriformis': { scientificName: 'Uvaia', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Eugenia uniflora': { scientificName: 'Ñangapiry / Pitanga', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Euterpe edulis': { scientificName: 'Palmito / Juçara', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Fagara chiloperone': { scientificName: 'Tembetarí / Palo amarillo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Ficus luschnathiana': { scientificName: 'Higuerón', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Gleditsia amorphoides': { scientificName: 'Espina corona', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Guarea kunthiana': { scientificName: 'Guarea / Cedro de monte', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Guarea macrophylla': { scientificName: 'Guarea / Cedro de monte', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Guazuma ulmifolia': { scientificName: 'Mutamba / Camba-acá', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Handroanthus albus': { scientificName: 'Lapacho amarillo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Handroanthus heptaphyllus': { scientificName: 'Lapacho negro', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Helietta apiculata': { scientificName: 'Canela de venado / Ibirá obí', volFuste: (d, af, at) => -0.09949+0.00073571*d**2, pesoEspecifico: 0.75 },
    'Heliocarpus popayanensis': { scientificName: 'Balso blanco', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Hennecartia omphalandra': { scientificName: 'Canelón', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Hexachlamys edulis': { scientificName: 'Guavirami', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Holocalyx balansae': { scientificName: 'Alecrín / Ibirá pepé', volFuste: (d, af, at) => -0.16710+0.00067104*d**2, pesoEspecifico: 0.75 },
    'Hovenia dulcis': { scientificName: 'Uva de Japón / Hovenia', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Ilex brevicuspis': { scientificName: 'Yerba mate silvestre / Caúna', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Ilex paraguariensis': { scientificName: 'Yerba mate', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Inga marginata': { scientificName: 'Ingá / Pacará', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Inga uraguensis': { scientificName: 'Ingá del Uruguay', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Inga verna': { scientificName: 'Ingá', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Jacaranda micrantha': { scientificName: 'Jacarandá', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Jacaratia spinosa': { scientificName: 'Jacaratiá', volFuste: (d, af, at) => -0.11007+0.00045694*d**2, pesoEspecifico: 0.75 },
    'Lithraea molleoides': { scientificName: 'Molle de beber', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Lonchocarpus muehlbergianus': { scientificName: 'Rabo blanco / Rabo de buey', volFuste: (d, af, at) => -0.10374+0.00058601*d**2, pesoEspecifico: 0.75 },
    'Lonchocarpus nitidus': { scientificName: 'Rabo amarillo', volFuste: (d, af, at) => -0.23155+0.00086506*d**2, pesoEspecifico: 0.75 },
    'Luehea divaricata': { scientificName: 'Azota caballos / Ivatinguí', volFuste: (d, af, at) => -0.63780+0.00097390*d**2, pesoEspecifico: 0.75 },
    'Machaerium paraguariense': { scientificName: 'Espina de corona / Ñandipá', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Machaerium stipitatum': { scientificName: 'Canelo de brejo / Farinha seca', volFuste: (d, af, at) => -0.36061+0.00100716*d**2, pesoEspecifico: 0.75 },
    'Maclura tinctoria': { scientificName: 'Mora amarilla / Tatajubá', volFuste: (d, af, at) => Math.exp(-3.27947-0.07343*(Math.log(af))**2+1.05804*Math.log(d**2*af))/1000, pesoEspecifico: 0.75 },
    'Matayba elaeagnoides': { scientificName: 'Camboatá blanco', volFuste: (d, af, at) => -0.18834+0.00070929*d**2, pesoEspecifico: 0.75 },
    'Melia azedarach': { scientificName: 'Paraíso gigante', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Monteverdia ilicifolia': { scientificName: 'Palo de yerba / Espinillo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Morus alba*': { scientificName: 'Mora blanca (exótica)', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Muellera campestris': { scientificName: 'Rabó itá / Timbó', volFuste: (d, af, at) => (-1.5336+0.0525*d**2+0.0569*d**2*af+0.0161*d*af**2)/1000, pesoEspecifico: 0.75 },
    'Myrcianthes pungens': { scientificName: 'Guabiyú', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Myrocarpus frondosus': { scientificName: 'Incienso / Caburé-ibá', volFuste: (d, af, at) => -0.25142+0.00091403*d**2, pesoEspecifico: 0.75 },
    'Myrsine balansae': { scientificName: 'Canelón del campo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Myrsine coriacea': { scientificName: 'Canelón', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Myrsine parvula': { scientificName: 'Canelón chico', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Nectandra angustifolia': { scientificName: 'Laurel de río', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Nectandra lanceolata': { scientificName: 'Laurel morotí', volFuste: (d, af, at) => -0.15200+0.00078945*d**2, pesoEspecifico: 0.75 },
    'Nectandra membranacea': { scientificName: 'Laurel', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Ocotea lancifolia': { scientificName: 'Laurel', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Ocotea puberula': { scientificName: 'Canela guaica / Laurel negro', volFuste: (d, af, at) => -0.57078+0.00098919*d**2, pesoEspecifico: 0.75 },
    'Parapiptadenia rigida': { scientificName: 'Anchico colorado / Horco cebil', volFuste: (d, af, at) => 0.0313+0.00077810*d**2, pesoEspecifico: 0.75 },
    'Peltophorum dubium': { scientificName: 'Ibirá pitá / Curupay', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Phytolacca dioica': { scientificName: 'Ombú', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Picrasma crenata': { scientificName: 'Caviúna branca', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Pilocarpus pennatifolius': { scientificName: 'Jaborandi', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Pinus elliotti*': { scientificName: 'Pino elliotti (exótica)', volFuste: (d, af, at) => (0.04076*d**2.01848*at**0.98123)/1000, pesoEspecifico: 0.75 },
    'Pinus sp.*': { scientificName: 'Pino (exótica)', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Pinus taeda*': { scientificName: 'Pino taeda (exótica)', volFuste: (d, af, at) => (0.04076*d**2.01848*at**0.98123)/1000, pesoEspecifico: 0.75 },
    'Pisonia zapallo': { scientificName: 'Zapallo caspi', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Plinia rivularis': { scientificName: 'Guapurú / Jaboticaba', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Pouteria salicifolia': { scientificName: 'Mbae-pyvá / Arazá leche', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Prunus brasiliensis': { scientificName: 'Pessegueiro-bravo / Grapiapunha', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Prunus subcoriacea': { scientificName: 'Duraznillo / Persiguero del monte', volFuste: (d, af, at) => -0.12170+0.00073043*d**2, pesoEspecifico: 0.75 },
    'Quillaja brasiliensis': { scientificName: 'Quillaj / Quillay', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Rauvolfia sellowii': { scientificName: 'Rauvolfia', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Ruprechtia laxiflora': { scientificName: 'Marmelero', volFuste: (d, af, at) => -0.10352+0.00070109*d**2, pesoEspecifico: 0.75 },
    'Sambucus australis': { scientificName: 'Saúco / Sabugueiro', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Sapium glandulosum': { scientificName: 'Curupí del monte', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Sapium haematospermum': { scientificName: 'Curupí', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Schinus terebinthifolius': { scientificName: 'Molle / Aguaribay colorado', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Sebastiania argutidens': { scientificName: 'Sarandi', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Sebastiania brasiliensis': { scientificName: 'Sarandi blanco', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Sebastiania commersoniana': { scientificName: 'Sarandi', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Seguieria aculeata': { scientificName: 'Sigueiria espinosa', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Senegalia polyphylla': { scientificName: 'Monjoleiro / Espinillo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Sideroxylon obtusifolium': { scientificName: 'Guaraniná / Molle negro', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Solanum granulosumleprosum': { scientificName: 'Tabaco del diablo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Solanum pseudoquina': { scientificName: 'Quina', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Solanum sanctaecatharinae': { scientificName: 'Joá / Solano', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Sorocea bonplandii': { scientificName: 'Tajy hú / Falsa espineira', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Strychnos brasiliensis': { scientificName: 'Timbopeva / Falso café', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Styrax leprosus': { scientificName: 'Sarro / Benjoeiro', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Syagrus romanzoffiana': { scientificName: 'Pindó / Coco', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Symplocos uniflora': { scientificName: 'Sete-sangrias', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Tabernaemontana catharinensis': { scientificName: 'Horquetero / Mataojo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Terminalia triflora': { scientificName: 'Lanza amarilla', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Tetrorchidium rubrivenium': { scientificName: 'Tetrorchidium', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Trema micrantha': { scientificName: 'Palo pólvora / Grandiúva', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Trichilia catigua': { scientificName: 'Catiguá', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Trichilia claussenii': { scientificName: 'Catiguá colorado', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Trichilia elegans': { scientificName: 'Catiguá chico', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Urera baccifera': { scientificName: 'Ortiga brava / Urtiga', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Vitex megapotamica': { scientificName: 'Tarumá / Aceitillo', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Xylosma pseudosalzmanii': { scientificName: 'Xylosma', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Zanthoxylum fagara': { scientificName: 'Tembetarí', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Zanthoxylum petiolare': { scientificName: 'Tembetarí', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
    'Zanthoxylum rhoifolium': { scientificName: 'Mamica de cadela', volFuste: (d, af, at) => -0.27870+0.00084276*d**2, pesoEspecifico: 0.75 },
  },
};

        const speciesFormulas = window._speciesFormulasGlobal = { 'Acacia aroma': { scientificName: 'Tusca', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Acacia caven': { scientificName: 'Aromil; Espinillo; Churqui', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Acacia furcatispina': { scientificName: 'Teatín', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Acacia praecox': { scientificName: 'Garabato', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Acacia visco': { scientificName: 'Arca; Visco', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Acanthosyris falcata': { scientificName: 'Sacha pera; Saucillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Acanthosyris spinescens': { scientificName: 'Quebrachillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Achatocarpus praecox': { scientificName: 'Palo tinta; Tala negro', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Allophyllus edulis': { scientificName: 'Chal chal', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Alnus acuminata': { scientificName: 'Aliso del cerro', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Amburana cearensis': { scientificName: 'Roble', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Anadenanthera colubrina': { scientificName: 'Cebil colorado; Horco cebil', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Aralia soratensis': { scientificName: 'Sacha paraiso', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Aspidosperma polyneuron': { scientificName: 'Palo rosa', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Aspidosperma quebracho-blanco': { scientificName: 'Quebracho blanco', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Astronium balansae': { scientificName: 'Urunday', volFuste: (d, af) => Math.exp(-9.22955+1.933161*Math.log(d)+0.901548*Math.log(af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.8 }, 'Astronium urundeuva': { scientificName: 'Urundel', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Atamisquea emarginata': { scientificName: 'Atamisqui', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Athyana weinmannifolia': { scientificName: 'Quebrachillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Baccharis dracunculifolia': { scientificName: 'Alecrín', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Bauhinia forficata': { scientificName: 'Pata de buey', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Blepharocalyx gigantea': { scientificName: 'Palo barroso; Molle', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Bocconia pearcei': { scientificName: 'Suncho amargo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Borrichia frutescens': { scientificName: 'Saladillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Bougainvillea spinosa': { scientificName: 'Montenegro', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Bougainvillea stipitata': { scientificName: 'Huanca; Alfilerillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Bromelia hieronymi': { scientificName: 'Chaguar', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Bulnesia bonariensis': { scientificName: 'Guacle', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Bulnesia retama': { scientificName: 'Retamo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Bulnesia sarmientoi': { scientificName: 'Palo santo', volFuste: (d, af) => Math.exp(-9.18113+0.950324*Math.log(d**2*af)), volTotal: (d, at) => 0.000033 * d**2.3455 * at**0.687553, pesoEspecifico: 1.2 }, 'Bumelia obtusifolia': { scientificName: 'Molle negro; Guaranina', volFuste: (d, af) => Math.exp(-9.22955+1.933161*Math.log(d)+0.901548*Math.log(af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.8 }, 'Caesalpinia paraguariensis': { scientificName: 'Guayacán; Palo azul', volFuste: (d, af) => Math.exp(-9.22955+1.933161*Math.log(d)+0.901548*Math.log(af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.8 }, 'Calycophyllum multiflorum': { scientificName: 'Palo blanco', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Capparis retusa': { scientificName: 'Sacha poroto', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Capparis salicisfolia': { scientificName: 'Sacha sandia', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Capparis speciosa': { scientificName: 'Bola verde', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Capparis tweediana': { scientificName: 'Sacha coca', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Carica quecifolia': { scientificName: 'Sacha higuera', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cascaronia astragalina': { scientificName: 'Cascarón', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cassia carnaval': { scientificName: 'Carnaval', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Castela coccinea': { scientificName: 'Meloncillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cathormiom polyantha': { scientificName: 'Timbo blanco', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cedrela balansae': { scientificName: 'Cedro', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cedrela lilloi': { scientificName: 'Cedro rosado', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cedrela saltensis': { scientificName: 'Cedro saltensis', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ceiba chodatii': { scientificName: 'Palo borracho; Yuchán', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ceiba insignis': { scientificName: 'Palo borracho', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Celtis tala': { scientificName: 'Tala', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cercidium praecox': { scientificName: 'Brea', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cereus forbesii': { scientificName: 'Ucle', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cestrum parqui': { scientificName: 'Duraznillo negro', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cethormion polyanthum': { scientificName: 'Palo flojo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Chloroleucon chacoense': { scientificName: 'Palo overo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Chlorophora tinctoria': { scientificName: 'Mora; Mora amarilla', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Chrysophyllum gonocarpum': { scientificName: 'Aguay', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Citharexylum montevidense': { scientificName: 'Espina de bañado', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cnidoscolus vitifolius': { scientificName: 'Ortiga', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Coccoloba tiliacia': { scientificName: 'Mandor', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Colletia spinosissima': { scientificName: 'Espino negro', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Condalia microphylla': { scientificName: 'Piquillín', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Copernicia alba': { scientificName: 'Palma negra', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cordia trichotoma': { scientificName: 'Afata', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Croton sp.': { scientificName: 'Crotón', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Cupanea vernalis': { scientificName: 'Ramo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Diplokeleba floribunda': { scientificName: 'Palo Piedra', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Enterolobium contortisiliquum': { scientificName: 'Timbó; Pacará', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Erythrina falcata / crista-galli': { scientificName: 'Ceibo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Erythrina dominguensii': { scientificName: 'Ceibo salteño', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Eugenia mato': { scientificName: 'Horco mato', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Fagara coco': { scientificName: 'Fagara', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Fagara naranjillo': { scientificName: 'Naranjillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ficus maroma': { scientificName: 'Ficus', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ficus monckii': { scientificName: 'Higuerón', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Geoffrea decorticans': { scientificName: 'Chañar', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Gleditsia amorphoides': { scientificName: 'Espina corona; Pipa', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Holocalyx balansae': { scientificName: 'Alecrín; Ibirá pepe', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Inga sp': { scientificName: 'Inga; Pacay', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Jacaranda mimosifolia': { scientificName: 'Jacaranda', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Jodina rhombifolia': { scientificName: 'Sombra de toro', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Juglans australis': { scientificName: 'Nogal; Nogal criollo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Larrea sp (cuneifolia/divaricata/nitida)': { scientificName: 'Jarilla', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Lithraea molleoides': { scientificName: 'Molle de beber', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Lonchocarpus lilloi': { scientificName: 'Quina blanca; Sacha quina', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Loxopterygium grisebachii': { scientificName: 'Mara', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Luehea divaricata': { scientificName: 'Azota caballo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Maclura tinctoria': { scientificName: 'Mora amarilla', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Maytenus vitis-idaea': { scientificName: 'Carne gorda', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Mimosa detines / pilulifera': { scientificName: 'Garabato blanco / Espinillo manso', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Mimozyganthus carinatus': { scientificName: 'Latas', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Miroxylon peruiferum': { scientificName: 'Quina', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Myrcianthes mato': { scientificName: 'Arrayán', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Myrcianthes pungens': { scientificName: 'Mato; Guabiyú', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Myrsine laetevirens': { scientificName: 'San Antonio', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Nectandra saligna': { scientificName: 'Laurel Negro', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ocotea puberula': { scientificName: 'Laurel Blanco', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Opuntia quimilo': { scientificName: 'Quimil', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Parapiptadenia excelsa': { scientificName: 'Horco cebil', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Parapiptadenia rigida': { scientificName: 'Anchico colorado', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Parkinsonia aculeata': { scientificName: 'Palo verde', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Patagonula americana': { scientificName: 'Guayaibí; Lanza blanca', volFuste: (d, af) => Math.exp(-9.5086+2.0041*Math.log(d)+0.973*Math.log(af)), volTotal: (d, at) => 0.000033 * d**2.3455 * at**0.687553, pesoEspecifico: 1.0 }, 'Peltophorum dubium': { scientificName: 'Ibirá pitá', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Pereskia sacharosa': { scientificName: 'Sacha rosa', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Phoebe porphyria': { scientificName: 'Laurel', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Phyllostyllon rhamnoides': { scientificName: 'Palo amarillo; Palo lanza', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Pipper tucumanum': { scientificName: 'Matico', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Pisonia zapallo': { scientificName: 'Zapallo caspi', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Pithecellobium scalare': { scientificName: 'Tatané; Palo cascarudo', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Pithecellobium multiflorum': { scientificName: 'Timbó blanco', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Podocarpus parlatorei': { scientificName: 'Pino del cerro', volFuste: (d, af) => Math.exp(-8.3864+0.0551011*d-0.000533799*d**2-0.159762*af+1.34969*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.79166 + 1.091557 * Math.log(d**2 * at)), pesoEspecifico: 0.7 }, 'Polylepis australis': { scientificName: 'Queñoa', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Prosopis affinis': { scientificName: 'Ñandubay', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Prosopis alba': { scientificName: 'Algarrobo blanco', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Prosopis algarrobilla': { scientificName: 'Algarrobillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Prosopis kuntzei': { scientificName: 'Itín; Palo mataco', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Prosopis nigra': { scientificName: 'Algarrobo negro', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Prosopis ruscifolia': { scientificName: 'Vinal', volFuste: (d, af) => Math.exp(-9.39969+1.9797*Math.log(d)+0.939584*Math.log(af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.7 }, 'Prosopis torquata': { scientificName: 'Tintitaco', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Pterogine nitens': { scientificName: 'Tipa colorada; Viraró', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Randia armata': { scientificName: 'Sacha Naranjo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ruellia sp': { scientificName: 'Yuyo Paloma', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ruprechtia laxiflora': { scientificName: 'Viraró', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ruprechtia triflora': { scientificName: 'Duraznillo; Sacha membrillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Saccelium lanceolatum': { scientificName: 'Guayabil', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Salix humboldtiana': { scientificName: 'Sauce', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Sapindus saponaria': { scientificName: 'Palo jabon', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Sapium haematospermum': { scientificName: 'Lecherón; Curupí', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Schinopsis balansae': { scientificName: 'Quebracho colorado chaqueño', volFuste: (d, af) => Math.exp(-9.5086+2.0041*Math.log(d)+0.973*Math.log(af)), volTotal: (d, at) => 0.000033 * d**2.3455 * at**0.687553, pesoEspecifico: 1.0 }, 'Schinopsis haenkeana': { scientificName: 'Horco Quebracho', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Schinopsis lorentzii': { scientificName: 'Quebracho colorado', volFuste: (d, af) => Math.exp(-9.5086+2.0041*Math.log(d)+0.973*Math.log(af)), volTotal: (d, at) => 0.000033 * d**2.3455 * at**0.687553, pesoEspecifico: 1.0 }, 'Schinus areira / piliferus': { scientificName: 'Aguaribay / Horco molle', volFuste: (d, af) => Math.exp(-8.3864+0.0551011*d-0.000533799*d**2-0.159762*af+1.34969*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.79166 + 1.091557 * Math.log(d**2 * at)), pesoEspecifico: 0.7 }, 'Scutia buxifolia': { scientificName: 'Coronillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Senna corymbosa': { scientificName: 'Sen de campo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Sesbania punicea': { scientificName: 'Acacia mansa', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Sideroxylon obtusifolium': { scientificName: 'Molle; Guaraniná', volFuste: (d, af) => Math.exp(-8.3864+0.0551011*d-0.000533799*d**2-0.159762*af+1.34969*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.79166 + 1.091557 * Math.log(d**2 * at)), pesoEspecifico: 0.7 }, 'Solanum argentinum / riparium': { scientificName: 'Hediondilla; Tabaquillo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Stetsonia coryne': { scientificName: 'Cardón', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Tabebuia ipe / impetiginosa': { scientificName: 'Lapacho negro; rosado', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Tabebuia lapacho': { scientificName: 'Lapacho amarillo', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Tabebuia nodosa': { scientificName: 'Palo cruz', volFuste: (d, af) => Math.exp(-9.44933+0.983515*Math.log(d**2*af)), volTotal: (d, at) => Math.exp(-10.976 + 1.11062 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Tecoma stans': { scientificName: 'Guarán', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Terminalia triflora': { scientificName: 'Lanza amarilla', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Tessaria integrifolia': { scientificName: 'Palo bobo', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Tipuana tipu': { scientificName: 'Tipa; Tipa blanca', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Trema micrantha': { scientificName: 'Palo polvora', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Trithrinax biflabellata': { scientificName: 'Carandillo / Caranday', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Trithrinax schizophylla': { scientificName: 'Carandilla', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Urera basifera': { scientificName: 'Ortigón', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Vallesia glabra': { scientificName: 'Ancoche', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Ximenia americana': { scientificName: 'Pata pata', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Zanthoxylum coco': { scientificName: 'Cochucho', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 }, 'Zizypus mistol': { scientificName: 'Mistol', volFuste: (d, af) => Math.exp(-8.3864+0.0551011*d-0.000533799*d**2-0.159762*af+1.34969*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.79166 + 1.091557 * Math.log(d**2 * at)), pesoEspecifico: 0.7 }, 'OTRAS': { scientificName: '(Genérico)', volFuste: (d, af) => Math.exp(-9.49642-0.00145081*d+0.824921*Math.log(d**2*af)+0.366708*Math.log(d*af)), volTotal: (d, at) => Math.exp(-10.78979 + 1.07129 * Math.log(d**2 * at)), pesoEspecifico: 0.75 } };
        const dapClasses = [ { name: 'I (<10cm)', min: 0, max: 9.99, label: "< 10 cm" }, { name: 'II (10-14.9cm)', min: 10, max: 14.99, label: "10-14,9 cm" }, { name: 'III (15-19.9cm)', min: 15, max: 19.99, label: "15-19,9 cm" }, { name: 'IV (20-24.9cm)', min: 20, max: 24.99, label: "20-24,9 cm" }, { name: 'V (25-29.9cm)', min: 25, max: 29.99, label: "25-29,9 cm" }, { name: 'VI (30-34.9cm)', min: 30, max: 34.99, label: "30-34,9 cm" }, { name: 'VII (35-39.9cm)', min: 35, max: 39.99, label: "35-39,9 cm" }, { name: 'VIII (40-44.9cm)', min: 40, max: 44.99, label: "40-44,9 cm" }, { name: 'IX (45-49.9cm)', min: 45, max: 49.99, label: "45-49,9 cm" }, { name: 'X (>50cm)', min: 50, max: Infinity, label: ">50 cm" } ];
        let enteredTrees = []; let chartVolumenEspecieInstance = null; let chartDensidadEspecieInstance = null; let chartDistribucionDAPInstance = null; let chartVolumenClaseDAPInstance = null; let chartABDensidadClaseDAPInstance = null; let chartToneladasClaseDAPInstance = null; let resultsBySpeciesDAPGlobal = {}; 
        
        // --- INICIO: LÓGICA PARA POAs DINÁMICOS ---
        const poaContainer = document.getElementById('poaContainer');
        const inputNumPoas = document.getElementById('inputNumPoas');
        const poaActivityConfig = [
            { id: 'Tecnicas', generalId: 'textPlanTecnicas', title: '1- DESCRIPCIÓN Y JUSTIFICACIÓN DE LAS TÉCNICAS A IMPLEMENTAR Y DEL EQUIPAMIENTO UTILIZADO.' },
            { id: 'ProteccionAmbiental', generalId: 'textPlanProteccionAmbiental', title: '2- PRESCRIPCIÓN DE TÉCNICAS Y MEDIDAS DE PROTECCIÓN AMBIENTAL.' },
            { id: 'Monitoreo', generalId: 'textPlanMonitoreo', title: '3- MEDIDAS PARA EL MONITOREO DEL CRECIMIENTO Y DINÁMICA DEL BOSQUE.' },
            { id: 'PrevencionImpactos', generalId: 'textPlanPrevencionImpactos', title: '4- MEDIDAS DE PREVENCIÓN E MITIGACIÓN DE IMPACTOS AMBIENTALES.' },
            { id: 'Residuos', generalId: 'textPlanResiduos', title: '5- DESCRIPCIÓN DEL TRATAMIENTO DE RESIDUOS.' },
            { id: 'PrevencionFuego', generalId: 'textPlanPrevencionFuego', title: '6- MEDIDAS DE PREVENCIÓN Y MITIGACIÓN DE INCENDIOS.' }
        ];

        function generatePoaSections() {
            const numPoas = parseInt(inputNumPoas.value, 10) || 0;
            // Destruir instancias Leaflet existentes antes de borrar el DOM
            Object.keys(poaMapsInstances).forEach(id => {
                try {
                    if (poaMapsInstances[id].resizeObserver) poaMapsInstances[id].resizeObserver.disconnect();
                    poaMapsInstances[id].map.remove();
                } catch(e) {}
                delete poaMapsInstances[id];
            });
            poaContainer.innerHTML = ''; 
            if (numPoas === 0) return;

            for (let i = 1; i <= numPoas; i++) {
                let activitiesHtml = '';
                poaActivityConfig.forEach(config => {
                    const poaTextareaId = `poaText${config.id}_${i}`;
                    activitiesHtml += `
                        <h3 class="sub-section-title">${config.title}</h3>
                        <label class="poa-reuse-text-label">
                            <input type="checkbox" class="reuse-text-checkbox" data-source-id="${config.generalId}" data-target-id="${poaTextareaId}" checked>
                            Usar texto general del plan (definido en el Ítem 12)
                        </label>
                        <textarea id="${poaTextareaId}" class="auto-resize-textarea"></textarea>
                        <div id="print-${poaTextareaId}" class="textarea-print-content"></div>
                    `;
                });
                
                const intervencionesRubros = ['Acondicionamiento y remoción de residuos', 'Control de especies invasoras, plagas y enfermedades', 'Cosecha forestal', 'Enriquecimiento', 'Implantación de pasturas nativas', 'Manejo de fauna autóctona', 'Manejo de ganado', 'Manejo de rebrote', 'Manejo del sotobosque', 'Poda comercial', 'Poda de saneamiento', 'Prevención de incendios', 'Productos Forestales No Madereros', 'Promoción de la regeneración natural', 'Control de procesos erosivos', 'Raleo comercial', 'Raleo de saneamiento', 'Restauración', 'Servicios de los bosques nativos', 'Vigilancia y control'];
                const obtencionRubros = ['Elaboración de informes', 'Elaboración de SIG', 'Inventario Forestal', 'Monitoreo de indicadores ambientales', 'Procesamiento y análisis de datos', 'Recopilación de información', 'Relevamiento de base', 'Relevamiento de la biodiversidad', 'Zonificación y elaboración de cartografía'];
                const infraestructuraRubros = ['Accesos', 'Cerramientos', 'Edificaciones', 'Manejo de agua'];
                const extensionRubros = ['Capacitación', 'Difusión', 'Participación'];
                const comprasRubros = ['Bienes de uso y de capital', 'Gastos operativos', 'Recursos humanos'];

                let budgetTableHTML = `<table class="poa-budget-table" id="budgetTable_${i}"><thead><tr><th style="width: 20%;">Área</th><th>Rubro</th><th style="width: 25%;">Total ($)</th></tr></thead><tbody>`;
                
                // Intervenciones
                budgetTableHTML += `<tr><td rowspan="${intervencionesRubros.length}" class="area-cell">Intervenciones sobre el bosque nativo</td><td class="rubro-cell">${intervencionesRubros[0]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="intervenciones" data-poa-id="${i}"></td></tr>`;
                for(let r=1; r < intervencionesRubros.length; r++) { budgetTableHTML += `<tr><td class="rubro-cell">${intervencionesRubros[r]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="intervenciones" data-poa-id="${i}"></td></tr>`; }
                budgetTableHTML += `<tr class="subtotal-row"><td colspan="2">Subtotal Intervenciones</td><td>$ <span id="subtotalIntervenciones_${i}">0,00</span></td></tr>`;
                
                // Obtención y análisis
                budgetTableHTML += `<tr><td rowspan="${obtencionRubros.length}" class="area-cell">Obtención y análisis de datos</td><td class="rubro-cell">${obtencionRubros[0]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="obtencion" data-poa-id="${i}"></td></tr>`;
                for(let r=1; r < obtencionRubros.length; r++) { budgetTableHTML += `<tr><td class="rubro-cell">${obtencionRubros[r]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="obtencion" data-poa-id="${i}"></td></tr>`; }
                budgetTableHTML += `<tr class="subtotal-row"><td colspan="2">Subtotal Obtención y análisis de datos</td><td>$ <span id="subtotalObtencion_${i}">0,00</span></td></tr>`;
                
                // Infraestructura
                budgetTableHTML += `<tr><td rowspan="${infraestructuraRubros.length}" class="area-cell">Infraestructura</td><td class="rubro-cell">${infraestructuraRubros[0]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="infraestructura" data-poa-id="${i}"></td></tr>`;
                for(let r=1; r < infraestructuraRubros.length; r++) { budgetTableHTML += `<tr><td class="rubro-cell">${infraestructuraRubros[r]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="infraestructura" data-poa-id="${i}"></td></tr>`; }
                budgetTableHTML += `<tr class="subtotal-row"><td colspan="2">Subtotal Infraestructura</td><td>$ <span id="subtotalInfraestructura_${i}">0,00</span></td></tr>`;

                // Extensión
                budgetTableHTML += `<tr><td rowspan="${extensionRubros.length}" class="area-cell">Extensión</td><td class="rubro-cell">${extensionRubros[0]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="extension" data-poa-id="${i}"></td></tr>`;
                for(let r=1; r < extensionRubros.length; r++) { budgetTableHTML += `<tr><td class="rubro-cell">${extensionRubros[r]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="extension" data-poa-id="${i}"></td></tr>`; }
                budgetTableHTML += `<tr class="subtotal-row"><td colspan="2">Subtotal Extensión</td><td>$ <span id="subtotalExtension_${i}">0,00</span></td></tr>`;

                // Compras
                budgetTableHTML += `<tr><td rowspan="${comprasRubros.length}" class="area-cell">Compras y Contrataciones</td><td class="rubro-cell">${comprasRubros[0]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="compras" data-poa-id="${i}"></td></tr>`;
                for(let r=1; r < comprasRubros.length; r++) { budgetTableHTML += `<tr><td class="rubro-cell">${comprasRubros[r]}</td><td><input type="text" placeholder="-" class="poa-budget-item" data-category="compras" data-poa-id="${i}"></td></tr>`; }
                budgetTableHTML += `<tr class="subtotal-row"><td colspan="2">Subtotal Compras y Contrataciones</td><td>$ <span id="subtotalCompras_${i}">0,00</span></td></tr>`;

                budgetTableHTML += `<tr class="total-row"><td colspan="2">PRESUPUESTO POA ${i}</td><td>$ <span id="totalPoa_${i}">0,00</span></td></tr></tbody></table>`;

                const poaHtml = `
                    <div class="poa-details-wrapper">
                        <details open>
                            <summary>PLAN OPERATIVO ANUAL (POA) ${i}</summary>
                            <div class="poa-content">
                                <h2 class="main-section-title" style="text-align:center; display:none;">PLAN OPERATIVO ANUAL (POA) ${i}</h2>
                                <fieldset class="input-fieldset">
                                    <legend>Datos Generales del POA ${i}</legend>
                                    <div class="form-grid" style="grid-template-columns: max-content 1fr;">
                                        <label for="inputPoaArea_${i}">Superficie del POA (ha):</label>
                                        <input type="number" id="inputPoaArea_${i}" class="poa-area-input" step="0.01" value="0">
                                    </div>
                                    <!-- MAPA POA -->
                                    <div class="poa-map-section">
                                        <div class="poa-map-header">
                                            🗺️ Mapa de Localización del POA ${i}
                                        </div>
                                        <div class="poa-map-controls">
                                            <label title="Cargar KML del área del Plan Técnico">
                                                📋 KML Plan Técnico:
                                                <input type="file" accept=".kml" class="poa-kml-plan" data-poa="${i}" style="width:160px; font-size:0.82em;">
                                            </label>
                                            <label title="Cargar KML específico del área del POA ${i}">
                                                📌 KML Área POA ${i}:
                                                <input type="file" accept=".kml" class="poa-kml-poa" data-poa="${i}" style="width:160px; font-size:0.82em;">
                                            </label>
                                            <button class="btn-map-poa poa-map-fit-btn" data-poa="${i}" title="Ajustar vista a capas cargadas">⤢ Ajustar Vista</button>
                                            <button class="btn-map-poa poa-map-clear-btn" data-poa="${i}" style="background:#dc3545;" title="Limpiar capas">✕ Limpiar</button>
                                        </div>
                                        <div id="poa-map-status-${i}" class="poa-map-status"></div>
                                        <div id="poa-map-${i}" class="poa-map-leaflet"></div>
                                        <img id="poa-map-print-img-${i}" class="poa-map-print-img" alt="Mapa de localización POA ${i}" style="display:none;width:100%;height:auto;" />
                                    </div>
                                </fieldset>
                                ${activitiesHtml}
                                <h3 class="sub-section-title">7- CRONOGRAMA DE ACTIVIDADES DEL POA ${i}</h3>
                                <div class="result-table-container">
                                    <table class="poa-gantt-table">
                                         <thead>
                                            <tr>
                                                <th rowspan="2" style="vertical-align: middle;">Actividades</th>
                                                <th colspan="12">Mes</th>
                                            </tr>
                                            <tr>
                                                <th>Ene</th><th>Feb</th><th>Mar</th><th>Abr</th><th>May</th><th>Jun</th>
                                                <th>Jul</th><th>Ago</th><th>Sep</th><th>Oct</th><th>Nov</th><th>Dic</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                          ${['Intervenciones sobre el bosque nativo', 'Obtención y análisis de datos', 'Infraestructura', 'Extensión', 'Compras y Contrataciones'].map(act => `<tr><td>${act}</td>${'<td><input type="checkbox"></td>'.repeat(12)}</tr>`).join('')}
                                        </tbody>
                                    </table>
                                </div>
                                <h3 class="sub-section-title">8- PRESUPUESTO DEL POA ${i}</h3>
                                <div class="result-table-container">
                                    ${budgetTableHTML}
                                </div>
                            </div>
                        </details>
                    </div>
                `;
                poaContainer.insertAdjacentHTML('beforeend', poaHtml);
            }
            rebindPoaEventListeners();
        }

        function handleReuseTextChange(event) {
            const checkbox = event.target;
            const sourceTextarea = document.getElementById(checkbox.dataset.sourceId);
            const targetTextarea = document.getElementById(checkbox.dataset.targetId);
            const poaPlaceholder = "Haga clic aquí para escribir texto...";

            if (checkbox.checked) {
                targetTextarea.value = sourceTextarea.value;
                targetTextarea.readOnly = true;
                if (sourceTextarea.classList.contains('textarea-placeholder-style')) {
                     targetTextarea.classList.add('textarea-placeholder-style');
                } else {
                     targetTextarea.classList.remove('textarea-placeholder-style');
                }
            } else {
                targetTextarea.readOnly = false;
                targetTextarea.value = poaPlaceholder;
                targetTextarea.classList.add('textarea-placeholder-style');
            }
            autoResizeTextarea(targetTextarea);
        }
        
        function calculatePoaBudget(poaId) {
            const categories = { intervenciones: 0, obtencion: 0, infraestructura: 0, extension: 0, compras: 0 };
            for (const cat in categories) {
                let subtotal = 0;
                document.querySelectorAll(`.poa-budget-item[data-category="${cat}"][data-poa-id="${poaId}"]`).forEach(input => {
                    const cleanValue = parseFloat(input.value.replace(/\./g, '').replace(',', '.')) || 0;
                    subtotal += cleanValue;
                });
                categories[cat] = subtotal;
                document.getElementById(`subtotal${cat.charAt(0).toUpperCase() + cat.slice(1)}_${poaId}`).textContent = formatNumber(subtotal);
            }
            const totalPoa = Object.values(categories).reduce((sum, val) => sum + val, 0);
            document.getElementById(`totalPoa_${poaId}`).textContent = formatNumber(totalPoa);
        }

        function rebindPoaEventListeners() {
            document.querySelectorAll('#poaContainer .auto-resize-textarea').forEach(textarea => {
                const poaPlaceholder = "Haga clic aquí para escribir texto...";
                textarea.setAttribute('data-placeholder', poaPlaceholder);
                textarea.addEventListener('focus', () => {
                    if (textarea.readOnly) return;
                    if (textarea.value === poaPlaceholder) {
                        textarea.value = '';
                        textarea.classList.remove('textarea-placeholder-style');
                    }
                });
                textarea.addEventListener('blur', () => {
                    if (textarea.readOnly) return;
                    if (textarea.value.trim() === '') {
                        textarea.value = poaPlaceholder;
                        textarea.classList.add('textarea-placeholder-style');
                    }
                });
                textarea.addEventListener('input', () => autoResizeTextarea(textarea));
            });
            document.querySelectorAll('#poaContainer .reuse-text-checkbox').forEach(cb => {
                cb.addEventListener('change', handleReuseTextChange);
                setTimeout(() => cb.dispatchEvent(new Event('change')), 10);
            });
            document.querySelectorAll('.poa-area-input').forEach(input => {
                input.addEventListener('input', validatePoaAreas);
            });
            document.querySelectorAll('.poa-budget-item').forEach(input => {
                input.addEventListener('input', (e) => {
                    e.target.value = e.target.value.replace(/[^0-9,.]/g, '');
                    calculatePoaBudget(input.dataset.poaId)
                });
                input.addEventListener('blur', (e) => {
                    const cleanValue = parseFloat(e.target.value.replace(/\./g, '').replace(',', '.')) || 0;
                     e.target.value = cleanValue > 0 ? formatNumber(cleanValue) : '';
                     if (e.target.value === '' || e.target.value === '0,00') {
                        e.target.placeholder = '-';
                     }
                });
                 input.addEventListener('focus', (e) => {
                    const cleanValue = parseFloat(e.target.value.replace(/\./g, '').replace(',', '.')) || 0;
                    if (cleanValue > 0) {
                        e.target.value = cleanValue.toString().replace('.', ',');
                    } else {
                        e.target.value = '';
                    }
                });
            });
            // --- Inicializar mini-mapas de POA ---
            initPoaMaps();
        }

        // Almacena instancias de mapas POA para no reinicializar
        const poaMapsInstances = {};

        function initPoaMaps() {
            document.querySelectorAll('.poa-map-leaflet').forEach(mapDiv => {
                const poaId = mapDiv.id.replace('poa-map-', '');
                if (poaMapsInstances[poaId]) return; // ya inicializado

                const poaMap = L.map(mapDiv.id, { zoomControl: true }).setView([-28.5, -57.5], 8);
                L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                    attribution: 'Tiles © Esri',
                    crossOrigin: 'anonymous'
                }).addTo(poaMap);
                L.control.scale({ imperial: false, metric: true }).addTo(poaMap);

                poaMapsInstances[poaId] = {
                    map: poaMap,
                    layers: { plan: null, poa: null }
                };

                // Estilos de capas
                const stylePlan = { color: '#06f1f1', weight: 2, opacity: 0.9, fillOpacity: 0.15 };
                const stylePoa  = { color: '#ff6600', weight: 3, opacity: 1,   fillOpacity: 0.25 };

                function showPoaStatus(msg, tipo) {
                    const el = document.getElementById(`poa-map-status-${poaId}`);
                    if (!el) return;
                    el.textContent = msg;
                    el.style.display = 'block';
                    el.style.background = tipo === 'ok' ? '#d4edda' : tipo === 'err' ? '#f8d7da' : '#fff3cd';
                    el.style.color = tipo === 'ok' ? '#155724' : tipo === 'err' ? '#721c24' : '#856404';
                    setTimeout(() => { el.style.display = 'none'; }, 4000);
                }

                function fitPoaMap() {
                    const inst = poaMapsInstances[poaId];
                    const bounds = [];
                    if (inst.layers.plan) bounds.push(inst.layers.plan.getBounds());
                    if (inst.layers.poa)  bounds.push(inst.layers.poa.getBounds());
                    if (bounds.length > 0) {
                        let combined = bounds[0];
                        bounds.forEach(b => { combined = combined.extend(b); });
                        inst.map.fitBounds(combined, {
    paddingTopLeft: [10, 10],
    paddingBottomRight: [400, 10]
});
                    }
                }

                function loadPoaKML(file, layerKey, style, labelName) {
                    if (!file) return;
                    const inst = poaMapsInstances[poaId];
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            if (inst.layers[layerKey]) inst.map.removeLayer(inst.layers[layerKey]);
                            const geojson = omnivore.kml.parse(e.target.result).toGeoJSON();
                            inst.layers[layerKey] = L.geoJSON(geojson, {
                                style: style,
                                onEachFeature: (feature, layer) => {
                                    const name = (feature.properties && feature.properties.name) ? feature.properties.name : labelName;
                                    layer.bindPopup(`<strong>${name}</strong>`);
                                }
                            }).addTo(inst.map);
                            fitPoaMap();
                            showPoaStatus(`✅ Capa "${labelName}" cargada.`, 'ok');
                        } catch(err) {
                            showPoaStatus(`Error al cargar ${labelName}: ` + err.message, 'err');
                        }
                    };
                    reader.readAsText(file);
                }

                // Inputs KML de este POA
                const kmlPlanInput = document.querySelector(`.poa-kml-plan[data-poa="${poaId}"]`);
                const kmlPoaInput  = document.querySelector(`.poa-kml-poa[data-poa="${poaId}"]`);
                if (kmlPlanInput) kmlPlanInput.addEventListener('change', e => loadPoaKML(e.target.files[0], 'plan', stylePlan, 'Plan Técnico'));
                if (kmlPoaInput)  kmlPoaInput.addEventListener('change',  e => loadPoaKML(e.target.files[0], 'poa',  stylePoa,  `Área POA ${poaId}`));

                // Botón ajustar vista
                const fitBtn = document.querySelector(`.poa-map-fit-btn[data-poa="${poaId}"]`);
                if (fitBtn) fitBtn.addEventListener('click', fitPoaMap);

                // Botón limpiar
                const clearBtn = document.querySelector(`.poa-map-clear-btn[data-poa="${poaId}"]`);
                if (clearBtn) clearBtn.addEventListener('click', () => {
                    const inst = poaMapsInstances[poaId];
                    if (inst.layers.plan) { inst.map.removeLayer(inst.layers.plan); inst.layers.plan = null; }
                    if (inst.layers.poa)  { inst.map.removeLayer(inst.layers.poa);  inst.layers.poa  = null; }
                    if (kmlPlanInput) kmlPlanInput.value = '';
                    if (kmlPoaInput)  kmlPoaInput.value  = '';
                    inst.map.setView([-28.5, -57.5], 8);
                    showPoaStatus('Capas eliminadas.', 'info');
                });

                // Invalidar tamaño cuando el <details> se abre (el mapa puede inicializar oculto)
                const detailsEl = mapDiv.closest('details');
                if (detailsEl) {
                    detailsEl.addEventListener('toggle', () => {
                        if (detailsEl.open) {
                            [50, 150, 300, 600, 1200].forEach(delay =>
                                setTimeout(() => poaMap.invalidateSize(), delay)
                            );
                        }
                    });
                }
                // Invalidar tamaño inicial por si ya estaba abierto
                [100, 300, 600, 1200].forEach(delay =>
                    setTimeout(() => poaMap.invalidateSize(), delay)
                );
                // ResizeObserver: detectar cuando el contenedor toma dimensiones reales
                if (typeof ResizeObserver !== 'undefined') {
                    const ro = new ResizeObserver(entries => {
                        for (const entry of entries) {
                            if (entry.contentRect.width > 0 && entry.contentRect.height > 0) {
                                poaMap.invalidateSize();
                            }
                        }
                    });
                    ro.observe(mapDiv);
                    poaMapsInstances[poaId].resizeObserver = ro;
                }
            });
        }

        function validatePoaAreas() {
            const areaTotalPlan = parseFloat(document.getElementById('inputSupAreaProyecto').value) || 0;
            let sumaAreasPoa = 0;
            const poaAreaInputs = document.querySelectorAll('.poa-area-input');
            poaAreaInputs.forEach(input => {
                sumaAreasPoa += parseFloat(input.value) || 0;
                input.style.border = '';
            });
            if (areaTotalPlan > 0 && sumaAreasPoa > (areaTotalPlan + 0.01) ) {
                alert(`¡Advertencia! La suma de las superficies de los POAs (${formatNumber(sumaAreasPoa)}) no debe exceder la Superficie del Área del Proyecto (${formatNumber(areaTotalPlan)}).`);
                poaAreaInputs.forEach(input => { input.style.border = '2px solid orange'; });
                return false;
            }
            return true;
        }
        // --- FIN: LÓGICA PARA POAs DINÁMICOS ---

        function populateSpeciesDropdown() {
            const region = document.getElementById('selEcoregion') ? document.getElementById('selEcoregion').value : '';
            const select = document.getElementById('selEspecie');
            const currentValue = select.value;
            select.innerHTML = '<option value="">Seleccione especie...</option>';
            let source = {};
            if (region && window.speciesFormulasByRegion && window.speciesFormulasByRegion[region]) {
                source = window.speciesFormulasByRegion[region];
            } else {
                source = speciesFormulas;
            }
            const speciesNames = Object.keys(source).sort();
            speciesNames.forEach(name => {
                const option = document.createElement('option');
                option.value = name;
                option.textContent = name + ' (' + (source[name].scientificName || '') + ')';
                select.appendChild(option);
            });
            if (currentValue && source[currentValue]) select.value = currentValue;
        }
        function populateLocationDropdown() { const select = document.getElementById('selectLocalidad'); const locations = Object.keys(locationData).sort(); select.innerHTML = '<option value="">Seleccione una localidad</option>'; locations.forEach(loc => { const option = document.createElement('option'); option.value = loc; option.textContent = loc; select.appendChild(option); }); select.addEventListener('change', () => { const selectedLoc = select.value; const dptoInput = document.getElementById('inputDepartamento'); if (selectedLoc && locationData[selectedLoc]) { dptoInput.value = locationData[selectedLoc].dpto; } else { dptoInput.value = ''; } }); }
        function updateSampledArea() { const uniqueParcels = new Set(enteredTrees.map(tree => tree.parcelaNum)); const totalArea = uniqueParcels.size * 1000; document.getElementById('supParcelasM2').value = totalArea; }
        function addTreeToList() { const especie = document.getElementById('selEspecie').value; const dap = parseFloat(document.getElementById('inputDAP').value); const altTotal = parseFloat(document.getElementById('inputAltTotal').value); const altFuste = parseFloat(document.getElementById('inputAltFuste').value); const parcelaNum = parseInt(document.getElementById('inputParcelaNum').value); if (!especie || isNaN(dap) || isNaN(altTotal) || isNaN(altFuste) || isNaN(parcelaNum)) { alert('Por favor, complete todos los campos del árbol, incluyendo un número de parcela válido.'); return; } if (dap <= 0 || altTotal <= 0 || altFuste < 0 || parcelaNum <= 0) { alert('Los valores de DAP, Altura Total y Parcela deben ser mayores que cero. Altura de Fuste no puede ser negativa.'); return; } if (altFuste > altTotal) { alert('La Altura de Fuste no puede ser mayor que la Altura Total.'); return; } const treeId = Date.now(); enteredTrees.push({ id: treeId, especie, dap, altTotal, altFuste, parcelaNum }); renderEnteredTrees(); clearTreeInput(); updateSampledArea(); }
        function renderEnteredTrees() { const tbody = document.getElementById('enteredTreesTable').querySelector('tbody'); tbody.innerHTML = ''; enteredTrees.forEach((tree, index) => { const row = tbody.insertRow(); row.innerHTML = `<td>${index + 1}</td><td>${tree.especie}</td><td>${formatNumber(tree.dap,1)}</td><td>${formatNumber(tree.altTotal,1)}</td><td>${formatNumber(tree.altFuste,1)}</td><td>${tree.parcelaNum}</td><td class="action_column"><button onclick="removeTree(${tree.id})">Eliminar</button></td>`; }); }
        window.removeTree = function(id) { enteredTrees = enteredTrees.filter(tree => tree.id !== id); renderEnteredTrees(); updateSampledArea(); };
        function clearTreeInput() { document.getElementById('inputDAP').value = ''; document.getElementById('inputAltTotal').value = ''; document.getElementById('inputAltFuste').value = ''; document.getElementById('inputParcelaNum').value = ''; document.getElementById('selEspecie').focus(); }
        function actualizarSuperficientes() { actualizarSuperficiesGenerales(); }
        function actualizarSuperficiesGenerales() {
            const inputSinCat = document.getElementById('inputSinCategorizar');
            const catRojo = parseFloat(document.getElementById('inputCatRojo').value) || 0;
            const catAmarillo = parseFloat(document.getElementById('inputCatAmarillo').value) || 0;
            const catVerde = parseFloat(document.getElementById('inputCatVerde').value) || 0;
            const sinCat = parseFloat(inputSinCat.value) || 0;
            const totalBoscosa = catRojo + catAmarillo + catVerde + sinCat;
            document.getElementById('spanSupBosqueNativo').textContent = formatNumber(totalBoscosa);
            const supPredio = parseFloat(document.getElementById('inputSupPredio').value) || 0;
            inputSinCat.style.border = ''; 
            if (supPredio > 0 && totalBoscosa > (supPredio + 0.001)) {
                 alert(`¡Error de Validación!\n\nLa "Sup. Total Cobertura Boscosa" (${formatNumber(totalBoscosa)}) no puede superar la "Superficie Total del Predio" (${formatNumber(supPredio)}).\n\nPor favor, corrija el valor en 'Sin Categorizar'.`);
                 inputSinCat.style.border = '2px solid red';
            }
        }
        function calculateForestryData() { 
            if (enteredTrees.length === 0) { alert('No se han ingresado árboles. Por favor, agregue datos de inventario.'); return; } 
            const totalSampledAreaM2 = parseFloat(document.getElementById('supParcelasM2').value); 
            if (totalSampledAreaM2 === 0) { alert('El área de muestreo es 0. Asegúrese de que los árboles tengan números de parcela asignados.'); return; } 
            const expansionFactor = 10000 / totalSampledAreaM2; 
            const treesWithCalculations = enteredTrees.map(tree => { 
                const _region = document.getElementById('selEcoregion') ? document.getElementById('selEcoregion').value : '';
                const _fSrc = (_region && window.speciesFormulasByRegion && window.speciesFormulasByRegion[_region]) ? window.speciesFormulasByRegion[_region] : speciesFormulas;
                const formulas = _fSrc[tree.especie];
                if (!formulas) return { ...tree, volFuste: 0, volTotal: 0, areaBasal: 0 };
                const d = tree.dap; const at = tree.altTotal; const af = tree.altFuste;
                let volFuste = (af > 0) ? formulas.volFuste(d, af, at) : 0;
                let volTotal = (at > 0) ? (formulas.volTotal ? formulas.volTotal(d, at) : formulas.volFuste(d, af, at)) : 0; 
                if (volFuste > volTotal) volFuste = volTotal; 
                const areaBasal = Math.PI * (d / 200) ** 2; 
                return { ...tree, volFuste, volTotal, areaBasal }; 
            }); 
            let resultsBySpeciesDAP = {}; 
            treesWithCalculations.forEach(tree => { 
                const dapClass = dapClasses.find(c => tree.dap >= c.min && tree.dap < c.max); 
                if (!dapClass) return; 
                if (!resultsBySpeciesDAP[tree.especie]) { resultsBySpeciesDAP[tree.especie] = {}; } 
                if (!resultsBySpeciesDAP[tree.especie][dapClass.name]) { resultsBySpeciesDAP[tree.especie][dapClass.name] = { count: 0, volFuste: 0, volTotal: 0, areaBasal: 0 }; } 
                resultsBySpeciesDAP[tree.especie][dapClass.name].count++; 
                resultsBySpeciesDAP[tree.especie][dapClass.name].volFuste += tree.volFuste; 
                resultsBySpeciesDAP[tree.especie][dapClass.name].volTotal += tree.volTotal; 
                resultsBySpeciesDAP[tree.especie][dapClass.name].areaBasal += tree.areaBasal; 
            }); 
            resultsBySpeciesDAPGlobal = resultsBySpeciesDAP; 
            renderVolumeTable(resultsBySpeciesDAP, expansionFactor); 
            renderAreaBasalTable(resultsBySpeciesDAP, expansionFactor);
            renderDensityTable(resultsBySpeciesDAP, expansionFactor);
            renderTonsTable(resultsBySpeciesDAP, expansionFactor); 
            renderGeneralStatsTable(resultsBySpeciesDAP, expansionFactor); 
            calculateAndRenderSamplingStats(treesWithCalculations); 
            renderInventoryCharts(resultsBySpeciesDAP, expansionFactor); 
            renderSummaryCharts(resultsBySpeciesDAP, expansionFactor); 
            document.getElementById('inventoryResultsWrapper').style.display = 'block'; 
            document.getElementById('graficosInventarioContainer').style.display = 'grid'; 
        }
        function createDapClassHeader(table, mainTitle, extraColumns = []) { table.innerHTML = ''; const thead = table.createTHead(); const row1 = thead.insertRow(); const th_species = document.createElement('th'); th_species.textContent = 'ESPECIES'; th_species.rowSpan = 3; row1.appendChild(th_species); const th_classes = document.createElement('th'); th_classes.textContent = mainTitle; th_classes.colSpan = dapClasses.length; row1.appendChild(th_classes); extraColumns.forEach(col => { const th = document.createElement('th'); th.textContent = col.title; th.rowSpan = col.rowSpan || 3; row1.appendChild(th); }); const row2 = thead.insertRow(); dapClasses.forEach(c => { const th = document.createElement('th'); th.textContent = c.name.split(' ')[0]; row2.appendChild(th); }); const row3 = thead.insertRow(); dapClasses.forEach(c => { const th = document.createElement('th'); th.textContent = c.label; row3.appendChild(th); }); }
        function renderVolumeTable(data, factor) { const table = document.getElementById('tableVolumen'); createDapClassHeader(table, 'CLASES DIAMETRICAS', [{ title: 'TOTAL', rowSpan: 3 }]); const tbody = table.createTBody(); const tfoot = table.createTFoot().insertRow(); tfoot.insertCell().textContent = 'TOTAL'; const totals = { ...Object.fromEntries(dapClasses.map(c => [c.name, 0])), 'TOTAL': 0 }; for (const especie in data) { const row = tbody.insertRow(); row.insertCell().textContent = especie; let totalEspecie = 0; dapClasses.forEach(dapClass => { const val = data[especie][dapClass.name] ? data[especie][dapClass.name].volFuste * factor : 0; row.insertCell().textContent = formatNumber(val); totalEspecie += val; totals[dapClass.name] += val; }); row.insertCell().textContent = formatNumber(totalEspecie); totals['TOTAL'] += totalEspecie; } dapClasses.forEach(c => tfoot.insertCell().textContent = formatNumber(totals[c.name])); tfoot.insertCell().textContent = formatNumber(totals['TOTAL']); }
        function renderAreaBasalTable(data, factor) { const table = document.getElementById('tableAreaBasal'); createDapClassHeader(table, 'CLASES DIAMETRICAS', [{ title: 'TOTAL', rowSpan: 3 }]); const tbody = table.createTBody(); const tfoot = table.createTFoot().insertRow(); tfoot.insertCell().textContent = 'TOTAL'; const totals = { ...Object.fromEntries(dapClasses.map(c => [c.name, 0])), 'TOTAL': 0 }; for (const especie in data) { const row = tbody.insertRow(); row.insertCell().textContent = especie; let totalEspecie = 0; dapClasses.forEach(dapClass => { const ab = data[especie][dapClass.name] ? data[especie][dapClass.name].areaBasal * factor : 0; row.insertCell().textContent = formatNumber(ab); totalEspecie += ab; totals[dapClass.name] += ab; }); row.insertCell().textContent = formatNumber(totalEspecie); totals['TOTAL'] += totalEspecie; } dapClasses.forEach(c => tfoot.insertCell().textContent = formatNumber(totals[c.name])); tfoot.insertCell().textContent = formatNumber(totals['TOTAL']); }
        function renderDensityTable(data, factor) { const table = document.getElementById('tableDensidad'); createDapClassHeader(table, 'CLASES DIAMETRICAS', [{ title: 'TOTAL', rowSpan: 3 }]); const tbody = table.createTBody(); const tfoot = table.createTFoot().insertRow(); tfoot.insertCell().textContent = 'TOTAL'; const totals = { ...Object.fromEntries(dapClasses.map(c => [c.name, 0])), 'TOTAL': 0 }; for (const especie in data) { const row = tbody.insertRow(); row.insertCell().textContent = especie; let totalEspecie = 0; dapClasses.forEach(dapClass => { const n = data[especie][dapClass.name] ? data[especie][dapClass.name].count * factor : 0; row.insertCell().textContent = formatNumber(n, 0); totalEspecie += n; totals[dapClass.name] += n; }); row.insertCell().textContent = formatNumber(totalEspecie, 0); totals['TOTAL'] += totalEspecie; } dapClasses.forEach(c => tfoot.insertCell().textContent = formatNumber(totals[c.name], 0)); tfoot.insertCell().textContent = formatNumber(totals['TOTAL'], 0); }
        function renderTonsTable(data, factor) { const table = document.getElementById('tableToneladas'); createDapClassHeader(table, 'CLASES DIAMETRICAS', [{ title: 'TOTAL', rowSpan: 3 }]); const tbody = table.createTBody(); const tfoot = table.createTFoot().insertRow(); tfoot.insertCell().textContent = 'TOTAL'; const totals = { ...Object.fromEntries(dapClasses.map(c => [c.name, 0])), 'TOTAL': 0 }; for (const especie in data) { const row = tbody.insertRow(); row.insertCell().textContent = especie;
                const _tRegion = document.getElementById('selEcoregion') ? document.getElementById('selEcoregion').value : '';
                const _tSrc = (_tRegion && window.speciesFormulasByRegion && window.speciesFormulasByRegion[_tRegion]) ? window.speciesFormulasByRegion[_tRegion] : speciesFormulas;
                const pesoEsp = (_tSrc[especie] && _tSrc[especie].pesoEspecifico) ? _tSrc[especie].pesoEspecifico : 0.75; let totalEspecie = 0; dapClasses.forEach(dapClass => { const volTotal = data[especie][dapClass.name] ? data[especie][dapClass.name].volTotal * factor : 0; const tons = volTotal * pesoEsp; row.insertCell().textContent = formatNumber(tons); totalEspecie += tons; totals[dapClass.name] += tons; }); row.insertCell().textContent = formatNumber(totalEspecie); totals['TOTAL'] += totalEspecie; } dapClasses.forEach(c => tfoot.insertCell().textContent = formatNumber(totals[c.name])); tfoot.insertCell().textContent = formatNumber(totals['TOTAL']); }
        function renderGeneralStatsTable(data, factor) { const tbody = document.getElementById('tableEstadisticosGenerales').querySelector('tbody'); tbody.innerHTML = ''; const commercialDapClasses = dapClasses.filter(c => c.min >= 10); let totalN = 0, totalAB = 0, totalVolFuste = 0, totalVolTotal = 0; for (const especie in data) { commercialDapClasses.forEach(dapClass => { const classData = data[especie][dapClass.name]; if (classData) { totalN += classData.count * factor; totalAB += classData.areaBasal * factor; totalVolFuste += classData.volFuste * factor; totalVolTotal += classData.volTotal * factor; } }); } const row = tbody.insertRow(); row.innerHTML = `<td>PROMEDIO</td><td>${formatNumber(totalN)}</td><td>${formatNumber(totalAB)}</td><td>${formatNumber(totalVolFuste)}</td><td>${formatNumber(totalVolTotal)}</td>`; row.style.fontWeight = 'bold'; row.style.backgroundColor = '#e9ecef'; }
        function calculateAndRenderSamplingStats(treesWithCalculations) { const parcels = {}; treesWithCalculations.forEach(tree => { if (!parcels[tree.parcelaNum]) { parcels[tree.parcelaNum] = { nArboles: 0, ab: 0, volFuste: 0, volTotal: 0 }; } parcels[tree.parcelaNum].nArboles++; parcels[tree.parcelaNum].ab += tree.areaBasal; parcels[tree.parcelaNum].volFuste += tree.volFuste; parcels[tree.parcelaNum].volTotal += tree.volTotal; }); const numParcelas = Object.keys(parcels).length; if (numParcelas < 2) { document.getElementById('tableResumenParcelasAB').querySelector('tbody').innerHTML = `<tr><td colspan="3">Se necesitan al menos 2 parcelas para los cálculos estadísticos.</td></tr>`; document.getElementById('tableDetalleParcelasObservado').querySelector('tbody').innerHTML = ''; document.getElementById('tableDetalleParcelasHa').querySelector('tbody').innerHTML = ''; return; } const supParcelaHa = 1000 / 10000; const factorExpansionParcela = 1 / supParcelaHa; const abPorHa = Object.values(parcels).map(p => p.ab * factorExpansionParcela); const mediaAB = abPorHa.reduce((a, b) => a + b, 0) / numParcelas; const varianzaAB = abPorHa.reduce((sum, val) => sum + (val - mediaAB)**2, 0) / (numParcelas - 1); const desvioStdAB = Math.sqrt(varianzaAB); const errorStdAB = desvioStdAB / Math.sqrt(numParcelas); const tValue = getTValue(numParcelas - 1); const limiteErrorAB = tValue * errorStdAB; const errorMuestralAB = (mediaAB > 0) ? (limiteErrorAB / mediaAB) * 100 : 0; const errorObjetivoAB = parseFloat(document.getElementById('inputErrorEstablecidoAB').value) || 15; const intensidadNecesaria = (mediaAB > 0) ? ((tValue * desvioStdAB) / (errorObjetivoAB / 100 * mediaAB))**2 : 0; const tbodyResumen = document.getElementById('tableResumenParcelasAB').querySelector('tbody'); tbodyResumen.innerHTML = `<tr><td>Número de parcelas (n)</td><td>${formatNumber(numParcelas, 0)}</td><td>unid.</td></tr><tr><td>Media Área Basal (AB)</td><td>${formatNumber(mediaAB)}</td><td>m²/ha</td></tr><tr><td>Varianza</td><td>${formatNumber(varianzaAB)}</td><td></td></tr><tr><td>Desvío Estándar</td><td>${formatNumber(desvioStdAB)}</td><td></td></tr><tr><td>Error Estándar</td><td>${formatNumber(errorStdAB)}</td><td></td></tr><tr><td>Límite de Error para la Media</td><td>${formatNumber(limiteErrorAB)}</td><td>m²/ha</td></tr><tr style="font-weight:bold;"><td>Error Muestral (%)</td><td>${formatNumber(errorMuestralAB)}</td><td>%</td></tr><tr><td>Intensidad de Muestreo (n parcelas) para un error del ${errorObjetivoAB}%</td><td>${Math.ceil(intensidadNecesaria)}</td><td>unid.</td></tr>`; const tbodyObs = document.getElementById('tableDetalleParcelasObservado').querySelector('tbody'); const tbodyHa = document.getElementById('tableDetalleParcelasHa').querySelector('tbody'); tbodyObs.innerHTML = ''; tbodyHa.innerHTML = ''; Object.entries(parcels).forEach(([num, data]) => { tbodyObs.insertRow().innerHTML = `<td>${num}</td><td>${data.nArboles}</td><td>${formatNumber(data.ab, 4)}</td><td>${formatNumber(data.volFuste, 4)}</td><td>${formatNumber(data.volTotal, 4)}</td>`; tbodyHa.insertRow().innerHTML = `<td>${num}</td><td>${formatNumber(data.nArboles * factorExpansionParcela)}</td><td>${formatNumber(data.ab * factorExpansionParcela)}</td><td>${formatNumber(data.volFuste * factorExpansionParcela)}</td><td>${formatNumber(data.volTotal * factorExpansionParcela)}</td>`; }); }
        function renderInventoryCharts(data, factor) { const totalsByDAP = {}; dapClasses.forEach(c => { totalsByDAP[c.name] = { vol: 0, ab: 0, n: 0, tons: 0 }; }); for (const especie in data) { const _cRegion = document.getElementById('selEcoregion') ? document.getElementById('selEcoregion').value : '';
            const _cSrc = (_cRegion && window.speciesFormulasByRegion && window.speciesFormulasByRegion[_cRegion]) ? window.speciesFormulasByRegion[_cRegion] : speciesFormulas;
            const pesoEsp = (_cSrc[especie] && _cSrc[especie].pesoEspecifico) ? _cSrc[especie].pesoEspecifico : 0.75; for (const dapClassName in data[especie]) { const classData = data[especie][dapClassName]; totalsByDAP[dapClassName].vol += classData.volFuste; totalsByDAP[dapClassName].ab += classData.areaBasal; totalsByDAP[dapClassName].n += classData.count; totalsByDAP[dapClassName].tons += classData.volTotal * pesoEsp; } } const labels = dapClasses.map(c => c.label); if(chartVolumenClaseDAPInstance) chartVolumenClaseDAPInstance.destroy(); chartVolumenClaseDAPInstance = new Chart(document.getElementById('chartVolumenClaseDAP'), { type: 'bar', data: { labels, datasets: [{ label: 'Volumen Fuste (m³/ha)', data: dapClasses.map(c => (totalsByDAP[c.name].vol * factor).toFixed(2)), backgroundColor: '#36A2EB' }] }, options: { responsive: true, maintainAspectRatio: true } }); if(chartABDensidadClaseDAPInstance) chartABDensidadClaseDAPInstance.destroy(); chartABDensidadClaseDAPInstance = new Chart(document.getElementById('chartABDensidadClaseDAP'), { type: 'bar', data: { labels, datasets: [ { label: 'Área Basal (m²/ha)', data: dapClasses.map(c => (totalsByDAP[c.name].ab * factor).toFixed(2)), backgroundColor: '#FFCE56', yAxisID: 'y' }, { label: 'Densidad (N/ha)', data: dapClasses.map(c => (totalsByDAP[c.name].n * factor).toFixed(2)), backgroundColor: '#4BC0C0', yAxisID: 'y1' } ] }, options: { responsive: true, maintainAspectRatio: true, scales: { y: { type: 'linear', display: true, position: 'left' }, y1: { type: 'linear', display: true, position: 'right', grid: { drawOnChartArea: false } } } } }); if(chartToneladasClaseDAPInstance) chartToneladasClaseDAPInstance.destroy(); chartToneladasClaseDAPInstance = new Chart(document.getElementById('chartToneladasClaseDAP'), { type: 'bar', data: { labels, datasets: [{ label: 'Toneladas Totales (Tn/ha)', data: dapClasses.map(c => (totalsByDAP[c.name].tons * factor).toFixed(2)), backgroundColor: '#FF6384' }] }, options: { responsive: true, maintainAspectRatio: true } }); }
        function renderSummaryCharts(data, factor) { if (Object.keys(data).length === 0) return; const speciesLabels = Object.keys(data).sort(); const volumeBySpeciesData = speciesLabels.map(especie => { let totalVol = 0; for (const dapClass in data[especie]) { totalVol += data[especie][dapClass].volFuste; } return (totalVol * factor).toFixed(2); }); const densityBySpeciesData = speciesLabels.map(especie => { let totalCount = 0; for (const dapClass in data[especie]) { totalCount += data[especie][dapClass].count; } return (totalCount * factor).toFixed(2); }); const dapDistributionData = dapClasses.map(dapClass => { let totalInClass = 0; speciesLabels.forEach(especie => { if (data[especie][dapClass.name]) { totalInClass += data[especie][dapClass.name].count; } }); return (totalInClass * factor).toFixed(0); }); document.getElementById('graficosContainer').style.display = 'block'; if (chartVolumenEspecieInstance) chartVolumenEspecieInstance.destroy(); chartVolumenEspecieInstance = new Chart(document.getElementById('chartVolumenPorEspecie'), { type: 'bar', data: { labels: speciesLabels, datasets: [{ label: 'Volumen Fuste (m³/ha)', data: volumeBySpeciesData, backgroundColor: '#28a745' }] }, options: { responsive: true, maintainAspectRatio: true, indexAxis: 'y' } }); if (chartDensidadEspecieInstance) chartDensidadEspecieInstance.destroy(); chartDensidadEspecieInstance = new Chart(document.getElementById('chartDensidadPorEspecie'), { type: 'bar', data: { labels: speciesLabels, datasets: [{ label: 'Densidad (Arb/ha)', data: densityBySpeciesData, backgroundColor: '#ffc107' }] }, options: { responsive: true, maintainAspectRatio: true, indexAxis: 'y' } }); if (chartDistribucionDAPInstance) chartDistribucionDAPInstance.destroy(); chartDistribucionDAPInstance = new Chart(document.getElementById('chartDistribucionDAP'), { type: 'bar', data: { labels: dapClasses.map(c => c.label), datasets: [{ label: 'Número de Árboles por Hectárea', data: dapDistributionData, backgroundColor: '#6c757d' }] }, options: { responsive: true, maintainAspectRatio: true } }); }
        function renderPlanillaCampo(trees) { const tbody = document.getElementById('tablePlanillaCampo').querySelector('tbody'); tbody.innerHTML = ''; trees.forEach((tree, index) => { const formula = speciesFormulas[tree.especie]; const scientificName = formula ? formula.scientificName : 'N/A'; const row = tbody.insertRow(); row.innerHTML = `<td>${index + 1}</td><td>${tree.especie} (${scientificName})</td><td>${formatNumber(tree.dap,1)}</td><td>${formatNumber(tree.altTotal,1)}</td><td>${formatNumber(tree.altFuste,1)}</td><td>${tree.parcelaNum}</td>`; }); }
        
        function prepararImpresion() {
            if (!document.getElementById('checkAceptoDDJJ').checked) { alert('Debe aceptar los términos de la Declaración Jurada antes de imprimir.'); return; }
            if(!validatePoaAreas()) { alert('No se puede imprimir. La suma de las superficies de los POAs excede la superficie total del plan. Por favor, corrija los valores.'); return; }

            // Asegurar que el bloque de firmas DDJJ esté visible al imprimir
            const firmasDDJJEl = document.getElementById('firmas-section-ddjj');
            if (firmasDDJJEl) firmasDDJJEl.style.display = 'block';

            alert("Se abrirá el diálogo de impresión. Para guardar como PDF, seleccione 'Guardar como PDF' o 'Microsoft Print to PDF' en el destino de la impresora.");
            
            

            // Poblar firmas Declaración Jurada
            (function() {
                var checkNoAplica = document.getElementById('checkRepLegalNoAplica');
                var esNoAplica = checkNoAplica ? checkNoAplica.checked : false;
                var titularNombre = esNoAplica
                    ? (document.getElementById('inputTitularProyectoNombre') ? document.getElementById('inputTitularProyectoNombre').value : '')
                    : (document.getElementById('inputRepLegalNombre') ? document.getElementById('inputRepLegalNombre').value : '');
                var titularCuit = esNoAplica
                    ? (document.getElementById('inputTitularProyectoCUIT') ? document.getElementById('inputTitularProyectoCUIT').value : '')
                    : (document.getElementById('inputRepLegalDNI') ? document.getElementById('inputRepLegalDNI').value : '');
                var tecnicoNombre = document.getElementById('inputTecnicoNombre') ? document.getElementById('inputTecnicoNombre').value : '';
                var tecnicoMat   = document.getElementById('inputTecnicoMatricula') ? document.getElementById('inputTecnicoMatricula').value : '';
                var estab  = document.getElementById('inputEstablecimiento') ? document.getElementById('inputEstablecimiento').value : '';
                var partida = document.getElementById('inputPartidaInmobiliaria') ? document.getElementById('inputPartidaInmobiliaria').value : '';
                var depto  = document.getElementById('inputDepartamento') ? document.getElementById('inputDepartamento').value : '';
                var set = function(id, val) { var el = document.getElementById(id); if(el) el.textContent = val || '................................'; };
                set('ddjjFirmaTitularNombre', titularNombre);
                set('ddjjFirmaTitularCuit', titularCuit);
                set('ddjjFirmaTecnicoNombre', tecnicoNombre);
                set('ddjjFirmaTecnicoMatricula', tecnicoMat);
                set('ddjjFirmaEstablecimiento', estab);
                set('ddjjFirmaPartida', partida);
                set('ddjjFirmaDepartamento', depto);
            })();

            // Populate global header/footer data
            document.getElementById('pageFooterEstablecimiento').textContent = document.getElementById('inputEstablecimiento').value || " ";
            document.getElementById('pageFooterPartida').textContent = document.getElementById('inputPartidaInmobiliaria').value || " ";
            document.getElementById('pageFooterDepartamento').textContent = document.getElementById('inputDepartamento').value || " ";
            const printDateSpanGlobal = document.getElementById('printDateGlobal');
            const today = new Date();
            printDateSpanGlobal.textContent = 'Fecha de emisión: ' + today.toLocaleDateString('es-ES', { day: '2-digit', month: 'long', year: 'numeric' });
            const datosPredioDiv = document.getElementById('datosPredioParaImprimir');
            datosPredioDiv.innerHTML = `<p><strong>Establecimiento:</strong> ${document.getElementById('inputEstablecimiento').value || "-"} | <strong>Partida:</strong> ${document.getElementById('inputPartidaInmobiliaria').value || "-"} | <strong>Departamento:</strong> ${document.getElementById('inputDepartamento').value || "-"}</p>`;
            
            document.querySelectorAll('.auto-resize-textarea').forEach(textarea => { 
                const printDiv = document.getElementById('print-' + textarea.id); 
                if(printDiv) { 
                    const placeholderText = textarea.getAttribute('data-placeholder');
                    printDiv.textContent = (textarea.value.trim() === placeholderText || textarea.value.trim() === '') ? '' : textarea.value;
                }
            });
            
            renderPlanillaCampo(enteredTrees);

            // Abrir todos los POA details y refrescar mapas Leaflet antes de imprimir
            document.querySelectorAll('#poaContainer details').forEach(d => { d.open = true; });
            Object.values(poaMapsInstances).forEach(inst => {
                try { inst.map.invalidateSize(); } catch(e) {}
            });
            // Pausa para que los tiles terminen de cargar
            setTimeout(() => { window.print(); }, 1200);
        }
        function clearCalculations() { 
            const tablesToClear = ['tableVolumen', 'tableAreaBasal', 'tableDensidad', 'tableToneladas', 'tableResumenParcelasAB', 'tableDetalleParcelasObservado', 'tableDetalleParcelasHa']; 
            tablesToClear.forEach(id => { const table = document.getElementById(id); if (table) table.innerHTML = ''; }); 
            document.getElementById('tableEstadisticosGenerales').querySelector('tbody').innerHTML = ''; 
            if(chartVolumenClaseDAPInstance) chartVolumenClaseDAPInstance.destroy(); if(chartABDensidadClaseDAPInstance) chartABDensidadClaseDAPInstance.destroy(); if(chartToneladasClaseDAPInstance) chartToneladasClaseDAPInstance.destroy(); 
            if(chartVolumenEspecieInstance) chartVolumenEspecieInstance.destroy(); if(chartDensidadEspecieInstance) chartDensidadEspecieInstance.destroy(); if(chartDistribucionDAPInstance) chartDistribucionDAPInstance.destroy(); 
            document.getElementById('graficosContainer').style.display = 'none'; document.getElementById('inventoryResultsWrapper').style.display = 'none'; document.getElementById('graficosInventarioContainer').style.display = 'none'; 
            resultsBySpeciesDAPGlobal = {}; 
            alert('Todos los cálculos y tablas generadas han sido borrados.'); 
        }
        function clearAllInputs() {
            if (confirm('¿Está seguro que desea borrar TODOS los datos ingresados en el formulario, incluyendo la lista de árboles? Esta acción no se puede deshacer.')) {
                document.querySelectorAll('input[type="text"], input[type="number"], input[type="email"], input[type="tel"], select, textarea').forEach(el => {
                    if (el.readOnly || el.id === 'inputProvincia') return;
                    if (el.type === 'checkbox') { el.checked = false; }
                    else if (el.tagName.toLowerCase() === 'textarea') { el.value = ''; } 
                    else { el.value = el.type === 'number' ? '0' : ''; }
                });
                document.getElementById('inputProvincia').value = "CORRIENTES";
                document.getElementById('selectTipoPlan').value = "conservacion_restauracion";
                document.getElementById('inputNumPoas').value = '0';
                poaContainer.innerHTML = '';
                enteredTrees = [];
                renderEnteredTrees();
                updateSampledArea();
                document.getElementById('btn-map-clear').click();
                setupStaticTextareas(); // Re-initialize placeholder texts
                alert('Todos los datos de entrada han sido borrados.');
            }
        }
        
        // --- Mostrar bloque de firmas DDJJ solo al aceptar la declaración ---
        (function() {
            var checkDDJJ = document.getElementById('checkAceptoDDJJ');
            var firmasDDJJ = document.getElementById('firmas-section-ddjj');
            if (checkDDJJ && firmasDDJJ) {
                firmasDDJJ.style.display = 'none';
                checkDDJJ.addEventListener('change', function() {
                    firmasDDJJ.style.display = this.checked ? 'block' : 'none';
                });
            }
        })();

        // --- Event Listeners ---
        document.getElementById('btnAddTree').addEventListener('click', addTreeToList);
        document.getElementById('btnCalcularDatosForestales').addEventListener('click', calculateForestryData);
        document.getElementById('btnImprimirPDF').addEventListener('click', prepararImpresion);
        document.getElementById('btnBorrarCalculosGenerados').addEventListener('click', clearCalculations);
        document.getElementById('btnBorrarDatosIngresados').addEventListener('click', clearAllInputs);
        document.getElementById('checkMismoTitularProyecto').addEventListener('change', (e) => { const fields = [ { from: 'inputTitular', to: 'inputTitularProyectoNombre' }, { from: 'inputDNI', to: 'inputTitularProyectoCUIT' }, { from: 'inputTitularDomicilio', to: 'inputTitularProyectoDomicilio' }, { from: 'inputTitularTelefono', to: 'inputTitularProyectoTelefono' }, { from: 'inputTitularEmail', to: 'inputTitularProyectoEmail' } ]; fields.forEach(f => { const toEl = document.getElementById(f.to); toEl.value = e.target.checked ? document.getElementById(f.from).value : ''; toEl.readOnly = e.target.checked; }); });
        document.getElementById('checkRepLegalNoAplica').addEventListener('change', (e) => { const fields = ['inputRepLegalNombre', 'inputRepLegalDNI', 'inputRepLegalCargo', 'inputRepLegalDomicilio', 'inputRepLegalTelefono']; fields.forEach(id => { const el = document.getElementById(id); el.value = ''; el.disabled = e.target.checked; }); });
        document.getElementById('inputSinCategorizar').addEventListener('input', actualizarSuperficientes);
        document.getElementById('inputPlanSinCategorizar').addEventListener('input', validatePlanSurfaces);
        document.getElementById('inputNumPoas').addEventListener('change', generatePoaSections);
        document.getElementById('inputErrorEstablecidoAB').addEventListener('input', () => { if (enteredTrees.length > 0) { const treesWithCalculations = enteredTrees.map(t => ({...t, areaBasal: Math.PI * (t.dap / 200) ** 2})); calculateAndRenderSamplingStats(treesWithCalculations); } });

        // --- Listener carga Excel ---
        document.getElementById('inputCargarExcel').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;
            if (typeof XLSX === 'undefined') {
                mostrarEstadoCarga('Error: librería SheetJS no disponible. Verifique su conexión.', 'error');
                return;
            }
            mostrarEstadoCarga('Procesando archivo...', 'info');
            const reader = new FileReader();
            reader.onload = function(evt) {
                try {
                    const data = new Uint8Array(evt.target.result);
                    const workbook = XLSX.read(data, { type: 'array' });

                    let sheetName = 'INVENTARIO';
                    if (!workbook.SheetNames.includes(sheetName)) {
                        sheetName = workbook.SheetNames[0];
                    }
                    const ws = workbook.Sheets[sheetName];
                    const rows = XLSX.utils.sheet_to_json(ws, { header: 1, defval: '' });

                    if (rows.length < 2) {
                        mostrarEstadoCarga('El archivo no contiene datos suficientes.', 'error');
                        return;
                    }

                    let headerRow = -1;
                    let colEspecie = -1, colDAP = -1, colAltTotal = -1, colAltFuste = -1, colParcela = -1;

                    for (let r = 0; r < Math.min(rows.length, 10); r++) {
                        const row = rows[r].map(c => String(c).trim().toUpperCase());
                        const espIdx = row.findIndex(c => c.includes('ESPECIE'));
                        if (espIdx >= 0) {
                            headerRow = r;
                            colEspecie = espIdx;
                            colDAP = row.findIndex(c => c.includes('DAP'));
                            colAltTotal = row.findIndex(c => c.includes('ALT') && c.includes('TOTAL'));
                            colAltFuste = row.findIndex(c => c.includes('ALT') && c.includes('FUSTE'));
                            colParcela = row.findIndex(c => c.includes('PARCELA'));
                            break;
                        }
                    }

                    if (headerRow < 0 || colEspecie < 0) {
                        mostrarEstadoCarga('No se encontró la columna ESPECIE en los encabezados. Verifique que está usando la planilla oficial.', 'error');
                        return;
                    }
                    if (colDAP < 0 || colAltTotal < 0 || colAltFuste < 0 || colParcela < 0) {
                        mostrarEstadoCarga(`Columnas faltantes. DAP:${colDAP>=0?'OK':'falta'}, Alt.Total:${colAltTotal>=0?'OK':'falta'}, Alt.Fuste:${colAltFuste>=0?'OK':'falta'}, Parcela:${colParcela>=0?'OK':'falta'}`, 'error');
                        return;
                    }

                    const _impRegion = document.getElementById('selEcoregion') ? document.getElementById('selEcoregion').value : '';
                    const _impSrc = (_impRegion && window.speciesFormulasByRegion && window.speciesFormulasByRegion[_impRegion])
                        ? window.speciesFormulasByRegion[_impRegion] : speciesFormulas;
                    const validSpecies = new Set(Object.keys(_impSrc));
                    const newTrees = [];
                    const errors = [];

                    for (let r = headerRow + 1; r < rows.length; r++) {
                        const row = rows[r];
                        const especie = String(row[colEspecie] || '').trim();
                        if (!especie) continue;

                        const dap = parseFloat(String(row[colDAP]).replace(',', '.'));
                        const altTotal = parseFloat(String(row[colAltTotal]).replace(',', '.'));
                        const altFuste = parseFloat(String(row[colAltFuste]).replace(',', '.'));
                        const parcelaNum = parseInt(String(row[colParcela]));

                        if (!validSpecies.has(especie)) {
                            // Intentar extraer nombre científico entre paréntesis: "Nombre vulgar (Nombre científico)"
                            const matchParen = especie.match(/\(([^)]+)\)\s*$/);
                            const alternativo = matchParen ? matchParen[1].trim() : null;
                            if (alternativo && validSpecies.has(alternativo)) {
                                if (isNaN(dap) || dap <= 0) { errors.push(`Fila ${r+1}: DAP inválido.`); continue; }
                                if (isNaN(altTotal) || altTotal <= 0) { errors.push(`Fila ${r+1}: Alt. Total inválida.`); continue; }
                                if (isNaN(altFuste) || altFuste < 0) { errors.push(`Fila ${r+1}: Alt. Fuste inválida.`); continue; }
                                if (isNaN(parcelaNum) || parcelaNum <= 0) { errors.push(`Fila ${r+1}: Parcela N° inválida.`); continue; }
                                if (altFuste > altTotal) { errors.push(`Fila ${r+1}: Alt. Fuste > Alt. Total.`); continue; }
                                newTrees.push({ id: Date.now() + r, especie: alternativo, dap, altTotal, altFuste, parcelaNum });
                                continue;
                            }
                            errors.push(`Fila ${r+1}: Especie "${especie}" no reconocida.`); continue;
                        }
                        if (isNaN(dap) || dap <= 0) { errors.push(`Fila ${r+1}: DAP inválido.`); continue; }
                        if (isNaN(altTotal) || altTotal <= 0) { errors.push(`Fila ${r+1}: Alt. Total inválida.`); continue; }
                        if (isNaN(altFuste) || altFuste < 0) { errors.push(`Fila ${r+1}: Alt. Fuste inválida.`); continue; }
                        if (isNaN(parcelaNum) || parcelaNum <= 0) { errors.push(`Fila ${r+1}: Parcela N° inválida.`); continue; }
                        if (altFuste > altTotal) { errors.push(`Fila ${r+1}: Alt. Fuste > Alt. Total.`); continue; }

                        newTrees.push({ id: Date.now() + r, especie, dap, altTotal, altFuste, parcelaNum });
                    }

                    if (newTrees.length === 0) {
                        mostrarEstadoCarga(`No se importó ningún árbol válido. ${errors.length > 0 ? 'Primeros errores: ' + errors.slice(0,3).join(' | ') : ''}`, 'error');
                        return;
                    }

                    enteredTrees.push(...newTrees);
                    renderEnteredTrees();
                    updateSampledArea();
                    document.getElementById('btnLimpiarCargaExcel').style.display = 'inline-block';

                    let msg = `✅ Se importaron ${newTrees.length} árbol(es). Total en lista: ${enteredTrees.length}.`;
                    if (errors.length > 0) msg += ` ⚠️ ${errors.length} fila(s) omitidas por errores.`;
                    mostrarEstadoCarga(msg, 'success');

                } catch(err) {
                    mostrarEstadoCarga('Error al leer el archivo: ' + err.message, 'error');
                }
            };
            reader.readAsArrayBuffer(file);
        });

        // --- Inicialización ---
        populateSpeciesDropdown();

        // --- Listener selector de ecorregión ---
        const selEcoregion = document.getElementById('selEcoregion');
        if (selEcoregion) {
            selEcoregion.addEventListener('change', function() {
                const region = this.value;
                const badge = document.getElementById('ecoregionBadge');
                const warning = document.getElementById('ecoregionWarning');
                const labels = { ESP: 'Espinal', PCH: 'Parque Chaqueño', SPA: 'Selva Paranaense' };
                if (region && labels[region]) {
                    badge.textContent = '✓ ' + labels[region];
                    badge.style.display = 'inline-block';
                    warning.style.display = 'none';
                } else {
                    badge.style.display = 'none';
                    warning.style.display = 'none';
                }
                populateSpeciesDropdown();
                if (typeof enteredTrees !== 'undefined' && enteredTrees.length > 0) {
                    alert('⚠️ Ha cambiado la ecorregión. Las fórmulas de volumen se actualizaron. Los árboles ya ingresados se recalcularán al presionar "Calcular Datos Forestales".');
                }
            });
            document.getElementById('ecoregionWarning').style.display = 'block';
        }

        populateLocationDropdown(); 
        actualizarSuperficientes(); 
        updateSampledArea();
        });

        // ===== FUNCIONES PARA PLANILLA EXCEL (SheetJS) =====

        function _describirFusteXLS(fn) {
            try {
                var s = fn.toString();

                // ── Fórmulas regionales (speciesFormulasByRegion) ────────────────
                // Lineales DAP²  →  V = a + b·DAP²
                var mLineal = s.match(/=>\s*([+-]?\s*[\d.]+)\s*\+\s*([\d.]+)\s*\*\s*d\s*\*\*\s*2\s*$/);
                if (mLineal) {
                    var a = parseFloat(mLineal[1].replace(/\s/g,''));
                    var b = parseFloat(mLineal[2]);
                    return 'V = ' + a.toFixed(5) + ' + ' + b.toFixed(8) + '·DAP²';
                }
                // Polynomial DAP²·hf  → división /1000
                if (s.indexOf('1,5336') >= 0 || s.indexOf('1.5336') >= 0)
                    return 'V = (-1.5336 + 0.0525·DAP² + 0.0569·DAP²·hf + 0.0161·DAP·hf²) / 1000';
                // Potencial con at  →  (a·DAP^b·ht^c) / 1000
                if (s.indexOf('0.04076') >= 0 && s.indexOf('2.01848') >= 0)
                    return 'V = (0.04076·DAP^2.01848·ht^0.98123) / 1000';
                // Exponencial compleja con ln(hf)²
                if (s.indexOf('-3.27947') >= 0 || s.indexOf('3,27947') >= 0)
                    return 'V = exp(-3.27947 - 0.07343·ln(hf)² + 1.05804·ln(DAP²·hf)) / 1000';
                // ESP lineal DAP  →  V = a + b·DAP
                var mLinealD = s.match(/=>\s*([+-]?[\d.]+)\s*\+\s*([\d.]+)\s*\*\s*d\s*[^*]/);
                if (mLinealD && s.indexOf('d**2') < 0 && s.indexOf('d * d') < 0)
                    return 'V = ' + mLinealD[1] + ' + ' + mLinealD[2] + '·DAP';
                // PCH: Caldén con área basal
                if (s.indexOf('AB') >= 0 && s.indexOf('1.5') >= 0)
                    return 'V = a·AB - b·AB^1.5 + c·AB·ht';
                // Holocalyx SPA
                if (s.indexOf('0.002525') >= 0)
                    return 'V = 0.002525 + 0.000049775·DAP²·hf';
                // Zanthoxylum polynomial /1000
                if (s.indexOf('/ 1000') >= 0 && s.indexOf('d**2') >= 0 && s.indexOf('d**3') >= 0)
                    return 'V = (a·DAP² + b·DAP³) / 1000';

                // ── Fórmulas originales (speciesFormulas genérico) ───────────────
                if (s.indexOf('-9.5086+2.0041') >= 0 && s.indexOf('0.973*Math.log(af)') >= 0)
                    return 'ln(V) = -9.5086 + 2.0041·ln(d) + 0.973·ln(hf)';
                if (s.indexOf('-9.5086') >= 0)
                    return 'ln(V) = -9.5086 + 2.0041·ln(d) + 0.973·ln(hf)';
                if (s.indexOf('-9.39969+1.9797') >= 0)
                    return 'ln(V) = -9.39969 + 1.9797·ln(d) + 0.939584·ln(hf)';
                if (s.indexOf('-9.22955+1.933161') >= 0)
                    return 'ln(V) = -9.22955 + 1.933161·ln(d) + 0.901548·ln(hf)';
                if (s.indexOf('-9.44933+0.983515') >= 0)
                    return 'ln(V) = -9.44933 + 0.983515·ln(d²·hf)';
                if (s.indexOf('-9.18113+0.950324') >= 0)
                    return 'ln(V) = -9.18113 + 0.950324·ln(d²·hf)';
                if (s.indexOf('-8.3864+0.0551011') >= 0)
                    return 'ln(V) = -8.3864 + 0.0551011·d - 0.000533799·d² - 0.159762·hf + 1.34969·ln(d·hf)';
                if (s.indexOf('0.000033 * d**2.3455') >= 0 || s.indexOf('0.000033*d**2.3455') >= 0)
                    return 'V = 0.000033 · d^2.3455 · ht^0.687553';
                if (s.indexOf('-9.49642') >= 0)
                    return 'ln(V) = -9.49642 - 0.00145081·d + 0.824921·ln(d²·hf) + 0.366708·ln(d·hf)';

                // Fallback: devolver la función como texto limpio
                return s.replace(/^\s*\(.*?\)\s*=>\s*/, '').trim().substring(0, 80);
            } catch(e) { return 'Ver código fuente'; }
        }
        function _describirTotalXLS(fn) {
            if (!fn) return '-';
            try {
                var s = fn.toString();
                if (s.indexOf('0.000033 * d**2.3455') >= 0 || s.indexOf('0.000033*d**2.3455') >= 0)
                    return 'V = 0.000033 · d^2.3455 · ht^0.687553';
                if (s.indexOf('-10.78979') >= 0)
                    return 'ln(V) = -10.78979 + 1.07129·ln(d²·ht)';
                if (s.indexOf('-10.976') >= 0)
                    return 'ln(V) = -10.976 + 1.11062·ln(d²·ht)';
                if (s.indexOf('-10.79166') >= 0)
                    return 'ln(V) = -10.79166 + 1.091557·ln(d²·ht)';
                // Regionales: volTotal = mismo que volFuste (misma lambda) — describir igual
                return _describirFusteXLS(fn);
            } catch(e) { return 'Ver código fuente'; }
        }

        function descargarPlanillaExcel() {
            try {
                if (typeof XLSX === 'undefined') {
                    alert('Error: la librería SheetJS no está disponible.\nVerifique su conexión a internet y recargue la página.');
                    return;
                }

                // Determinar fuente de especies según ecorregión
                var selEco = document.getElementById('selEcoregion');
                var region = selEco ? selEco.value : '';
                var fuenteEspecies = (region && window.speciesFormulasByRegion && window.speciesFormulasByRegion[region])
                    ? window.speciesFormulasByRegion[region]
                    : (window._speciesFormulasGlobal || {});

                var etiquetaRegion = { ESP: 'Espinal (ESP)', PCH: 'Parque Chaqueño (PCH)', SPA: 'Selva Paranaense (SPA)' }[region] || 'General (fórmulas originales)';
                var nombreArchivo = region ? ('Planilla_Inventario_Conservacion_' + region + '.xlsx') : 'Planilla_Inventario_Conservacion.xlsx';

                var wb = XLSX.utils.book_new();

                // ── Hoja INSTRUCCIONES ──────────────────────────────────────
                var instrData = [
                    ['PLANILLA DE INVENTARIO FORESTAL - PLAN DE CONSERVACIÓN'],
                    ['INSTRUCCIONES DE USO'],
                    ['', 'Ecorregión aplicada: ' + etiquetaRegion],
                    ['', 'Fuente de ecuaciones: Segundo Inventario Nacional de Bosques Nativos (PINBN)'],
                    ['1.', 'Vaya a la hoja INVENTARIO para ingresar los datos de los árboles medidos.'],
                    ['2.', 'Cada fila representa un árbol individual del inventario.'],
                    ['3.', 'El campo ESPECIE debe coincidir EXACTAMENTE con los nombres de la hoja ESPECIES_VALIDAS.'],
                    ['4.', 'El campo PARCELA N° es obligatorio e indica a qué parcela pertenece el árbol (número entero positivo).'],
                    ['5.', 'Los valores de DAP, Alt. Total y Alt. Fuste deben ser números positivos en cm/metros.'],
                    ['6.', 'Alt. Fuste no puede ser mayor que Alt. Total.'],
                    ['7.', 'Una vez completada, GUARDE el archivo y cárguelo desde la página web usando el botón Cargar Planilla Excel.'],
                    ['8.', 'No modifique la estructura de columnas ni los nombres de los encabezados.'],
                    ['9.', '⚠ La ecorregión de la planilla debe coincidir con la seleccionada en la web al momento de cargar.'],
                ];
                var wsInst = XLSX.utils.aoa_to_sheet(instrData);
                wsInst['!cols'] = [{ wch: 5 }, { wch: 90 }];
                XLSX.utils.book_append_sheet(wb, wsInst, 'INSTRUCCIONES');

                // ── Hoja INVENTARIO ─────────────────────────────────────────
                var invHeaders = ['N°', 'ESPECIE', 'NOMBRE VULGAR (referencia)', 'DAP (cm)', 'ALT. TOTAL (m)', 'ALT. FUSTE (m)', 'PARCELA N° (Obligatorio)'];
                var invData = [invHeaders];
                for (var i = 1; i <= 200; i++) invData.push([i, '', '', '', '', '', '']);
                var wsInv = XLSX.utils.aoa_to_sheet(invData);
                wsInv['!cols'] = [{ wch: 6 }, { wch: 42 }, { wch: 30 }, { wch: 12 }, { wch: 14 }, { wch: 14 }, { wch: 18 }];
                XLSX.utils.book_append_sheet(wb, wsInv, 'INVENTARIO');

                // ── Hoja ESPECIES_VALIDAS ───────────────────────────────────
                var spData = [['NOMBRE CIENTÍFICO (usar en planilla)', 'NOMBRE VULGAR (referencia)', 'Ecorregión']];
                Object.keys(fuenteEspecies).sort().forEach(function(key) {
                    spData.push([key, fuenteEspecies[key].scientificName || '', etiquetaRegion]);
                });
                var wsSp = XLSX.utils.aoa_to_sheet(spData);
                wsSp['!cols'] = [{ wch: 48 }, { wch: 40 }, { wch: 28 }];
                XLSX.utils.book_append_sheet(wb, wsSp, 'ESPECIES_VALIDAS');

                // ── Hoja FORMULAS_VOLUMEN ───────────────────────────────────
                var fvData = [['ESPECIE (Nombre Científico)', 'NOMBRE VULGAR', 'ECUACIÓN VOLUMEN DE FUSTE', 'Ecorregión', 'Fuente: Segundo Inventario Nacional de Bosques Nativos (PINBN) | DAP=diám. altura pecho (cm), LF=long. fuste (m), H=alt. total (m), V=vol. (m³)']];
                var textoRegionFV = region && window.ecuacionesTexto && window.ecuacionesTexto[region]
                    ? window.ecuacionesTexto[region] : null;
                Object.keys(fuenteEspecies).sort().forEach(function(key) {
                    var sp = fuenteEspecies[key];
                    var ecuacionTexto = (textoRegionFV && textoRegionFV[key])
                        ? textoRegionFV[key].ecuacion
                        : (sp.volFuste ? _describirFusteXLS(sp.volFuste) : '-');
                    fvData.push([
                        key,
                        sp.scientificName || '',
                        ecuacionTexto,
                        etiquetaRegion
                    ]);
                });
                var wsFv = XLSX.utils.aoa_to_sheet(fvData);
                wsFv['!cols'] = [{ wch: 45 }, { wch: 32 }, { wch: 65 }, { wch: 28 }, { wch: 72 }];
                XLSX.utils.book_append_sheet(wb, wsFv, 'FORMULAS_VOLUMEN');

                XLSX.writeFile(wb, nombreArchivo);

            } catch(err) {
                alert('Error al generar la planilla: ' + err.message + '\n\nVerifique que SheetJS esté cargado (requiere conexión a internet).');
                console.error('descargarPlanillaExcel error:', err);
            }
        }

        function mostrarEstadoCarga(mensaje, tipo) {
            const el = document.getElementById('excelUploadStatus');
            el.style.display = 'block';
            el.style.backgroundColor = tipo === 'success' ? '#d4edda' : tipo === 'error' ? '#f8d7da' : '#fff3cd';
            el.style.color = tipo === 'success' ? '#155724' : tipo === 'error' ? '#721c24' : '#856404';
            el.style.border = `1px solid ${tipo === 'success' ? '#c3e6cb' : tipo === 'error' ? '#f5c6cb' : '#ffeeba'}`;
            el.textContent = mensaje;
        }

        function limpiarCargaExcel() {
            document.getElementById('inputCargarExcel').value = '';
            document.getElementById('excelUploadStatus').style.display = 'none';
            document.getElementById('btnLimpiarCargaExcel').style.display = 'none';
        }

        // ===== FIN FUNCIONES EXCEL =====
    </script>
</body>
</html>

      
                                


      
                                
